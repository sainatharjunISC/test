(self.webpackChunklms=self.webpackChunklms||[]).push([[179],{3887:(wt,we,J)=>{"use strict";J.d(we,{gw:()=>Le,Ky:()=>Ne,Z4:()=>se,Wn:()=>$e,Vq:()=>Oe,HU:()=>Ue,Fx:()=>Re,Dp:()=>Me,ss:()=>ke,pX:()=>B});var k=J(1223),d=J(9808),Se=J(4408),ae=J(640);const ye=new class je extends ae.v{}(class Ae extends Se.o{constructor(A,F){super(A,F),this.scheduler=A,this.work=F}schedule(A,F=0){return F>0?super.schedule(A,F):(this.delay=F,this.state=A,this.scheduler.flush(this),this)}execute(A,F){return F>0||this.closed?super.execute(A,F):this._execute(A,F)}requestAsyncId(A,F,$=0){return null!=$&&$>0||null==$&&this.delay>0?super.requestAsyncId(A,F,$):A.flush(this)}});var ge=J(4986),V=J(8306),Q=J(8505),me=J(9468),De=J(5363);const se=new k.OlP("angularfire2.realtimeDatabaseURL"),Le=se;function ze(){}class Me{constructor(A,F=ye){this.zone=A,this.delegate=F}now(){return this.delegate.now()}schedule(A,F,$){const j=this.zone;return this.delegate.schedule(function(te){j.runGuarded(()=>{A.apply(this,[te])})},F,$)}}class Re{constructor(A){this.zone=A,this.task=null}call(A,F){const $=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ze,{},ze,ze)),F.pipe((0,Q.b)($,$,$)).subscribe(A).add($)}unscheduleTask(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}class Ue{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new Me(Zone.current)),this.insideAngular=A.run(()=>new Me(Zone.current,ge.z))}}function ke(U,A){return function($){return(0,d.PM)(A)&&($=$.lift(new Re(U.ngZone))),$.pipe((0,me.R)(U.outsideAngular),(0,De.Q)(U.insideAngular))}}const Oe=U=>A=>new V.y(F=>U.runOutsideAngular(()=>{$e(U)(A).subscribe(F)})),$e=U=>A=>new V.y(F=>A.subscribe($=>U.run(()=>F.next($)),$=>U.run(()=>F.error($)),()=>U.run(()=>F.complete())));class Ne{constructor(A,F){this.zone=A,this.platformId=F}schedule(...A){return this.zone.runGuarded(function(){return ye.schedule.apply(ye,A)})}keepUnstableUntilFirst(A){return(0,d.PM)(this.platformId)?new V.y(F=>{const $=()=>{},j=Zone.current.scheduleMacroTask("firebaseZoneBlock",$,{},$,$);A.subscribe(ie=>{"scheduled"===j.state&&j.invoke(),F.next(ie)},ie=>{"scheduled"===j.state&&j.invoke(),F.error(ie)},()=>{"scheduled"===j.state&&j.invoke(),F.complete()})}):A}runOutsideAngular(A){return new V.y(F=>this.zone.runOutsideAngular(()=>A.subscribe($=>this.zone.run(()=>F.next($)),$=>this.zone.run(()=>F.error($)),()=>this.zone.run(()=>F.complete()))))}}const Ye=["ngOnDestroy"],B=(U,A,F)=>new Proxy(U,{get:($,j)=>F.runOutsideAngular(()=>{if(U[j])return U[j];if(Ye.includes(j))return()=>{};let ie=A.toPromise().then(te=>{const He=te&&te[j];return"function"==typeof He?He.bind(te):He&&He.then?He.then(_e=>F.run(()=>_e)):F.run(()=>He)});return new Proxy(()=>{},{get:(te,He)=>ie[He],apply:(te,He,_e)=>ie.then(rt=>rt&&rt(..._e))})})})},4689:(wt,we,J)=>{"use strict";J.d(we,{Dh:()=>V,Ot:()=>me,RU:()=>xe,Wy:()=>se,hO:()=>ze,q4:()=>De,sI:()=>ge,xv:()=>Q});var ye,k=J(1223),d=J(3029),Se=J.n(d);const xe=new k.OlP("angularfire2.app.options"),ge=new k.OlP("angularfire2.app.nameOrConfig"),V=xe,Q=ge;class me{}const De=new k.GfV("5.4.2");function se(Me,Re,Ue){const Oe="object"==typeof Ue&&Ue||{};return Oe.name=Oe.name||"string"==typeof Ue&&Ue||"[DEFAULT]",Se().apps.filter(Ne=>Ne&&Ne.name===Oe.name)[0]||Re.runOutsideAngular(()=>Se().initializeApp(Me,Oe))}const Le={provide:me,useFactory:se,deps:[V,k.R0b,[new k.FiY,Q]]};let ze=ye=class{constructor(Re){Se().registerVersion&&(Se().registerVersion("angularfire",De.full,Re.toString()),Se().registerVersion("angular",k.q4F.full))}static initializeApp(Re,Ue){return{ngModule:ye,providers:[{provide:V,useValue:Re},{provide:Q,useValue:Ue}]}}};var Re;ze.\u0275fac=function(Re){return new(Re||ze)(k.LFG(k.Lbi))},ze.\u0275mod=k.oAB({type:ze}),ze.\u0275inj=k.cJS({providers:[Le]}),ze=ye=function(Me,Re,Ue,ke){var Ne,Oe=arguments.length,$e=Oe<3?Re:null===ke?ke=Object.getOwnPropertyDescriptor(Re,Ue):ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$e=Reflect.decorate(Me,Re,Ue,ke);else for(var Ye=Me.length-1;Ye>=0;Ye--)(Ne=Me[Ye])&&($e=(Oe<3?Ne($e):Oe>3?Ne(Re,Ue,$e):Ne(Re,Ue))||$e);return Oe>3&&$e&&Object.defineProperty(Re,Ue,$e),$e}([(0,Re=(0,k.tBr)(k.Lbi),function(Ue,ke){Re(Ue,ke,0)}),function(Me,Re){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",[Object])}()],ze)},218:(wt,we,J)=>{"use strict";J.r(we),J.d(we,{AngularFireModule:()=>d.hO,DATABASE_URL:()=>k.gw,FIREBASE_APP_NAME:()=>d.xv,FIREBASE_OPTIONS:()=>d.Dh,FirebaseApp:()=>d.Ot,FirebaseNameOrConfigToken:()=>d.sI,FirebaseOptionsToken:()=>d.RU,FirebaseZoneScheduler:()=>k.Ky,RealtimeDatabaseURL:()=>k.Z4,VERSION:()=>d.q4,_firebaseAppFactory:()=>d.Wy,runInZone:()=>k.Wn,runOutsideAngular:()=>k.Vq,\u0275AngularFireSchedulers:()=>k.HU,\u0275BlockUntilFirstOperator:()=>k.Fx,\u0275ZoneScheduler:()=>k.Dp,\u0275keepUnstableUntilFirstFactory:()=>k.ss,\u0275lazySDKProxy:()=>k.pX});var k=J(3887),d=J(4689)},1913:(wt,we,J)=>{"use strict";J.d(we,{y:()=>ge});var k=J(8996),d=J(543),Se=J(4004),Ae=J(9300),ae=J(5026),je=J(5363),ye=J(1923),xe=J(6341);class ge{constructor(Q,me){this.query=Q,this.afs=me}stateChanges(Q){return Q&&0!==Q.length?(0,xe.XH)(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,(0,Se.U)(me=>me.filter(De=>Q.indexOf(De.type)>-1)),(0,Ae.h)(me=>me.length>0)):(0,xe.XH)(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(Q){return this.stateChanges(Q).pipe((0,ae.R)((me,De)=>[...me,...De],[]))}snapshotChanges(Q){const me=(0,ye.U)(Q);return(0,xe.Ns)(this.query,me,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return(0,d.m)(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,(0,Se.U)(me=>me.payload.docs.map(De=>De.data())))}get(Q){return(0,k.D)(this.query.get(Q)).pipe((0,je.Q)(this.afs.schedulers.insideAngular))}}},6341:(wt,we,J)=>{"use strict";J.d(we,{CD:()=>ye,Ns:()=>ae,XH:()=>Ae,ku:()=>je});var k=J(543),d=J(4004),Se=J(5026);function Ae(xe,ge){return(0,k.m)(xe,ge).pipe((0,d.U)(V=>V.payload.docChanges().map(Q=>({type:Q.type,payload:Q}))))}function ae(xe,ge,V){return(0,k.m)(xe,V).pipe((0,d.U)(Q=>Q.payload.docChanges()),(0,Se.R)((Q,me)=>je(Q,me,ge),[]),(0,d.U)(Q=>Q.map(me=>({type:me.type,payload:me}))))}function je(xe,ge,V){return ge.forEach(Q=>{V.indexOf(Q.type)>-1&&(xe=ye(xe,Q))}),xe}function ye(xe,ge){switch(ge.type){case"added":xe[ge.newIndex]&&xe[ge.newIndex].doc.ref.isEqual(ge.doc.ref)||xe.splice(ge.newIndex,0,ge);break;case"modified":(null==xe[ge.oldIndex]||xe[ge.oldIndex].doc.ref.isEqual(ge.doc.ref))&&(ge.oldIndex!==ge.newIndex?(xe.splice(ge.oldIndex,1),xe.splice(ge.newIndex,0,ge)):xe.splice(ge.newIndex,1,ge));break;case"removed":xe[ge.oldIndex]&&xe[ge.oldIndex].doc.ref.isEqual(ge.doc.ref)&&xe.splice(ge.oldIndex,1)}return xe}},1923:(wt,we,J)=>{"use strict";J.d(we,{U:()=>ge,g:()=>V});var k=J(8996),d=J(543),Se=J(4004),Ae=J(9300),ae=J(5026),je=J(5363),ye=J(6341),xe=J(893);function ge(Q){return(!Q||0===Q.length)&&(Q=["added","removed","modified"]),Q}class V{constructor(me,De,se){this.ref=me,this.query=De,this.afs=se}stateChanges(me){return me&&0!==me.length?(0,ye.XH)(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,(0,Se.U)(De=>De.filter(se=>me.indexOf(se.type)>-1)),(0,Ae.h)(De=>De.length>0)):(0,ye.XH)(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(me){return this.stateChanges(me).pipe((0,ae.R)((De,se)=>[...De,...se],[]))}snapshotChanges(me){const De=ge(me);return(0,ye.Ns)(this.query,De,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(me={}){return(0,d.m)(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,(0,Se.U)(De=>De.payload.docs.map(se=>me.idField?Object.assign({},se.data(),{[me.idField]:se.id}):se.data())))}get(me){return(0,k.D)(this.query.get(me)).pipe((0,je.Q)(this.afs.schedulers.insideAngular))}add(me){return this.ref.add(me)}doc(me){return new xe.O(this.ref.doc(me),this.afs)}}},893:(wt,we,J)=>{"use strict";J.d(we,{O:()=>ye});var k=J(8996),d=J(543),Se=J(4004),Ae=J(5363),ae=J(3018),je=J(1923);class ye{constructor(ge,V){this.ref=ge,this.afs=V}set(ge,V){return this.ref.set(ge,V)}update(ge){return this.ref.update(ge)}delete(){return this.ref.delete()}collection(ge,V){const Q=this.ref.collection(ge),{ref:me,query:De}=(0,ae.jv)(Q,V);return new je.g(me,De,this.afs)}snapshotChanges(){return(0,d.KJ)(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe((0,Se.U)(ge=>ge.payload.data()))}get(ge){return(0,k.D)(this.ref.get(ge)).pipe((0,Ae.Q)(this.afs.schedulers.insideAngular))}}},3018:(wt,we,J)=>{"use strict";J.d(we,{D5:()=>Le,EJ:()=>ze,Ip:()=>Re,L6:()=>ke,Me:()=>Me,Mo:()=>Ue,ST:()=>B,jv:()=>Ye,kv:()=>Ne});var k=J(1223),d=J(8996),Se=J(9646),Ae=J(893),ae=J(1923),je=J(1913),ye=J(3887),xe=J(4689),ge=J(9808),V=J(3029),Q=J.n(V),De=function(U,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(U,A)},se=function(U,A){return function(F,$){A(F,$,U)}};const Le=new k.OlP("angularfire2.enableFirestorePersistence"),ze=new k.OlP("angularfire2.firestore.persistenceSettings"),Me=new k.OlP("angularfire2.firestore.settings"),Re=Le,Ue=ze,ke=Me,Oe=parseInt(Q().SDK_VERSION.split(".")[0]),$e=parseInt(Q().SDK_VERSION.split(".")[1]),Ne=Oe<5||5==Oe&&$e<8?{timestampsInSnapshots:!0}:{};function Ye(U,A=(F=>F)){return{query:A(U),ref:U}}let B=(()=>{let U=class{constructor(F,$,j,ie,te,He,_e){this.schedulers=new ye.HU(He),this.keepUnstableUntilFirst=(0,ye.ss)(this.schedulers,te),this.firestore=He.runOutsideAngular(()=>{const Ge=(0,xe.Wy)(F,He,$).firestore();return Ge.settings(ie||Ne),Ge}),this.persistenceEnabled$=j&&!(0,ge.PM)(te)?He.runOutsideAngular(()=>{try{return(0,d.D)(this.firestore.enablePersistence(_e||void 0).then(()=>!0,()=>!1))}catch(Ge){return(0,Se.of)(!1)}}):(0,Se.of)(!1)}collection(F,$){let j;j="string"==typeof F?this.firestore.collection(F):F;const{ref:ie,query:te}=Ye(j,$);return new ae.g(ie,te,this)}collectionGroup(F,$){if(Oe<6)throw"collection group queries require Firebase JS SDK >= 6.0";const j=$||(He=>He),te=this.firestore.collectionGroup(F);return new je.y(j(te),this)}doc(F){let $;return $="string"==typeof F?this.firestore.doc(F):F,new Ae.O($,this)}createId(){return this.firestore.collection("_").doc().id}};return U.\u0275fac=function(F){return new(F||U)(k.LFG(xe.Dh),k.LFG(xe.xv,8),k.LFG(Re,8),k.LFG(ke,8),k.LFG(k.Lbi),k.LFG(k.R0b),k.LFG(Ue,8))},U.\u0275prov=k.Yz7({token:U,factory:function(A){return U.\u0275fac(A)}}),U=function(U,A,F,$){var te,j=arguments.length,ie=j<3?A:null===$?$=Object.getOwnPropertyDescriptor(A,F):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ie=Reflect.decorate(U,A,F,$);else for(var He=U.length-1;He>=0;He--)(te=U[He])&&(ie=(j<3?te(ie):j>3?te(A,F,ie):te(A,F))||ie);return j>3&&ie&&Object.defineProperty(A,F,ie),ie}([se(0,(0,k.tBr)(xe.Dh)),se(1,(0,k.FiY)()),se(1,(0,k.tBr)(xe.xv)),se(2,(0,k.FiY)()),se(2,(0,k.tBr)(Re)),se(3,(0,k.FiY)()),se(3,(0,k.tBr)(ke)),se(4,(0,k.tBr)(k.Lbi)),se(6,(0,k.FiY)()),se(6,(0,k.tBr)(Ue)),De("design:paramtypes",[Object,Object,Object,Object,Object,k.R0b,Object])],U),U})()},6448:(wt,we,J)=>{"use strict";J.r(we),J.d(we,{AngularFirestore:()=>k.ST,AngularFirestoreCollection:()=>ye.g,AngularFirestoreCollectionGroup:()=>xe.y,AngularFirestoreDocument:()=>ge.O,AngularFirestoreModule:()=>je,DefaultFirestoreSettings:()=>k.kv,ENABLE_PERSISTENCE:()=>k.Ip,EnablePersistenceToken:()=>k.D5,FirestoreSettingsToken:()=>k.Me,PERSISTENCE_SETTINGS:()=>k.Mo,PersistenceSettingsToken:()=>k.EJ,SETTINGS:()=>k.L6,associateQuery:()=>k.jv,combineChange:()=>V.CD,combineChanges:()=>V.ku,docChanges:()=>V.XH,fromCollectionRef:()=>Q.m,fromDocRef:()=>Q.KJ,fromRef:()=>Q.ir,sortedChanges:()=>V.Ns,validateEventsArray:()=>ye.U});var ae,k=J(3018),d=J(1223);J(199);let je=ae=class{static enablePersistence(De){return{ngModule:ae,providers:[{provide:k.D5,useValue:!0},{provide:k.EJ,useValue:De}]}}};je.\u0275fac=function(De){return new(De||je)},je.\u0275mod=d.oAB({type:je}),je.\u0275inj=d.cJS({providers:[k.ST]});var ye=J(1923),xe=J(1913),ge=J(893),V=J(6341),Q=J(543)},543:(wt,we,J)=>{"use strict";J.d(we,{KJ:()=>je,ir:()=>ae,m:()=>ye});var k=J(4986),d=J(8306),Se=J(4004);function ae(xe,ge){return function Ae(xe,ge=k.z){return new d.y(V=>{let Q;return null!=ge?ge.schedule(()=>{Q=xe.onSnapshot(V)}):Q=xe.onSnapshot(V),function(){null!=Q&&Q()}})}(xe,ge)}function je(xe,ge){return ae(xe,ge).pipe((0,Se.U)(V=>({payload:V,type:"value"})))}function ye(xe,ge){return ae(xe,ge).pipe((0,Se.U)(V=>({payload:V,type:"query"})))}},9278:(wt,we,J)=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});var ae,Oe,k=J(9628),d=J(1270),Se=J(6355),Ae=J(4003),je=((ae={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ae["bad-app-name"]="Illegal App name: '{$appName}",ae["duplicate-app"]="Firebase App named '{$appName}' already exists",ae["app-deleted"]="Firebase App named '{$appName}' already deleted",ae["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ae["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ae),ye=new d.ErrorFactory("app","Firebase",je),xe="@firebase/app",$e="[DEFAULT]",Ne=((Oe={})[xe]="fire-core",Oe["@firebase/analytics"]="fire-analytics",Oe["@firebase/auth"]="fire-auth",Oe["@firebase/database"]="fire-rtdb",Oe["@firebase/functions"]="fire-fn",Oe["@firebase/installations"]="fire-iid",Oe["@firebase/messaging"]="fire-fcm",Oe["@firebase/performance"]="fire-perf",Oe["@firebase/remote-config"]="fire-rc",Oe["@firebase/storage"]="fire-gcs",Oe["@firebase/firestore"]="fire-fst",Oe["fire-js"]="fire-js",Oe["firebase-wrapper"]="fire-js-all",Oe),Ye=new Ae.Logger("@firebase/app"),B=function(){function Ge(Ve,ft,St){var Vn,bn,or=this;this.firebase_=St,this.isDeleted_=!1,this.name_=ft.name,this.automaticDataCollectionEnabled_=ft.automaticDataCollectionEnabled||!1,this.options_=d.deepCopy(Ve),this.container=new Se.ComponentContainer(ft.name),this._addComponent(new Se.Component("app",function(){return or},"PUBLIC"));try{for(var Kn=k.__values(this.firebase_.INTERNAL.components.values()),mn=Kn.next();!mn.done;mn=Kn.next())this._addComponent(mn.value)}catch(sn){Vn={error:sn}}finally{try{mn&&!mn.done&&(bn=Kn.return)&&bn.call(Kn)}finally{if(Vn)throw Vn.error}}}return Object.defineProperty(Ge.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ve){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ve},enumerable:!1,configurable:!0}),Object.defineProperty(Ge.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Ge.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Ge.prototype.delete=function(){var Ve=this;return new Promise(function(ft){Ve.checkDestroyed_(),ft()}).then(function(){return Ve.firebase_.INTERNAL.removeApp(Ve.name_),Promise.all(Ve.container.getProviders().map(function(ft){return ft.delete()}))}).then(function(){Ve.isDeleted_=!0})},Ge.prototype._getService=function(Ve,ft){return void 0===ft&&(ft=$e),this.checkDestroyed_(),this.container.getProvider(Ve).getImmediate({identifier:ft})},Ge.prototype._removeServiceInstance=function(Ve,ft){void 0===ft&&(ft=$e),this.container.getProvider(Ve).clearInstance(ft)},Ge.prototype._addComponent=function(Ve){try{this.container.addComponent(Ve)}catch(ft){Ye.debug("Component "+Ve.name+" failed to register with FirebaseApp "+this.name,ft)}},Ge.prototype._addOrOverwriteComponent=function(Ve){this.container.addOrOverwriteComponent(Ve)},Ge.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ye.create("app-deleted",{appName:this.name_})},Ge}();B.prototype.name&&B.prototype.options||B.prototype.delete||console.log("dc");var $=function F(){var Ge=function A(Ge){var Ve={},ft=new Map,St={__esModule:!0,initializeApp:function or(en,An){void 0===An&&(An={}),("object"!=typeof An||null===An)&&(An={name:An});var Wt=An;void 0===Wt.name&&(Wt.name=$e);var _n=Wt.name;if("string"!=typeof _n||!_n)throw ye.create("bad-app-name",{appName:String(_n)});if(d.contains(Ve,_n))throw ye.create("duplicate-app",{appName:_n});var Bt=new Ge(en,Wt,St);return Ve[_n]=Bt,Bt},app:bn,registerVersion:function Lt(en,An,vt){var Wt,_n=null!==(Wt=Ne[en])&&void 0!==Wt?Wt:en;vt&&(_n+="-"+vt);var Bt=_n.match(/\s|\//),dr=An.match(/\s|\//);if(Bt||dr){var En=['Unable to register library "'+_n+'" with version "'+An+'":'];return Bt&&En.push('library name "'+_n+'" contains illegal characters (whitespace or "/")'),Bt&&dr&&En.push("and"),dr&&En.push('version name "'+An+'" contains illegal characters (whitespace or "/")'),void Ye.warn(En.join(" "))}mn(new Se.Component(_n+"-version",function(){return{library:_n,version:An}},"VERSION"))},setLogLevel:Ae.setLogLevel,onLog:function sn(en,An){if(null!==en&&"function"!=typeof en)throw ye.create("invalid-log-argument",{appName:name});Ae.setUserLogHandler(en,An)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:mn,removeApp:function Vn(en){delete Ve[en]},components:ft,useAsService:function no(en,An){return"serverAuth"===An?null:An}}};function bn(en){if(!d.contains(Ve,en=en||$e))throw ye.create("no-app",{appName:en});return Ve[en]}function mn(en){var An,vt,Wt=en.name;if(ft.has(Wt))return Ye.debug("There were multiple attempts to register component "+Wt+"."),"PUBLIC"===en.type?St[Wt]:null;if(ft.set(Wt,en),"PUBLIC"===en.type){var _n=function(pr){if(void 0===pr&&(pr=bn()),"function"!=typeof pr[Wt])throw ye.create("invalid-app-argument",{appName:Wt});return pr[Wt]()};void 0!==en.serviceProps&&d.deepExtend(_n,en.serviceProps),St[Wt]=_n,Ge.prototype[Wt]=function(){for(var pr=[],mi=0;mi<arguments.length;mi++)pr[mi]=arguments[mi];return this._getService.bind(this,Wt).apply(this,en.multipleInstances?pr:[])}}try{for(var Bt=k.__values(Object.keys(Ve)),dr=Bt.next();!dr.done;dr=Bt.next())Ve[dr.value]._addComponent(en)}catch(pr){An={error:pr}}finally{try{dr&&!dr.done&&(vt=Bt.return)&&vt.call(Bt)}finally{if(An)throw An.error}}return"PUBLIC"===en.type?St[Wt]:null}return St.default=St,Object.defineProperty(St,"apps",{get:function Kn(){return Object.keys(Ve).map(function(en){return Ve[en]})}}),bn.App=Ge,St}(B);return Ge.INTERNAL=k.__assign(k.__assign({},Ge.INTERNAL),{createFirebaseNamespace:F,extendNamespace:function Ve(ft){d.deepExtend(Ge,ft)},createSubscribe:d.createSubscribe,ErrorFactory:d.ErrorFactory,deepExtend:d.deepExtend}),Ge}(),j=function(){function Ge(Ve){this.container=Ve}return Ge.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(ft){if(function ie(Ge){var Ve=Ge.getComponent();return"VERSION"===(null==Ve?void 0:Ve.type)}(ft)){var St=ft.getImmediate();return St.library+"/"+St.version}return null}).filter(function(ft){return ft}).join(" ")},Ge}();if(d.isBrowser()&&void 0!==self.firebase){Ye.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&Ye.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _e=$.initializeApp;$.initializeApp=function(){for(var Ge=[],Ve=0;Ve<arguments.length;Ve++)Ge[Ve]=arguments[Ve];return d.isNode()&&Ye.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),_e.apply(void 0,Ge)};var rt=$;(function te(Ge,Ve){Ge.INTERNAL.registerComponent(new Se.Component("platform-logger",function(ft){return new j(ft)},"PRIVATE")),Ge.registerVersion(xe,"0.6.11",Ve),Ge.registerVersion("fire-js","")})(rt),we.default=rt,we.firebase=rt},2451:(wt,we,J)=>{(function(){var d,k=J(9278).default,Se="function"==typeof Object.defineProperties?Object.defineProperty:function(e,u,m){e!=Array.prototype&&e!=Object.prototype&&(e[u]=m.value)},ae=function Ae(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var u=0;u<e.length;++u){var m=e[u];if(m&&m.Math==Math)return m}return globalThis}(this);function ye(e){var u=0;return function(){return u<e.length?{done:!1,value:e[u++]}:{done:!0}}}function xe(e){var u="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return u?u.call(e):{next:ye(e)}}!function je(e,u){if(u){var m=ae;e=e.split(".");for(var b=0;b<e.length-1;b++){var M=e[b];M in m||(m[M]={}),m=m[M]}(u=u(b=m[e=e[e.length-1]]))!=b&&null!=u&&Se(m,e,{configurable:!0,writable:!0,value:u})}}("Promise",function(e){function u(Y){this.b=0,this.c=void 0,this.a=[];var ce=this.f();try{Y(ce.resolve,ce.reject)}catch(We){ce.reject(We)}}function m(){this.a=null}function b(Y){return Y instanceof u?Y:new u(function(ce){ce(Y)})}if(e)return e;m.prototype.b=function(Y){if(null==this.a){this.a=[];var ce=this;this.c(function(){ce.g()})}this.a.push(Y)};var M=ae.setTimeout;m.prototype.c=function(Y){M(Y,0)},m.prototype.g=function(){for(;this.a&&this.a.length;){var Y=this.a;this.a=[];for(var ce=0;ce<Y.length;++ce){var We=Y[ce];Y[ce]=null;try{We()}catch(et){this.f(et)}}}this.a=null},m.prototype.f=function(Y){this.c(function(){throw Y})},u.prototype.f=function(){function Y(et){return function(Xt){We||(We=!0,et.call(ce,Xt))}}var ce=this,We=!1;return{resolve:Y(this.v),reject:Y(this.g)}},u.prototype.v=function(Y){if(Y===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(Y instanceof u)this.o(Y);else{e:switch(typeof Y){case"object":var ce=null!=Y;break e;case"function":ce=!0;break e;default:ce=!1}ce?this.m(Y):this.h(Y)}},u.prototype.m=function(Y){var ce=void 0;try{ce=Y.then}catch(We){return void this.g(We)}"function"==typeof ce?this.u(ce,Y):this.h(Y)},u.prototype.g=function(Y){this.i(2,Y)},u.prototype.h=function(Y){this.i(1,Y)},u.prototype.i=function(Y,ce){if(0!=this.b)throw Error("Cannot settle("+Y+", "+ce+"): Promise already settled in state"+this.b);this.b=Y,this.c=ce,this.l()},u.prototype.l=function(){if(null!=this.a){for(var Y=0;Y<this.a.length;++Y)G.b(this.a[Y]);this.a=null}};var G=new m;return u.prototype.o=function(Y){var ce=this.f();Y.Pa(ce.resolve,ce.reject)},u.prototype.u=function(Y,ce){var We=this.f();try{Y.call(ce,We.resolve,We.reject)}catch(et){We.reject(et)}},u.prototype.then=function(Y,ce){function We(Ln,to){return"function"==typeof Ln?function($c){try{et(Ln($c))}catch(bp){Xt(bp)}}:to}var et,Xt,er=new u(function(Ln,to){et=Ln,Xt=to});return this.Pa(We(Y,et),We(ce,Xt)),er},u.prototype.catch=function(Y){return this.then(void 0,Y)},u.prototype.Pa=function(Y,ce){function We(){switch(et.b){case 1:Y(et.c);break;case 2:ce(et.c);break;default:throw Error("Unexpected state: "+et.b)}}var et=this;null==this.a?G.b(We):this.a.push(We)},u.resolve=b,u.reject=function(Y){return new u(function(ce,We){We(Y)})},u.race=function(Y){return new u(function(ce,We){for(var et=xe(Y),Xt=et.next();!Xt.done;Xt=et.next())b(Xt.value).Pa(ce,We)})},u.all=function(Y){var ce=xe(Y),We=ce.next();return We.done?b([]):new u(function(et,Xt){function er($c){return function(bp){Ln[$c]=bp,0==--to&&et(Ln)}}var Ln=[],to=0;do{Ln.push(void 0),to++,b(We.value).Pa(er(Ln.length-1),Xt),We=ce.next()}while(!We.done)})},u});var ge=ge||{},V=this||self,Q=/^[\w+/_-]+[=]{0,2}$/,me=null;function De(){}function se(e){var u=typeof e;if("object"==u){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return u;var m=Object.prototype.toString.call(e);if("[object Window]"==m)return"object";if("[object Array]"==m||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==m||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==u&&void 0===e.call)return"object";return u}function Le(e){var u=se(e);return"array"==u||"object"==u&&"number"==typeof e.length}function ze(e){return"function"==se(e)}function Me(e){var u=typeof e;return"object"==u&&null!=e||"function"==u}function Re(e){return Object.prototype.hasOwnProperty.call(e,Ue)&&e[Ue]||(e[Ue]=++ke)}var Ue="closure_uid_"+(1e9*Math.random()>>>0),ke=0;function Oe(e,u,m){return e.call.apply(e.bind,arguments)}function $e(e,u,m){if(!e)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,b),e.apply(u,M)}}return function(){return e.apply(u,arguments)}}function Ne(e,u,m){return(Ne=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Oe:$e).apply(null,arguments)}function Ye(e,u){var m=Array.prototype.slice.call(arguments,1);return function(){var b=m.slice();return b.push.apply(b,arguments),e.apply(this,b)}}var B=Date.now||function(){return+new Date};function U(e,u){function m(){}m.prototype=u.prototype,e.$a=u.prototype,e.prototype=new m,e.prototype.constructor=e}function A(e,u,m){this.code=$+e,this.message=u||j[e]||"",this.a=m||null}function F(e){var u=e&&e.code;return u?new A(u.substring($.length),e.message,e.serverResponse):null}U(A,Error),A.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},A.prototype.toJSON=function(){return this.w()};var He,$="auth/",j={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ie={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function te(e){for(var u in ie)if(ie[u].id===e)return{firebaseEndpoint:(e=ie[u]).Sa,secureTokenEndpoint:e.Ya,identityPlatformEndpoint:e.Va};return null}function _e(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(u){return!1}}function rt(e){if(Error.captureStackTrace)Error.captureStackTrace(this,rt);else{var u=Error().stack;u&&(this.stack=u)}e&&(this.message=String(e))}function Ge(e,u){for(var m="",b=(e=e.split("%s")).length-1,M=0;M<b;M++)m+=e[M]+(M<u.length?u[M]:"%s");rt.call(this,m+e[b])}function Ve(e,u){throw new Ge("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function ft(e,u){this.c=e,this.f=u,this.b=0,this.a=null}function St(e,u){e.f(u),100>e.b&&(e.b++,u.next=e.a,e.a=u)}function Vn(){this.b=this.a=null}He=te("__EID__")?"__EID__":void 0,U(rt,Error),rt.prototype.name="CustomError",U(Ge,rt),Ge.prototype.name="AssertionError",ft.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var bn=new ft(function(){return new Kn},function(e){e.reset()});function or(){var e=Vr,u=null;return e.a&&(u=e.a,e.a=e.a.next,e.a||(e.b=null),u.next=null),u}function Kn(){this.next=this.b=this.a=null}Vn.prototype.add=function(e,u){var m=bn.get();m.set(e,u),this.b?this.b.next=m:this.a=m,this.b=m},Kn.prototype.set=function(e,u){this.a=e,this.b=u,this.next=null},Kn.prototype.reset=function(){this.next=this.b=this.a=null};var mn=Array.prototype.indexOf?function(e,u){return Array.prototype.indexOf.call(e,u,void 0)}:function(e,u){if("string"==typeof e)return"string"!=typeof u||1!=u.length?-1:e.indexOf(u,0);for(var m=0;m<e.length;m++)if(m in e&&e[m]===u)return m;return-1},Lt=Array.prototype.forEach?function(e,u,m){Array.prototype.forEach.call(e,u,m)}:function(e,u,m){for(var b=e.length,M="string"==typeof e?e.split(""):e,G=0;G<b;G++)G in M&&u.call(m,M[G],G,e)},no=Array.prototype.filter?function(e,u){return Array.prototype.filter.call(e,u,void 0)}:function(e,u){for(var m=e.length,b=[],M=0,G="string"==typeof e?e.split(""):e,Y=0;Y<m;Y++)if(Y in G){var ce=G[Y];u.call(void 0,ce,Y,e)&&(b[M++]=ce)}return b},en=Array.prototype.map?function(e,u){return Array.prototype.map.call(e,u,void 0)}:function(e,u){for(var m=e.length,b=Array(m),M="string"==typeof e?e.split(""):e,G=0;G<m;G++)G in M&&(b[G]=u.call(void 0,M[G],G,e));return b},An=Array.prototype.some?function(e,u){return Array.prototype.some.call(e,u,void 0)}:function(e,u){for(var m=e.length,b="string"==typeof e?e.split(""):e,M=0;M<m;M++)if(M in b&&u.call(void 0,b[M],M,e))return!0;return!1};function Wt(e,u){return 0<=mn(e,u)}function _n(e,u){var m;return(m=0<=(u=mn(e,u)))&&Array.prototype.splice.call(e,u,1),m}function Bt(e,u){!function sn(e,u){for(var m="string"==typeof e?e.split(""):e,b=e.length-1;0<=b;--b)b in m&&u.call(void 0,m[b],b,e)}(e,function(b,M){u.call(void 0,b,M,e)&&Array.prototype.splice.call(e,M,1)})}function dr(e){return Array.prototype.concat.apply([],arguments)}function En(e){var u=e.length;if(0<u){for(var m=Array(u),b=0;b<u;b++)m[b]=e[b];return m}return[]}var Pe,pr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},mi=/&/g,Ho=/</g,xs=/>/g,jn=/"/g,On=/'/g,st=/\x00/g,ve=/[\x00&<>"']/;function oe(e,u){return-1!=e.indexOf(u)}function pe(e,u){return e<u?-1:e>u?1:0}e:{var Ce=V.navigator;if(Ce){var lt=Ce.userAgent;if(lt){Pe=lt;break e}}Pe=""}function dt(e){return oe(Pe,e)}function Zt(e,u){for(var m in e)u.call(void 0,e[m],m,e)}function Pt(e){for(var u in e)return!1;return!0}function tt(e){var m,u={};for(m in e)u[m]=e[m];return u}var sr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tt(e,u){for(var m,b,M=1;M<arguments.length;M++){for(m in b=arguments[M])e[m]=b[m];for(var G=0;G<sr.length;G++)m=sr[G],Object.prototype.hasOwnProperty.call(b,m)&&(e[m]=b[m])}}function Qn(e,u){e:{try{var m=e&&e.ownerDocument,b=m&&(m.defaultView||m.parentWindow);if((b=b||V).Element&&b.Location){var M=b;break e}}catch(Y){}M=null}if(M&&void 0!==M[u]&&(!e||!(e instanceof M[u])&&(e instanceof M.Location||e instanceof M.Element))){if(Me(e))try{var G=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(Y){G="<object could not be stringified>"}else G=void 0===e?"undefined":null===e?"null":typeof e;Ve("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,G)}}function ar(e,u){this.a=e===Bi&&u||"",this.b=fs}function $t(e){return e instanceof ar&&e.constructor===ar&&e.b===fs?e.a:(Ve("expected object of type Const, got '"+e+"'"),"type_error:Const")}ar.prototype.sa=!0,ar.prototype.ra=function(){return this.a},ar.prototype.toString=function(){return"Const{"+this.a+"}"};var fs={},Bi={},Un=new ar(Bi,"");function tn(e,u){this.a=e===Bn&&u||"",this.b=$r}function ro(e){return e instanceof tn&&e.constructor===tn&&e.b===$r?e.a:(Ve("expected object of type TrustedResourceUrl, got '"+e+"' of type "+se(e)),"type_error:TrustedResourceUrl")}function ur(e,u){var m=$t(e);if(!hs.test(m))throw Error("Invalid TrustedResourceUrl format: "+m);return e=m.replace(gr,function(b,M){if(!Object.prototype.hasOwnProperty.call(u,M))throw Error('Found marker, "'+M+'", in format string, "'+m+'", but no valid label mapping found in args: '+JSON.stringify(u));return(b=u[M])instanceof ar?$t(b):encodeURIComponent(String(b))}),new tn(Bn,e)}tn.prototype.sa=!0,tn.prototype.ra=function(){return this.a.toString()},tn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var gr=/%{(\w+)}/g,hs=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,$r={},Bn={};function It(e,u){this.a=e===io&&u||"",this.b=Ps}function rn(e){return e instanceof It&&e.constructor===It&&e.b===Ps?e.a:(Ve("expected object of type SafeUrl, got '"+e+"' of type "+se(e)),"type_error:SafeUrl")}It.prototype.sa=!0,It.prototype.ra=function(){return this.a.toString()},It.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var zr=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function ni(e){return e instanceof It?e:(e="object"==typeof e&&e.sa?e.ra():String(e),zr.test(e)||(e="about:invalid#zClosurez"),new It(io,e))}var Ps={},io={};function Wr(){this.a="",this.b=ds}function Rs(e){return e instanceof Wr&&e.constructor===Wr&&e.b===ds?e.a:(Ve("expected object of type SafeHtml, got '"+e+"' of type "+se(e)),"type_error:SafeHtml")}Wr.prototype.sa=!0,Wr.prototype.ra=function(){return this.a.toString()},Wr.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var ds={};function oo(e){var u=new Wr;return u.a=e,u}oo("<!DOCTYPE html>");var so=oo("");function _o(e,u){for(var m=e.split("%s"),b="",M=Array.prototype.slice.call(arguments,1);M.length&&1<m.length;)b+=m.shift()+M.shift();return b+m.join("%s")}function kr(e){return ve.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(mi,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(Ho,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(xs,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(jn,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(On,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(st,"&#0;"))),e}function Kr(e){return Kr[" "](e),e}oo("<br>"),Kr[" "]=De;var Jt,e,Lr=dt("Opera"),cr=dt("Trident")||dt("MSIE"),ao=dt("Edge"),Pn=ao||cr,ri=dt("Gecko")&&!(oe(Pe.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),qn=oe(Pe.toLowerCase(),"webkit")&&!dt("Edge");function ut(){var e=V.document;return e?e.documentMode:void 0}e:{var hn="",Yn=(e=Pe,ri?/rv:([^\);]+)(\)|;)/.exec(e):ao?/Edge\/([\d\.]+)/.exec(e):cr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):qn?/WebKit\/(\S+)/.exec(e):Lr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0);if(Yn&&(hn=Yn?Yn[1]:""),cr){var Sr=ut();if(null!=Sr&&Sr>parseFloat(hn)){Jt=String(Sr);break e}}Jt=hn}var kt,Ht={};function mr(e){return function wo(e,u){var m=Ht;return Object.prototype.hasOwnProperty.call(m,e)?m[e]:m[e]=u(e)}(e,function(){for(var u=0,m=pr(String(Jt)).split("."),b=pr(String(e)).split("."),M=Math.max(m.length,b.length),G=0;0==u&&G<M;G++){var Y=m[G]||"",ce=b[G]||"";do{if(Y=/(\d*)(\D*)(.*)/.exec(Y)||["","","",""],ce=/(\d*)(\D*)(.*)/.exec(ce)||["","","",""],0==Y[0].length&&0==ce[0].length)break;u=pe(0==Y[1].length?0:parseInt(Y[1],10),0==ce[1].length?0:parseInt(ce[1],10))||pe(0==Y[2].length,0==ce[2].length)||pe(Y[2],ce[2]),Y=Y[3],ce=ce[3]}while(0==u)}return 0<=u})}kt=V.document&&cr?ut():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(e){}var Ti=!cr||9<=Number(kt);function vr(e){var u=document;return"string"==typeof e?u.getElementById(e):e}function At(e,u){Zt(u,function(m,b){m&&"object"==typeof m&&m.sa&&(m=m.ra()),"style"==b?e.style.cssText=m:"class"==b?e.className=m:"for"==b?e.htmlFor=m:uo.hasOwnProperty(b)?e.setAttribute(uo[b],m):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?e.setAttribute(b,m):e[b]=m})}var _r,oi,uo={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ii(e,u,m){function b(Y){Y&&u.appendChild("string"==typeof Y?e.createTextNode(Y):Y)}for(var M=2;M<m.length;M++){var G=m[M];!Le(G)||Me(G)&&0<G.nodeType?b(G):Lt(yr(G)?En(G):G,b)}}function Si(e,u){return u=String(u),"application/xhtml+xml"===e.contentType&&(u=u.toLowerCase()),e.createElement(u)}function yr(e){if(e&&"number"==typeof e.length){if(Me(e))return"function"==typeof e.item||"string"==typeof e.item;if(ze(e))return"function"==typeof e.item}return!1}function bo(e){V.setTimeout(function(){throw e},0)}function Rt(e,u){oi||function bu(){if(V.Promise&&V.Promise.resolve){var e=V.Promise.resolve(void 0);oi=function(){e.then(Go)}}else oi=function(){var u=Go;!ze(V.setImmediate)||V.Window&&V.Window.prototype&&!dt("Edge")&&V.Window.prototype.setImmediate==V.setImmediate?(_r||(_r=function tr(){var e=V.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(e=function(){var M=Si(document,"IFRAME");M.style.display="none",function Ft(e){var u=new tn(Bn,$t(Un));Qn(e,"HTMLIFrameElement"),e.src=ro(u).toString()}(M),document.documentElement.appendChild(M);var G=M.contentWindow;(M=G.document).open(),M.write(Rs(so)),M.close();var Y="callImmediate"+Math.random(),ce="file:"==G.location.protocol?"*":G.location.protocol+"//"+G.location.host;M=Ne(function(We){("*"==ce||We.origin==ce)&&We.data==Y&&this.port1.onmessage()},this),G.addEventListener("message",M,!1),this.port1={},this.port2={postMessage:function(){G.postMessage(Y,ce)}}}),void 0!==e&&!dt("Trident")&&!dt("MSIE")){var u=new e,m={},b=m;return u.port1.onmessage=function(){if(void 0!==m.next){var M=(m=m.next).Fb;m.Fb=null,M()}},function(M){b.next={Fb:M},b=b.next,u.port2.postMessage(0)}}return function(M){V.setTimeout(M,0)}}()),_r(u)):V.setImmediate(u)}}(),an||(oi(),an=!0),Vr.add(e,u)}var an=!1,Vr=new Vn;function Go(){for(var e;e=or();){try{e.a.call(e.b)}catch(u){bo(u)}St(bn,e)}an=!1}function Vt(e,u){if(this.a=Rn,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=De)try{var m=this;e.call(u,function(b){$o(m,yn,b)},function(b){if(!(b instanceof ms))try{throw b instanceof Error?b:Error("Promise rejected.")}catch(M){}$o(m,si,b)})}catch(b){$o(this,si,b)}}var Rn=0,yn=2,si=3;function ai(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ai.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var qo=new ft(function(){return new ai},function(e){e.reset()});function Gi(e,u,m){var b=qo.get();return b.g=e,b.b=u,b.f=m,b}function bt(e){if(e instanceof Vt)return e;var u=new Vt(De);return $o(u,yn,e),u}function Tn(e){return new Vt(function(u,m){m(e)})}function Eu(e,u,m){ps(e,u,m,null)||Rt(Ye(u,e))}function Fs(e){return new Vt(function(u){var m=e.length,b=[];if(m)for(var M=function(ce,We,et){m--,b[ce]=We?{Ob:!0,value:et}:{Ob:!1,reason:et},0==m&&u(b)},G=0;G<e.length;G++)Eu(e[G],Ye(M,G,!0),Ye(M,G,!1));else u(b)})}function ba(e,u){if(e.a==Rn)if(e.c){var m=e.c;if(m.b){for(var b=0,M=null,G=null,Y=m.b;Y&&(Y.c||(b++,Y.a==e&&(M=Y),!(M&&1<b)));Y=Y.next)M||(G=Y);M&&(m.a==Rn&&1==b?ba(m,u):(G?((b=G).next==m.f&&(m.f=b),b.next=b.next.next):ks(m),gs(m,M,si,u)))}e.c=null}else $o(e,si,u)}function Eo(e,u){e.b||e.a!=yn&&e.a!=si||Do(e),e.f?e.f.next=u:e.b=u,e.f=u}function Ea(e,u,m,b){var M=Gi(null,null,null);return M.a=new Vt(function(G,Y){M.g=u?function(ce){try{var We=u.call(b,ce);G(We)}catch(et){Y(et)}}:G,M.b=m?function(ce){try{var We=m.call(b,ce);void 0===We&&ce instanceof ms?Y(ce):G(We)}catch(et){Y(et)}}:Y}),M.a.c=e,Eo(e,M),M.a}function $o(e,u,m){e.a==Rn&&(e===m&&(u=si,m=new TypeError("Promise cannot resolve to itself")),e.a=1,ps(m,e.Zc,e.$c,e)||(e.i=m,e.a=u,e.c=null,Do(e),u!=si||m instanceof ms||function Nn(e,u){e.g=!0,Rt(function(){e.g&&Mi.call(null,u)})}(e,m)))}function ps(e,u,m,b){if(e instanceof Vt)return Eo(e,Gi(u||De,m||null,b)),!0;if(_e(e))return e.then(u,m,b),!0;if(Me(e))try{var M=e.then;if(ze(M))return function yi(e,u,m,b,M){function G(We){ce||(ce=!0,b.call(M,We))}var ce=!1;try{u.call(e,function Y(We){ce||(ce=!0,m.call(M,We))},G)}catch(We){G(We)}}(e,M,u,m,b),!0}catch(G){return m.call(b,G),!0}return!1}function Do(e){e.h||(e.h=!0,Rt(e.fc,e))}function ks(e){var u=null;return e.b&&(e.b=(u=e.b).next,u.next=null),e.b||(e.f=null),u}function gs(e,u,m,b){if(m==si&&u.b&&!u.c)for(;e&&e.g;e=e.c)e.g=!1;if(u.a)u.a.c=null,Kt(u,m,b);else try{u.c?u.g.call(u.f):Kt(u,m,b)}catch(M){Mi.call(null,M)}St(qo,u)}function Kt(e,u,m){u==yn?e.g.call(e.f,m):e.b&&e.b.call(e.f,m)}Vt.prototype.then=function(e,u,m){return Ea(this,ze(e)?e:null,ze(u)?u:null,m)},Vt.prototype.$goog_Thenable=!0,(d=Vt.prototype).na=function(e,u){return(e=Gi(e,e,u)).c=!0,Eo(this,e),this},d.s=function(e,u){return Ea(this,null,e,u)},d.cancel=function(e){if(this.a==Rn){var u=new ms(e);Rt(function(){ba(this,u)},this)}},d.Zc=function(e){this.a=Rn,$o(this,yn,e)},d.$c=function(e){this.a=Rn,$o(this,si,e)},d.fc=function(){for(var e;e=ks(this);)gs(this,e,this.a,this.i);this.h=!1};var Mi=bo;function ms(e){rt.call(this,e)}function Ys(){0!=ui&&(qi[Re(this)]=this),this.xa=this.xa,this.oa=this.oa}U(ms,rt),ms.prototype.name="cancel";var ui=0,qi={};function Co(e){if(!e.xa&&(e.xa=!0,e.Da(),0!=ui)){var u=Re(e);if(0!=ui&&e.oa&&0<e.oa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete qi[u]}}Ys.prototype.xa=!1,Ys.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var _i=Object.freeze||function(e){return e},zo=!cr||9<=Number(kt),Du=cr&&!mr("9"),vs=function(){if(!V.addEventListener||!Object.defineProperty)return!1;var e=!1,u=Object.defineProperty({},"passive",{get:function(){e=!0}});try{V.addEventListener("test",De,u),V.removeEventListener("test",De,u)}catch(m){}return e}();function Yr(e,u){this.type=e,this.b=this.target=u,this.defaultPrevented=!1}function Dn(e,u){if(Yr.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var m=this.type=e.type,b=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=u,u=e.relatedTarget){if(ri){e:{try{Kr(u.nodeName);var M=!0;break e}catch(G){}M=!1}M||(u=null)}}else"mouseover"==m?u=e.fromElement:"mouseout"==m&&(u=e.toElement);this.relatedTarget=u,b?(this.clientX=void 0!==b.clientX?b.clientX:b.pageX,this.clientY=void 0!==b.clientY?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Fn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Yr.prototype.preventDefault=function(){this.defaultPrevented=!0},U(Dn,Yr);var Fn=_i({2:"touch",3:"pen",4:"mouse"});Dn.prototype.preventDefault=function(){Dn.$a.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Du)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(u){}},Dn.prototype.g=function(){return this.a};var co="closure_listenable_"+(1e6*Math.random()|0),Oi=0;function nr(e,u,m,b,M){this.listener=e,this.proxy=null,this.src=u,this.type=m,this.capture=!!b,this.Ua=M,this.key=++Oi,this.va=this.Oa=!1}function x(e){e.va=!0,e.listener=null,e.proxy=null,e.src=null,e.Ua=null}function z(e){this.src=e,this.a={},this.b=0}function P(e,u){var m=u.type;m in e.a&&_n(e.a[m],u)&&(x(u),0==e.a[m].length&&(delete e.a[m],e.b--))}function Z(e,u,m,b){for(var M=0;M<e.length;++M){var G=e[M];if(!G.va&&G.listener==u&&G.capture==!!m&&G.Ua==b)return M}return-1}z.prototype.add=function(e,u,m,b,M){var G=e.toString();(e=this.a[G])||(e=this.a[G]=[],this.b++);var Y=Z(e,u,b,M);return-1<Y?(u=e[Y],m||(u.Oa=!1)):((u=new nr(u,this.src,G,!!b,M)).Oa=m,e.push(u)),u};var he="closure_lm_"+(1e6*Math.random()|0),Be={};function ct(e,u,m,b,M){if(b&&b.once)fn(e,u,m,b,M);else if(Array.isArray(u))for(var G=0;G<u.length;G++)ct(e,u[G],m,b,M);else m=xt(m),e&&e[co]?lo(e,u,m,Me(b)?!!b.capture:!!b,M):ot(e,u,m,!1,b,M)}function ot(e,u,m,b,M,G){if(!u)throw Error("Invalid event type");var Y=Me(M)?!!M.capture:!!M,ce=dn(e);if(ce||(e[he]=ce=new z(e)),!(m=ce.add(u,m,b,Y,G)).proxy)if(b=function vn(){var e=ci,u=zo?function(m){return e.call(u.src,u.listener,m)}:function(m){if(!(m=e.call(u.src,u.listener,m)))return m};return u}(),m.proxy=b,b.src=e,b.listener=m,e.addEventListener)vs||(M=Y),void 0===M&&(M=!1),e.addEventListener(u.toString(),b,M);else if(e.attachEvent)e.attachEvent(Cn(u.toString()),b);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(b)}}function fn(e,u,m,b,M){if(Array.isArray(u))for(var G=0;G<u.length;G++)fn(e,u[G],m,b,M);else m=xt(m),e&&e[co]?Ni(e,u,m,Me(b)?!!b.capture:!!b,M):ot(e,u,m,!0,b,M)}function pt(e,u,m,b,M){if(Array.isArray(u))for(var G=0;G<u.length;G++)pt(e,u[G],m,b,M);else b=Me(b)?!!b.capture:!!b,m=xt(m),e&&e[co]?(e=e.v,(u=String(u).toString())in e.a&&-1<(m=Z(G=e.a[u],m,b,M))&&(x(G[m]),Array.prototype.splice.call(G,m,1),0==G.length&&(delete e.a[u],e.b--))):e&&(e=dn(e))&&(u=e.a[u.toString()],e=-1,u&&(e=Z(u,m,b,M)),(m=-1<e?u[e]:null)&&wr(m))}function wr(e){if("number"!=typeof e&&e&&!e.va){var u=e.src;if(u&&u[co])P(u.v,e);else{var m=e.type,b=e.proxy;u.removeEventListener?u.removeEventListener(m,b,e.capture):u.detachEvent?u.detachEvent(Cn(m),b):u.addListener&&u.removeListener&&u.removeListener(b),(m=dn(u))?(P(m,e),0==m.b&&(m.src=null,u[he]=null)):x(e)}}}function Cn(e){return e in Be?Be[e]:Be[e]="on"+e}function Zn(e,u,m,b){var M=!0;if((e=dn(e))&&(u=e.a[u.toString()]))for(u=u.concat(),e=0;e<u.length;e++){var G=u[e];G&&G.capture==m&&!G.va&&(G=Sn(G,b),M=M&&!1!==G)}return M}function Sn(e,u){var m=e.listener,b=e.Ua||e.src;return e.Oa&&wr(e),m.call(b,u)}function ci(e,u){if(e.va)return!0;if(!zo){if(!u)e:{u=["window","event"];for(var m=V,b=0;b<u.length;b++)if(null==(m=m[u[b]])){u=null;break e}u=m}if(u=new Dn(b=u,this),m=!0,!(0>b.keyCode||null!=b.returnValue)){e:{var M=!1;if(0==b.keyCode)try{b.keyCode=-1;break e}catch(Y){M=!0}(M||null==b.returnValue)&&(b.returnValue=!0)}for(b=[],M=u.b;M;M=M.parentNode)b.push(M);for(e=e.type,M=b.length-1;0<=M;M--){u.b=b[M];var G=Zn(b[M],e,!0,u);m=m&&G}for(M=0;M<b.length;M++)u.b=b[M],G=Zn(b[M],e,!1,u),m=m&&G}return m}return Sn(e,new Dn(u,this))}function dn(e){return(e=e[he])instanceof z?e:null}var jr="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(e){return ze(e)?e:(e[jr]||(e[jr]=function(u){return e.handleEvent(u)}),e[jr])}function on(){Ys.call(this),this.v=new z(this),this.$b=this,this.fb=null}function lo(e,u,m,b,M){e.v.add(String(u),m,!1,b,M)}function Ni(e,u,m,b,M){e.v.add(String(u),m,!0,b,M)}function xi(e,u,m,b){if(!(u=e.v.a[String(u)]))return!0;u=u.concat();for(var M=!0,G=0;G<u.length;++G){var Y=u[G];if(Y&&!Y.va&&Y.capture==m){var ce=Y.listener,We=Y.Ua||Y.src;Y.Oa&&P(e.v,Y),M=!1!==ce.call(We,b)&&M}}return M&&!b.defaultPrevented}function Wo(e,u,m){if(ze(e))m&&(e=Ne(e,m));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ne(e.handleEvent,e)}return 2147483647<Number(u)?-1:V.setTimeout(e,u||0)}function fo(e){var u=null;return new Vt(function(m,b){-1==(u=Wo(function(){m(void 0)},e))&&b(Error("Failed to schedule timer."))}).s(function(m){throw V.clearTimeout(u),m})}function Mt(e){if(e.V&&"function"==typeof e.V)return e.V();if("string"==typeof e)return e.split("");if(Le(e)){for(var u=[],m=e.length,b=0;b<m;b++)u.push(e[b]);return u}for(b in u=[],m=0,e)u[m++]=e[b];return u}function Cu(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.V||"function"!=typeof e.V){if(Le(e)||"string"==typeof e){var u=[];e=e.length;for(var m=0;m<e;m++)u.push(m);return u}for(var b in u=[],m=0,e)u[m++]=b;return u}}function Ls(e,u){this.b={},this.a=[],this.c=0;var m=arguments.length;if(1<m){if(m%2)throw Error("Uneven number of arguments");for(var b=0;b<m;b+=2)this.set(arguments[b],arguments[b+1])}else if(e)if(e instanceof Ls)for(m=e.Y(),b=0;b<m.length;b++)this.set(m[b],e.get(m[b]));else for(b in e)this.set(b,e[b])}function Ko(e){if(e.c!=e.a.length){for(var u=0,m=0;u<e.a.length;){var b=e.a[u];lr(e.b,b)&&(e.a[m++]=b),u++}e.a.length=m}if(e.c!=e.a.length){var M={};for(m=u=0;u<e.a.length;)lr(M,b=e.a[u])||(e.a[m++]=b,M[b]=1),u++;e.a.length=m}}function lr(e,u){return Object.prototype.hasOwnProperty.call(e,u)}U(on,Ys),on.prototype[co]=!0,on.prototype.addEventListener=function(e,u,m,b){ct(this,e,u,m,b)},on.prototype.removeEventListener=function(e,u,m,b){pt(this,e,u,m,b)},on.prototype.dispatchEvent=function(e){var u,m=this.fb;if(m)for(u=[];m;m=m.fb)u.push(m);m=this.$b;var b=e.type||e;if("string"==typeof e)e=new Yr(e,m);else if(e instanceof Yr)e.target=e.target||m;else{var M=e;Tt(e=new Yr(b,m),M)}if(M=!0,u)for(var G=u.length-1;0<=G;G--){var Y=e.b=u[G];M=xi(Y,b,!0,e)&&M}if(M=xi(Y=e.b=m,b,!0,e)&&M,M=xi(Y,b,!1,e)&&M,u)for(G=0;G<u.length;G++)M=xi(Y=e.b=u[G],b,!1,e)&&M;return M},on.prototype.Da=function(){if(on.$a.Da.call(this),this.v){var m,e=this.v;for(m in e.a){for(var b=e.a[m],M=0;M<b.length;M++)x(b[M]);delete e.a[m],e.b--}}this.fb=null},(d=Ls.prototype).V=function(){Ko(this);for(var e=[],u=0;u<this.a.length;u++)e.push(this.b[this.a[u]]);return e},d.Y=function(){return Ko(this),this.a.concat()},d.clear=function(){this.b={},this.c=this.a.length=0},d.get=function(e,u){return lr(this.b,e)?this.b[e]:u},d.set=function(e,u){lr(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=u},d.forEach=function(e,u){for(var m=this.Y(),b=0;b<m.length;b++){var M=m[b],G=this.get(M);e.call(u,G,M,this)}};var Iu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ze(e,u){var m;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,e instanceof Ze?(this.i=void 0!==u?u:e.i,Ut(this,e.f),this.l=e.l,this.a=e.a,Io(this,e.g),this.c=e.c,pn(this,br(e.b)),this.h=e.h):e&&(m=String(e).match(Iu))?(this.i=!!u,Ut(this,m[1]||"",!0),this.l=zi(m[2]||""),this.a=zi(m[3]||"",!0),Io(this,m[4]),this.c=zi(m[5]||"",!0),pn(this,m[6]||"",!0),this.h=zi(m[7]||"")):(this.i=!!u,this.b=new Br(null,this.i))}function Ut(e,u,m){e.f=m?zi(u,!0):u,e.f&&(e.f=e.f.replace(/:$/,""))}function Io(e,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);e.g=u}else e.g=null}function pn(e,u,m){u instanceof Br?(e.b=u,function nt(e,u){u&&!e.f&&(Hr(e),e.c=null,e.a.forEach(function(m,b){var M=b.toLowerCase();b!=M&&(Zr(this,b),Wi(this,M,m))},e)),e.f=u}(e.b,e.i)):(m||(u=Js(u,Ao)),e.b=new Br(u,e.i))}function wn(e,u,m){e.b.set(u,m)}function Mr(e,u){return e.b.get(u)}function nn(e){return e instanceof Ze?new Ze(e):new Ze(e,void 0)}function Zs(e,u,m,b){var M=new Ze(null,void 0);return e&&Ut(M,e),u&&(M.a=u),m&&Io(M,m),b&&(M.c=b),M}function zi(e,u){return e?u?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Js(e,u,m){return"string"==typeof e?(e=encodeURI(e).replace(u,Tu),m&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Tu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){var e=[],u=this.f;u&&e.push(Js(u,ys,!0),":");var m=this.a;return(m||"file"==u)&&(e.push("//"),(u=this.l)&&e.push(Js(u,ys,!0),"@"),e.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(m=this.g)&&e.push(":",String(m))),(m=this.c)&&(this.a&&"/"!=m.charAt(0)&&e.push("/"),e.push(Js(m,"/"==m.charAt(0)?Ur:Vs,!0))),(m=this.b.toString())&&e.push("?",m),(m=this.h)&&e.push("#",Js(m,Pi)),e.join("")},Ze.prototype.resolve=function(e){var u=new Ze(this),m=!!e.f;m?Ut(u,e.f):m=!!e.l,m?u.l=e.l:m=!!e.a,m?u.a=e.a:m=null!=e.g;var b=e.c;if(m)Io(u,e.g);else if(m=!!e.c){if("/"!=b.charAt(0))if(this.a&&!this.c)b="/"+b;else{var M=u.c.lastIndexOf("/");-1!=M&&(b=u.c.substr(0,M+1)+b)}if(".."==(M=b)||"."==M)b="";else if(oe(M,"./")||oe(M,"/.")){b=0==M.lastIndexOf("/",0),M=M.split("/");for(var G=[],Y=0;Y<M.length;){var ce=M[Y++];"."==ce?b&&Y==M.length&&G.push(""):".."==ce?((1<G.length||1==G.length&&""!=G[0])&&G.pop(),b&&Y==M.length&&G.push("")):(G.push(ce),b=!0)}b=G.join("/")}else b=M}return m?u.c=b:m=""!==e.b.toString(),m?pn(u,br(e.b)):m=!!e.h,m&&(u.h=e.h),u};var ys=/[#\/\?@]/g,Vs=/[#\?:]/g,Ur=/[#\?]/g,Ao=/[#\?@]/g,Pi=/#/g;function Br(e,u){this.b=this.a=null,this.c=e||null,this.f=!!u}function Hr(e){e.a||(e.a=new Ls,e.b=0,e.c&&function Au(e,u){if(e){e=e.split("&");for(var m=0;m<e.length;m++){var b=e[m].indexOf("="),M=null;if(0<=b){var G=e[m].substring(0,b);M=e[m].substring(b+1)}else G=e[m];u(G,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}(e.c,function(u,m){e.add(decodeURIComponent(u.replace(/\+/g," ")),m)}))}function js(e){var u=Cu(e);if(void 0===u)throw Error("Keys are undefined");var m=new Br(null,void 0);e=Mt(e);for(var b=0;b<u.length;b++){var M=u[b],G=e[b];Array.isArray(G)?Wi(m,M,G):m.add(M,G)}return m}function Zr(e,u){Hr(e),u=wi(e,u),lr(e.a.b,u)&&(e.c=null,e.b-=e.a.get(u).length,lr((e=e.a).b,u)&&(delete e.b[u],e.c--,e.a.length>2*e.c&&Ko(e)))}function Da(e,u){return Hr(e),u=wi(e,u),lr(e.a.b,u)}function Wi(e,u,m){Zr(e,u),0<m.length&&(e.c=null,e.a.set(wi(e,u),En(m)),e.b+=m.length)}function br(e){var u=new Br;return u.c=e.c,e.a&&(u.a=new Ls(e.a),u.b=e.b),u}function wi(e,u){return u=String(u),e.f&&(u=u.toLowerCase()),u}function To(e){var u=[];return _s(new dc,e,u),u.join("")}function dc(){}function _s(e,u,m){if(null==u)m.push("null");else{if("object"==typeof u){if(Array.isArray(u)){var b=u;u=b.length,m.push("[");for(var M="",G=0;G<u;G++)m.push(M),_s(e,b[G],m),M=",";return void m.push("]")}if(!(u instanceof String||u instanceof Number||u instanceof Boolean)){for(b in m.push("{"),M="",u)Object.prototype.hasOwnProperty.call(u,b)&&"function"!=typeof(G=u[b])&&(m.push(M),pc(b,m),m.push(":"),_s(e,G,m),M=",");return void m.push("}")}u=u.valueOf()}switch(typeof u){case"string":pc(u,m);break;case"number":m.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":m.push(String(u));break;case"function":m.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}(d=Br.prototype).add=function(e,u){Hr(this),this.c=null,e=wi(this,e);var m=this.a.get(e);return m||this.a.set(e,m=[]),m.push(u),this.b+=1,this},d.clear=function(){this.a=this.c=null,this.b=0},d.forEach=function(e,u){Hr(this),this.a.forEach(function(m,b){Lt(m,function(M){e.call(u,M,b,this)},this)},this)},d.Y=function(){Hr(this);for(var e=this.a.V(),u=this.a.Y(),m=[],b=0;b<u.length;b++)for(var M=e[b],G=0;G<M.length;G++)m.push(u[b]);return m},d.V=function(e){Hr(this);var u=[];if("string"==typeof e)Da(this,e)&&(u=dr(u,this.a.get(wi(this,e))));else{e=this.a.V();for(var m=0;m<e.length;m++)u=dr(u,e[m])}return u},d.set=function(e,u){return Hr(this),this.c=null,Da(this,e=wi(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[u]),this.b+=1,this},d.get=function(e,u){return e&&0<(e=this.V(e)).length?String(e[0]):u},d.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],u=this.a.Y(),m=0;m<u.length;m++){var b=u[m],M=encodeURIComponent(String(b));b=this.V(b);for(var G=0;G<b.length;G++){var Y=M;""!==b[G]&&(Y+="="+encodeURIComponent(String(b[G]))),e.push(Y)}}return this.c=e.join("&")};var Ri={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Su=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function pc(e,u){u.push('"',e.replace(Su,function(m){var b=Ri[m];return b||(b="\\u"+(65536|m.charCodeAt(0)).toString(16).substr(1),Ri[m]=b),b}),'"')}function Yo(){var e=Pr();return cr&&!!kt&&11==kt||/Edge\/\d+/.test(e)}function _(){return V.window&&V.window.location.href||self&&self.location&&self.location.href||""}function S(e,u){u=u||V.window;var m="about:blank";e&&(m=rn(ni(e))),u.location.href=m}function L(e,u){var b,m=[];for(b in e)b in u?typeof e[b]!=typeof u[b]?m.push(b):"object"==typeof e[b]&&null!=e[b]&&null!=u[b]?0<L(e[b],u[b]).length&&m.push(b):e[b]!==u[b]&&m.push(b):m.push(b);for(b in u)b in e||m.push(b);return m}function le(e){return!!((e=(e||Pr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function Te(e){e=e||V.window;try{e.close()}catch(u){}}function Xe(e,u,m){var b=Math.floor(1e9*Math.random()).toString();u=u||500,m=m||600;var M=(window.screen.availHeight-m)/2,G=(window.screen.availWidth-u)/2;for(Y in u={width:u,height:m,top:0<M?M:0,left:0<G?G:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},m=Pr().toLowerCase(),b&&(u.target=b,oe(m,"crios/")&&(u.target="_blank")),ws(Pr())==Ca&&(e=e||"http://localhost",u.scrollbars=!0),m=e||"",(e=u)||(e={}),b=window,u=m instanceof It?m:ni(void 0!==m.href?m.href:String(m)),m=e.target||m.target,M=[],e)switch(Y){case"width":case"height":case"top":case"left":M.push(Y+"="+e[Y]);break;case"target":case"noopener":case"noreferrer":break;default:M.push(Y+"="+(e[Y]?1:0))}var Y=M.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&b.navigator&&b.navigator.standalone&&m&&"_self"!=m?(Qn(Y=Si(document,"A"),"HTMLAnchorElement"),u instanceof It||u instanceof It||(u="object"==typeof u&&u.sa?u.ra():String(u),zr.test(u)||(u="about:invalid#zClosurez"),u=new It(io,u)),Y.href=rn(u),Y.setAttribute("target",m),e.noreferrer&&Y.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,b,1),Y.dispatchEvent(e),Y={}):e.noreferrer?(Y=b.open("",m,Y),e=rn(u),Y&&(Pn&&oe(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),Y.opener=null,e=oo('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+kr(e)+'">'),b=Y.document)&&(b.write(Rs(e)),b.close())):(Y=b.open(rn(u),m,Y))&&e.noopener&&(Y.opener=null),Y)try{Y.focus()}catch(ce){}return Y}var cn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Or=/^[^@]+@[^@]+$/;function Gr(){var e=null;return new Vt(function(u){"complete"==V.document.readyState?u():(e=function(){u()},fn(window,"load",e))}).s(function(u){throw pt(window,"load",e),u})}function Ha(e){return e=e||Pr(),!("file:"!==Ga()&&"ionic:"!==Ga()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jr(){var e=V.window;try{return!(!e||e==e.top)}catch(u){return!1}}function xr(){return void 0!==V.WorkerGlobalScope&&"function"==typeof V.importScripts}function $n(){return k.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":k.INTERNAL.hasOwnProperty("node")?"Node":xr()?"Worker":"Browser"}function Qr(){var e=$n();return"ReactNative"===e||"Node"===e}var Ca="Firefox";function ws(e){var u=e.toLowerCase();return oe(u,"opera/")||oe(u,"opr/")||oe(u,"opios/")?"Opera":oe(u,"iemobile")?"IEMobile":oe(u,"msie")||oe(u,"trident/")?"IE":oe(u,"edge/")?"Edge":oe(u,"firefox/")?Ca:oe(u,"silk/")?"Silk":oe(u,"blackberry")?"Blackberry":oe(u,"webos")?"Webos":!oe(u,"safari/")||oe(u,"chrome/")||oe(u,"crios/")||oe(u,"android")?!oe(u,"chrome/")&&!oe(u,"crios/")||oe(u,"edge/")?oe(u,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":"Chrome":"Safari"}var Ia={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function bs(e,u){u=u||[];var M,m=[],b={};for(M in Ia)b[Ia[M]]=!0;for(M=0;M<u.length;M++)void 0!==b[u[M]]&&(delete b[u[M]],m.push(u[M]));return m.sort(),(u=m).length||(u=["FirebaseCore-web"]),"Browser"===(m=$n())?m=ws(b=Pr()):"Worker"===m&&(m=ws(b=Pr())+"-"+m),m+"/JsCore/"+e+"/"+u.join(",")}function Pr(){return V.navigator&&V.navigator.userAgent||""}function kn(e,u){e=e.split("."),u=u||V;for(var m=0;m<e.length&&"object"==typeof u&&null!=u;m++)u=u[e[m]];return m!=e.length&&(u=void 0),u}function Mu(){try{var e=V.localStorage,u=Es();if(e)return e.setItem(u,"1"),e.removeItem(u),!Yo()||!!V.indexedDB}catch(m){return xr()&&!!V.indexedDB}return!1}function Qs(){return(gc()||"chrome-extension:"===Ga()||Ha())&&!Qr()&&Mu()&&!xr()}function gc(){return"http:"===Ga()||"https:"===Ga()}function Ga(){return V.location&&V.location.protocol||null}function qr(e){return!(le(e=e||Pr())||ws(e)==Ca)}function Aa(e){return void 0===e?null:To(e)}function Ou(e){var m,u={};for(m in e)e.hasOwnProperty(m)&&null!=e[m]&&(u[m]=e[m]);return u}function So(e){if(null!==e)return JSON.parse(e)}function Es(e){return e||Math.floor(1e9*Math.random()).toString()}function Zc(e){return!("Safari"==ws(e=e||Pr())||e.toLowerCase().match(/iphone|ipad|ipod/))}function qa(){var e=V.___jsl;if(e&&e.H)for(var u in e.H)if(e.H[u].r=e.H[u].r||[],e.H[u].L=e.H[u].L||[],e.H[u].r=e.H[u].L.concat(),e.CP)for(var m=0;m<e.CP.length;m++)e.CP[m]=null}function Xs(e,u){if(e>u)throw Error("Short delay should be less than long delay!");this.a=e,this.c=u,e=Pr(),u=$n(),this.b=le(e)||"ReactNative"===u}function zn(){var e=V.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function xu(e){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e)}function Yi(e){try{var u=new Date(parseInt(e,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(e))return u.toUTCString()}catch(m){}return null}function Pu(){return!(!kn("fireauth.oauthhelper",V)&&!kn("fireauth.iframe",V))}Xs.prototype.get=function(){var e=V.navigator;return!e||"boolean"!=typeof e.onLine||!gc()&&"chrome-extension:"!==Ga()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ru,$l={};function ea(e){$l[e]||($l[e]=!0,xu(e))}try{var $a={};Object.defineProperty($a,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($a,"abcd",{configurable:!0,enumerable:!0,value:2}),Ru=2==$a.abcd}catch(e){Ru=!1}function _t(e,u,m){Ru?Object.defineProperty(e,u,{configurable:!0,enumerable:!0,value:m}):e[u]=m}function Rr(e,u){if(u)for(var m in u)u.hasOwnProperty(m)&&_t(e,m,u[m])}function Oo(e){var u={};return Rr(u,e),u}function Ta(e){var u=e;if("object"==typeof e&&null!=e)for(var m in u="length"in e?[]:{},e)_t(u,m,Ta(e[m]));return u}function Qc(e){var u=e&&(e[el]?"phone":null);if(!(u&&e&&e[Fi]))throw new A("internal-error","Internal assert: invalid MultiFactorInfo object");_t(this,"uid",e[Fi]),_t(this,"displayName",e[Fu]||null);var m=null;e[No]&&(m=new Date(e[No]).toUTCString()),_t(this,"enrollmentTime",m),_t(this,"factorId",u)}function Xc(e){try{var u=new ku(e)}catch(m){u=null}return u}Qc.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Fu="displayName",No="enrolledAt",Fi="mfaEnrollmentId",el="phoneInfo";function ku(e){Qc.call(this,e),_t(this,"phoneNumber",e[el])}function Lu(e){var u={},m=e[Vu],b=e[Sa],M=e[Uu];if(e=Xc(e[ju]),!M||M!=Zo&&M!=Us&&!m||M==Us&&!b||M==ta&&!e)throw Error("Invalid checkActionCode response!");M==Us?(u[ki]=m||null,u[Xn]=m||null,u[zl]=b):(u[ki]=b||null,u[Xn]=b||null,u[zl]=m||null),u[ho]=e||null,_t(this,Fr,M),_t(this,Li,Ta(u))}U(ku,Qc),ku.prototype.w=function(){var e=ku.$a.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ta="REVERT_SECOND_FACTOR_ADDITION",Zo="EMAIL_SIGNIN",Us="VERIFY_AND_CHANGE_EMAIL",Vu="email",ju="mfaInfo",Sa="newEmail",Uu="requestType",zl="email",ki="fromEmail",ho="multiFactorInfo",Xn="previousEmail",Li="data",Fr="operation";function Wl(e){var u=Mr(e=nn(e),Er)||null,m=Mr(e,Ds)||null,b=Mr(e,po)||null;if(b=b&&Ya[b]||null,!u||!m||!b)throw new A("argument-error",Er+", "+Ds+"and "+po+" are required in a valid action code URL.");Rr(this,{apiKey:u,operation:b,code:m,continueUrl:Mr(e,Jo)||null,languageCode:Mr(e,bi)||null,tenantId:Mr(e,Ka)||null})}var Er="apiKey",Ds="oobCode",Jo="continueUrl",bi="languageCode",po="mode",Ka="tenantId",Ya={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ta,signIn:Zo,verifyAndChangeEmail:Us,verifyEmail:"VERIFY_EMAIL"};function na(e){try{return new Wl(e)}catch(u){return null}}function Dr(e){var u=e[Xr];if(void 0===u)throw new A("missing-continue-uri");if("string"!=typeof u||"string"==typeof u&&!u.length)throw new A("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var m=e[tl];if(m&&"object"==typeof m){u=m[Ja];var b=m[Qo];if(m=m[Bs],"string"==typeof u&&u.length){if(this.a=u,void 0!==b&&"boolean"!=typeof b)throw new A("argument-error",Qo+" property must be a boolean when specified.");if(this.g=!!b,void 0!==m&&("string"!=typeof m||"string"==typeof m&&!m.length))throw new A("argument-error",Bs+" property must be a non empty string when specified.");this.b=m||null}else{if(void 0!==u)throw new A("argument-error",Ja+" property must be a non empty string when specified.");if(void 0!==b||void 0!==m)throw new A("missing-android-pkg-name")}}else if(void 0!==m)throw new A("argument-error",tl+" property must be a non null object when specified.");if(this.f=null,(u=e[Of])&&"object"==typeof u){if("string"==typeof(u=u[Hs])&&u.length)this.f=u;else if(void 0!==u)throw new A("argument-error",Hs+" property must be a non empty string when specified.")}else if(void 0!==u)throw new A("argument-error",Of+" property must be a non null object when specified.");if(void 0!==(u=e[Bu])&&"boolean"!=typeof u)throw new A("argument-error",Bu+" property must be a boolean when specified.");if(this.c=!!u,void 0!==(e=e[Za])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new A("argument-error",Za+" property must be a non empty string when specified.");this.i=e||null}var tl="android",Za="dynamicLinkDomain",Bu="handleCodeInApp",Of="iOS",Xr="url",Qo="installApp",Bs="minimumVersion",Ja="packageName",Hs="bundleId";function Ei(e){var u={};for(var m in u.continueUrl=e.h,u.canHandleCodeInApp=e.c,(u.androidPackageName=e.a)&&(u.androidMinimumVersion=e.b,u.androidInstallApp=e.g),u.iOSBundleId=e.f,u.dynamicLinkDomain=e.i,u)null===u[m]&&delete u[m];return u}var Ma=null;function Vi(e){var u=Jn(e);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.g=e,this.c=u.exp,this.h=u.sub,B(),this.a=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.b=!!u.is_anonymous||"anonymous"==this.a}function Hu(e){try{return new Vi(e)}catch(u){return null}}function Jn(e){if(!e||3!=(e=e.split(".")).length)return null;for(var u=(4-(e=e[1]).length%4)%4,m=0;m<u;m++)e+=".";try{return JSON.parse(function Kh(e){var u="";return function Kl(e,u){function m(We){for(;b<e.length;){var et=e.charAt(b++),Xt=Ma[et];if(null!=Xt)return Xt;if(!/^[\s\xa0]*$/.test(et))throw Error("Unknown base64 encoding at char: "+et)}return We}!function vc(){if(!Ma){Ma={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],m=0;5>m;m++)for(var b=e.concat(u[m].split("")),M=0;M<b.length;M++){var G=b[M];void 0===Ma[G]&&(Ma[G]=M)}}}();for(var b=0;;){var M=m(-1),G=m(0),Y=m(64),ce=m(64);if(64===ce&&-1===M)break;u(M<<2|G>>4),64!=Y&&(u(G<<4&240|Y>>2),64!=ce&&u(Y<<6&192|ce))}}(e,function(m){u+=String.fromCharCode(m)}),u}(e))}catch(b){}return null}Vi.prototype.S=function(){return this.f},Vi.prototype.i=function(){return this.b},Vi.prototype.toString=function(){return this.g};var ch="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gu=["client_id","response_type","scope","redirect_uri","state"],Oa={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Gu},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Gu},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Gu},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:ch},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function xo(e){for(var u in Oa)if(Oa[u].fa==e)return Oa[u];return null}function Gs(e){var u={};u["facebook.com"]=Na,u["google.com"]=xa,u["github.com"]=ei,u["twitter.com"]=rl;var m=e&&e[Nf];try{if(m)return u[m]?new u[m](e):new li(e);if(void 0!==e[nl])return new yc(e)}catch(b){}return null}var nl="idToken",Nf="providerId";function yc(e){var u=e[Nf];if(!u&&e[nl]){var m=Hu(e[nl]);m&&m.a&&(u=m.a)}if(!u)throw Error("Invalid additional user info!");("anonymous"==u||"custom"==u)&&(u=null),m=!1,void 0!==e.isNewUser?m=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(m=!0),_t(this,"providerId",u),_t(this,"isNewUser",m)}function li(e){yc.call(this,e),_t(this,"profile",Ta((e=So(e.rawUserInfo||"{}"))||{}))}function Na(e){if(li.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ei(e){if(li.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");_t(this,"username",this.profile&&this.profile.login||null)}function xa(e){if(li.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function rl(e){if(li.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");_t(this,"username",e.screenName||null)}function Cs(e){var u=nn(e),m=Mr(u,"link"),b=Mr(nn(m),"link");return u=Mr(u,"deep_link_id"),Mr(nn(u),"link")||u||b||m||e}function _c(e,u){if(!e&&!u)throw new A("internal-error","Internal assert: no raw session string available");if(e&&u)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=u||null,this.type=this.a?wc:bc}U(li,yc),U(Na,li),U(ei,li),U(xa,li),U(rl,li);var wc="enroll",bc="signin";function ra(){}function qu(e,u){return e.then(function(m){if(m[ji]){var b=Hu(m[ji]);if(!b||u!=b.h)throw new A("user-mismatch");return m}throw new A("user-mismatch")}).s(function(m){throw m&&m.code&&m.code==$+"user-not-found"?new A("user-mismatch"):m})}function Is(e,u){if(!u)throw new A("internal-error","failed to construct a credential");this.a=u,_t(this,"providerId",e),_t(this,"signInMethod",e)}function il(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function xf(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new Is(e.providerId,e.pendingToken)}catch(u){}return null}function xn(e,u,m){if(this.a=null,u.idToken||u.accessToken)u.idToken&&_t(this,"idToken",u.idToken),u.accessToken&&_t(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&_t(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else{if(!u.oauthToken||!u.oauthTokenSecret)throw new A("internal-error","failed to construct a credential");_t(this,"accessToken",u.oauthToken),_t(this,"secret",u.oauthTokenSecret)}_t(this,"providerId",e),_t(this,"signInMethod",m)}function ia(e){var u={};return e.idToken&&(u.id_token=e.idToken),e.accessToken&&(u.access_token=e.accessToken),e.secret&&(u.oauth_token_secret=e.secret),u.providerId=e.providerId,e.nonce&&!e.a&&(u.nonce=e.nonce),u={postBody:js(u).toString(),requestUri:"http://localhost"},e.a&&(delete u.postBody,u.pendingToken=e.a),u}function Pf(e){if(e&&e.providerId&&e.signInMethod){var u={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new xn(e.providerId,u,e.signInMethod)}catch(m){}}return null}function go(e,u){this.Pc=u||[],Rr(this,{providerId:e,isOAuthProvider:!0}),this.Hb={},this.ob=(xo(e)||{}).Ja||null,this.nb=null}function qs(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');go.call(this,e,[])}function Zi(e){go.call(this,e,Gu),this.a=[]}function oa(){Zi.call(this,"facebook.com")}function ol(e){if(!e)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=e;return Me(e)&&(u=e.accessToken),(new oa).credential({accessToken:u})}function As(){Zi.call(this,"github.com")}function Po(e){if(!e)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=e;return Me(e)&&(u=e.accessToken),(new As).credential({accessToken:u})}function sa(){Zi.call(this,"google.com"),this.Ca("profile")}function Qa(e,u){var m=e;return Me(e)&&(m=e.idToken,u=e.accessToken),(new sa).credential({idToken:m,accessToken:u})}function Xo(){go.call(this,"twitter.com",ch)}function es(e,u){var m=e;if(Me(m)||(m={oauthToken:e,oauthTokenSecret:u}),!m.oauthToken||!m.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new xn("twitter.com",m,"twitter.com")}function Ro(e,u,m){this.a=e,this.f=u,_t(this,"providerId","password"),_t(this,"signInMethod",m===fi.EMAIL_LINK_SIGN_IN_METHOD?fi.EMAIL_LINK_SIGN_IN_METHOD:fi.EMAIL_PASSWORD_SIGN_IN_METHOD)}function $u(e){return e&&e.email&&e.password?new Ro(e.email,e.password,e.signInMethod):null}function fi(){Rr(this,{providerId:"password",isOAuthProvider:!1})}function Yl(e,u){if(!(u=sl(u)))throw new A("argument-error","Invalid email link!");return new Ro(e,u.code,fi.EMAIL_LINK_SIGN_IN_METHOD)}function sl(e){return(e=na(e=Cs(e)))&&e.operation===Zo?e:null}function Di(e){if(!(e.cb&&e.bb||e.La&&e.ea))throw new A("internal-error");this.a=e,_t(this,"providerId","phone"),this.fa="phone",_t(this,"signInMethod","phone")}function ts(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var u={};return Lt(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(m){e[m]&&(u[m]=e[m])}),new Di(u)}return null}function zu(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.cb,code:e.a.bb}}function fr(e){try{this.a=e||k.auth()}catch(u){throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Rr(this,{providerId:"phone",isOAuthProvider:!1})}function ns(e,u){if(!e)throw new A("missing-verification-id");if(!u)throw new A("missing-verification-code");return new Di({cb:e,bb:u})}function Pa(e){if(e.temporaryProof&&e.phoneNumber)return new Di({La:e.temporaryProof,ea:e.phoneNumber});var u=e&&e.providerId;if(!u||"password"===u)return null;var m=e&&e.oauthAccessToken,b=e&&e.oauthTokenSecret,M=e&&e.nonce,G=e&&e.oauthIdToken,Y=e&&e.pendingToken;try{switch(u){case"google.com":return Qa(G,m);case"facebook.com":return ol(m);case"github.com":return Po(m);case"twitter.com":return es(m,b);default:return m||b||G||Y?Y?0==u.indexOf("saml.")?new Is(u,Y):new xn(u,{pendingToken:Y,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},u):new Zi(u).credential({idToken:G,accessToken:m,rawNonce:M}):null}}catch(ce){return null}}function hi(e){if(!e.isOAuthProvider)throw new A("invalid-oauth-provider")}function Fo(e,u,m,b,M,G,Y){if(this.c=e,this.b=u||null,this.g=m||null,this.f=b||null,this.i=G||null,this.h=Y||null,this.a=M||null,!this.g&&!this.a)throw new A("invalid-auth-event");if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}function al(e){return(e=e||{}).type?new Fo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&F(e.error),e.postBody,e.tenantId):null}function Zl(){this.b=null,this.a=[]}_c.prototype.Ha=function(){return bt(this.a?this.a:this.b)},_c.prototype.w=function(){return this.type==wc?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ra.prototype.ja=function(){},ra.prototype.b=function(){},ra.prototype.c=function(){},ra.prototype.w=function(){},Is.prototype.ja=function(e){return Dl(e,il(this))},Is.prototype.b=function(e,u){var m=il(this);return m.idToken=u,xc(e,m)},Is.prototype.c=function(e,u){return qu(oc(e,il(this)),u)},Is.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},xn.prototype.ja=function(e){return Dl(e,ia(this))},xn.prototype.b=function(e,u){var m=ia(this);return m.idToken=u,xc(e,m)},xn.prototype.c=function(e,u){return qu(oc(e,ia(this)),u)},xn.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},go.prototype.Ka=function(e){return this.Hb=tt(e),this},U(qs,go),U(Zi,go),Zi.prototype.Ca=function(e){return Wt(this.a,e)||this.a.push(e),this},Zi.prototype.Pb=function(){return En(this.a)},Zi.prototype.credential=function(e,u){var m;if(!(m=Me(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:u||null}).idToken&&!m.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new xn(this.providerId,m,this.providerId)},U(oa,Zi),_t(oa,"PROVIDER_ID","facebook.com"),_t(oa,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),U(As,Zi),_t(As,"PROVIDER_ID","github.com"),_t(As,"GITHUB_SIGN_IN_METHOD","github.com"),U(sa,Zi),_t(sa,"PROVIDER_ID","google.com"),_t(sa,"GOOGLE_SIGN_IN_METHOD","google.com"),U(Xo,go),_t(Xo,"PROVIDER_ID","twitter.com"),_t(Xo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ro.prototype.ja=function(e){return this.signInMethod==fi.EMAIL_LINK_SIGN_IN_METHOD?Gt(e,uf,{email:this.a,oobCode:this.f}):Gt(e,Nt,{email:this.a,password:this.f})},Ro.prototype.b=function(e,u){return this.signInMethod==fi.EMAIL_LINK_SIGN_IN_METHOD?Gt(e,Xh,{idToken:u,email:this.a,oobCode:this.f}):Gt(e,ee,{idToken:u,email:this.a,password:this.f})},Ro.prototype.c=function(e,u){return qu(this.ja(e),u)},Ro.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Rr(fi,{PROVIDER_ID:"password"}),Rr(fi,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Rr(fi,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Di.prototype.ja=function(e){return e.eb(zu(this))},Di.prototype.b=function(e,u){var m=zu(this);return m.idToken=u,Gt(e,gn,m)},Di.prototype.c=function(e,u){var m=zu(this);return m.operation="REAUTH",qu(e=Gt(e,Gn,m),u)},Di.prototype.w=function(){var e={providerId:"phone"};return this.a.cb&&(e.verificationId=this.a.cb),this.a.bb&&(e.verificationCode=this.a.bb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},fr.prototype.eb=function(e,u){var m=this.a.a;return bt(u.verify()).then(function(b){if("string"!=typeof b)throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===u.type){var Y,M=Me(e)?e.session:null,G=Me(e)?e.phoneNumber:e;return Y=M&&M.type==wc?M.Ha().then(function(ce){return function da(e,u){return Gt(e,ue,u).then(function(m){return m.phoneSessionInfo.sessionInfo})}(m,{idToken:ce,phoneEnrollmentInfo:{phoneNumber:G,recaptchaToken:b}})}):M&&M.type==bc?M.Ha().then(function(ce){return function El(e,u){return Gt(e,Ee,u).then(function(m){return m.phoneResponseInfo.sessionInfo})}(m,{mfaPendingCredential:ce,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:b}})}):function Fa(e,u){return Gt(e,R,u)}(m,{phoneNumber:G,recaptchaToken:b}),Y.then(function(ce){return"function"==typeof u.reset&&u.reset(),ce},function(ce){throw"function"==typeof u.reset&&u.reset(),ce})}throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},Rr(fr,{PROVIDER_ID:"phone"}),Rr(fr,{PHONE_SIGN_IN_METHOD:"phone"}),Fo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Fo.prototype.S=function(){return this.h},Fo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var ru,Xa=null;function aa(e){var u="unauthorized-domain",m=void 0,b=nn(e);e=b.a,"chrome-extension"==(b=b.f)?m=_o("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==b||"https"==b?m=_o("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):u="operation-not-supported-in-this-environment",A.call(this,u,m)}function Wu(e,u,m){A.call(this,e,m),(e=u||{}).Ib&&_t(this,"email",e.Ib),e.ea&&_t(this,"phoneNumber",e.ea),e.credential&&_t(this,"credential",e.credential),e.Yb&&_t(this,"tenantId",e.Yb)}function eu(e){if(e.code){var u=e.code||"";0==u.indexOf($)&&(u=u.substring($.length));var m={credential:Pa(e),Yb:e.tenantId};if(e.email)m.Ib=e.email;else if(e.phoneNumber)m.ea=e.phoneNumber;else if(!m.credential)return new A(u,e.message||void 0);return new Wu(u,m,e.message)}return null}function tu(){}function Ku(){}function cl(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],m=0;m<u.length;m++){var b=u[m];try{return new ActiveXObject(b),e.f=b}catch(M){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Ec(){}function Ts(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=Ne(this.pc,this),this.a.onerror=Ne(this.Rb,this),this.a.onprogress=Ne(this.qc,this),this.a.ontimeout=Ne(this.uc,this)}function Yu(e,u){e.readyState=u,e.onreadystatechange&&e.onreadystatechange()}function $s(e,u,m){this.reset(e,u,m,void 0,void 0)}function iu(e){this.f=e,this.b=this.c=this.a=null}function Zu(e,u){this.name=e,this.value=u}U(aa,A),U(Wu,A),Wu.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Tt(e,u),e},Wu.prototype.toJSON=function(){return this.w()},tu.prototype.c=null,U(Ku,tu),Ku.prototype.a=function(){var e=cl(this);return e?new ActiveXObject(e):new XMLHttpRequest},Ku.prototype.b=function(){var e={};return cl(this)&&(e[0]=!0,e[1]=!0),e},ru=new Ku,U(Ec,tu),Ec.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Ts;throw Error("Unsupported browser")},Ec.prototype.b=function(){return{}},(d=Ts.prototype).open=function(e,u,m){if(null!=m&&!m)throw Error("Only async requests are supported.");this.a.open(e,u)},d.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},d.abort=function(){this.a.abort()},d.setRequestHeader=function(){},d.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},d.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Yu(this,4)},d.Rb=function(){this.status=500,this.response=this.responseText="",Yu(this,4)},d.uc=function(){this.Rb()},d.qc=function(){this.status=200,Yu(this,1)},d.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},$s.prototype.a=null,$s.prototype.reset=function(e,u,m,b,M){b||B(),delete this.a},Zu.prototype.toString=function(){return this.name};var ko=new Zu("SEVERE",1e3),Ji=new Zu("WARNING",900),ll=new Zu("CONFIG",700),fl=new Zu("FINE",500);function Ql(e){return e.c?e.c:e.a?Ql(e.a):(Ve("Root logger has no level set."),null)}iu.prototype.log=function(e,u,m){if(e.value>=Ql(this).value)for(ze(u)&&(u=u()),e=new $s(e,String(u),this.f),m&&(e.a=m),m=this;m;)m=m.a};var hl={},Dc=null;function Ss(e){var u;if(Dc||(Dc=new iu(""),hl[""]=Dc,Dc.c=ll),!(u=hl[e])){u=new iu(e);var m=e.lastIndexOf("."),b=e.substr(m+1);(m=Ss(e.substr(0,m))).b||(m.b={}),m.b[b]=u,u.a=m,hl[e]=u}return u}function Hn(e,u){e&&e.log(fl,u,void 0)}function Cc(e){this.f=e}function Rf(e){on.call(this),this.o=e,this.readyState=Ff,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Ss("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}U(Cc,tu),Cc.prototype.a=function(){return new Rf(this.f)},Cc.prototype.b=function(e){return function(){return e}}({}),U(Rf,on);var Ff=0;function Ju(e){e.c.read().then(e.oc.bind(e)).catch(e.Ta.bind(e))}function Ra(e,u){u&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,ou(e)}function ou(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function rs(e){on.call(this),this.headers=new Ls,this.O=e||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=Xl,this.u=this.R=!1}(d=Rf.prototype).open=function(e,u){if(this.readyState!=Ff)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=u,this.readyState=1,ou(this)},d.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(u.body=e),this.o.fetch(new Request(this.g,u)).then(this.tc.bind(this),this.Ta.bind(this))},d.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ra(this,!1)),this.readyState=Ff},d.tc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,ou(this)),this.a&&(this.readyState=3,ou(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==V.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,Ju(this)):e.text().then(this.sc.bind(this),this.Ta.bind(this)))))},d.oc=function(e){if(this.a){var u=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});u&&(this.response=this.responseText+=u),e.done?Ra(this,!0):ou(this),3==this.readyState&&Ju(this)}},d.sc=function(e){this.a&&(this.response=this.responseText=e,Ra(this,!0))},d.rc=function(e){this.a&&(this.response=e,Ra(this,!0))},d.Ta=function(e){var u=this.h;u&&u.log(Ji,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&Ra(this,!0)},d.setRequestHeader=function(e,u){this.i.append(e,u)},d.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(Ji,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},d.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(Ji,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var u=this.b.entries(),m=u.next();!m.done;)e.push((m=m.value)[0]+": "+m[1]),m=u.next();return e.join("\r\n")},U(rs,on);var Xl="";rs.prototype.b=Ss("goog.net.XhrIo");var is=/^https?$/i,Ic=["POST","PUT"];function hh(e){return"content-type"==e.toLowerCase()}function Yh(e,u){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=u,Zh(e),su(e)}function Zh(e){e.G||(e.G=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Jh(e){if(e.c&&void 0!==ge)if(e.A[1]&&4==ua(e)&&2==dl(e))Hn(e.b,Lo(e,"Local request error detected and ignored"));else if(e.i&&4==ua(e))Wo(e.Ub,0,e);else if(e.dispatchEvent("readystatechange"),4==ua(e)){Hn(e.b,Lo(e,"Request complete")),e.c=!1;try{var b,u=dl(e);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}if(!(b=m)){var M;if(M=0===u){var G=String(e.l).match(Iu)[1]||null;if(!G&&V.self&&V.self.location){var Y=V.self.location.protocol;G=Y.substr(0,Y.length-1)}M=!is.test(G?G.toLowerCase():"")}b=M}if(b)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var ce=2<ua(e)?e.a.statusText:""}catch(We){Hn(e.b,"Can not get status: "+We.message),ce=""}e.h=ce+" ["+dl(e)+"]",Zh(e)}}finally{su(e)}}}function su(e,u){if(e.a){Ac(e);var m=e.a,b=e.A[0]?De:null;e.a=null,e.A=null,u||e.dispatchEvent("ready");try{m.onreadystatechange=b}catch(M){(e=e.b)&&e.log(ko,"Problem encountered resetting onreadystatechange: "+M.message,void 0)}}}function Ac(e){e.a&&e.u&&(e.a.ontimeout=null),e.o&&(V.clearTimeout(e.o),e.o=null)}function ua(e){return e.a?e.a.readyState:0}function dl(e){try{return 2<ua(e)?e.a.status:-1}catch(u){return-1}}function Lo(e,u){return u+" ["+e.P+" "+e.l+" "+dl(e)+"]"}function mo(e){var u=Sc;this.g=[],this.u=u,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function Ms(e,u,m){e.a=!0,e.c=m,e.f=!u,uu(e)}function ca(e){if(e.a){if(!e.m)throw new cu(e);e.m=!1}}function Qu(e,u,m,b){e.g.push([u,m,b]),e.a&&uu(e)}function vo(e){return An(e.g,function(u){return ze(u[1])})}function uu(e){if(e.h&&e.a&&vo(e)){var u=e.h,m=ec[u];m&&(V.clearTimeout(m.a),delete ec[u]),e.h=0}e.b&&(e.b.l--,delete e.b),u=e.c;for(var b=m=!1;e.g.length&&!e.i;){var M=e.g.shift(),G=M[0],Y=M[1];if(M=M[2],G=e.f?Y:G)try{var ce=G.call(M||e.o,u);void 0!==ce&&(e.f=e.f&&(ce==u||ce instanceof Error),e.c=u=ce),(_e(u)||"function"==typeof V.Promise&&u instanceof V.Promise)&&(b=!0,e.i=!0)}catch(We){u=We,e.f=!0,vo(e)||(m=!0)}}e.c=u,b&&(ce=Ne(e.v,e,!0),b=Ne(e.v,e,!1),u instanceof mo?(Qu(u,ce,b),u.A=!0):u.then(ce,b)),m&&(u=new Cr(u),ec[u.a]=u,e.h=u.a)}function cu(){rt.call(this)}function Xu(){rt.call(this)}function Cr(e){this.a=V.setTimeout(Ne(this.c,this),0),this.b=e}(d=rs.prototype).Ma=function(){void 0!==ge&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Hn(this.b,Lo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},d.abort=function(){this.a&&this.c&&(Hn(this.b,Lo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),su(this))},d.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),su(this,!0)),rs.$a.Da.call(this)},d.Ub=function(){this.xa||(this.N||this.i||this.f?Jh(this):this.Ic())},d.Ic=function(){Jh(this)},d.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Xl:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ko,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return Hn(this.b,"Can not get response: "+u.message),null}},mo.prototype.cancel=function(e){if(this.a)this.c instanceof mo&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,e?u.cancel(e):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(e=new Xu(this),ca(this),Ms(this,!1,e))}},mo.prototype.v=function(e,u){this.i=!1,Ms(this,e,u)},mo.prototype.then=function(e,u,m){var b,M,G=new Vt(function(Y,ce){b=Y,M=ce});return Qu(this,b,function(Y){Y instanceof Xu?G.cancel():M(Y)}),G.then(e,u,m)},mo.prototype.$goog_Thenable=!0,U(cu,rt),cu.prototype.message="Deferred has already fired",cu.prototype.name="AlreadyCalledError",U(Xu,rt),Xu.prototype.message="Deferred was canceled",Xu.prototype.name="CanceledError",Cr.prototype.c=function(){throw delete ec[this.a],this.b};var ec={};function tf(e){var u={},m=u.document||document,b=ro(e).toString(),M=Si(document,"SCRIPT"),G={Vb:M,Ma:void 0},Y=new mo(G),ce=null,We=null!=u.timeout?u.timeout:5e3;return 0<We&&(ce=window.setTimeout(function(){Mc(M,!0);var et=new gl(nf,"Timeout reached for loading script "+b);ca(Y),Ms(Y,!1,et)},We),G.Ma=ce),M.onload=M.onreadystatechange=function(){M.readyState&&"loaded"!=M.readyState&&"complete"!=M.readyState||(Mc(M,u.wd||!1,ce),ca(Y),Ms(Y,!0,null))},M.onerror=function(){Mc(M,!0,ce);var et=new gl(pl,"Error while loading script "+b);ca(Y),Ms(Y,!1,et)},Tt(G=u.attributes||{},{type:"text/javascript",charset:"UTF-8"}),At(M,G),function vi(e,u){Qn(e,"HTMLScriptElement"),e.src=ro(u),null===me&&(me=(u=(u=V.document).querySelector&&u.querySelector("script[nonce]"))&&(u=u.nonce||u.getAttribute("nonce"))&&Q.test(u)?u:""),(u=me)&&e.setAttribute("nonce",u)}(M,e),function Tc(e){var u;return(u=(e||document).getElementsByTagName("HEAD"))&&0!=u.length?u[0]:e.documentElement}(m).appendChild(M),Y}function Sc(){if(this&&this.Vb){var e=this.Vb;e&&"SCRIPT"==e.tagName&&Mc(e,!0,this.Ma)}}function Mc(e,u,m){null!=m&&V.clearTimeout(m),e.onload=De,e.onerror=De,e.onreadystatechange=De,u&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}var pl=0,nf=1;function gl(e,u){var m="Jsloader error (code #"+e+")";u&&(m+=": "+u),rt.call(this,m),this.code=e}function tc(e){this.f=e}function Vo(e,u,m){if(this.c=e,this.l=(e=u||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=e.secureTokenTimeout||ti,this.g=tt(e.secureTokenHeaders||la),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=e.firebaseTimeout||nc,this.a=tt(e.firebaseHeaders||jo),m&&(this.a["X-Client-Version"]=m,this.g["X-Client-Version"]=m),m="Node"==$n(),!(m=V.XMLHttpRequest||m&&k.INTERNAL.node&&k.INTERNAL.node.XMLHttpRequest)&&!xr())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=xr()?new Cc(self):Qr()?new tc(m):new Ec,this.b=null}U(gl,rt),U(tc,tu),tc.prototype.a=function(){return new this.f},tc.prototype.b=function(){return{}};var ml,ji="idToken",ti=new Xs(3e4,6e4),la={"Content-Type":"application/x-www-form-urlencoded"},nc=new Xs(3e4,6e4),jo={"Content-Type":"application/json"};function Ir(e,u){u?e.a["X-Firebase-Locale"]=u:delete e.a["X-Firebase-Locale"]}function Os(e,u){u&&(e.l=fa("https://securetoken.googleapis.com/v1/token",u),e.h=fa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),e.i=fa("https://identitytoolkit.googleapis.com/v2/",u))}function fa(e,u){return e=nn(e),u=nn(u.url),e.c=e.a+e.c,Ut(e,u.f),e.a=u.a,Io(e,u.g),e.toString()}function lu(e,u){u?(e.a["X-Client-Version"]=u,e.g["X-Client-Version"]=u):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function rc(e,u,m,b,M,G,Y){(function X(){var e=Pr();return!((e="Chrome"!=ws(e)?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||cr&&kt&&!(9<kt))})()||xr()?e=Ne(e.u,e):(ml||(ml=new Vt(function(ce,We){!function vl(e,u){((window.gapi||{}).client||{}).request?e():(V[ic]=function(){((window.gapi||{}).client||{}).request?e():u(Error("CORS_UNSUPPORTED"))},function au(e,u){Qu(e,null,u,void 0)}(tf(ur(Oc,{onload:ic})),function(){u(Error("CORS_UNSUPPORTED"))}))}(ce,We)})),e=Ne(e.o,e)),e(u,m,b,M,G,Y)}Vo.prototype.S=function(){return this.b},Vo.prototype.u=function(e,u,m,b,M,G){if(xr()&&(void 0===V.fetch||void 0===V.Headers||void 0===V.Request))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var Y=new rs(this.f);if(G){Y.g=Math.max(0,G);var ce=setTimeout(function(){Y.dispatchEvent("timeout")},G)}lo(Y,"complete",function(){ce&&clearTimeout(ce);var We=null;try{We=JSON.parse(function ef(e){try{return e.a?e.a.responseText:""}catch(u){return Hn(e.b,"Can not get responseText: "+u.message),""}}(this))||null}catch(et){We=null}u&&u(We)}),Ni(Y,"ready",function(){ce&&clearTimeout(ce),Co(this)}),Ni(Y,"timeout",function(){ce&&clearTimeout(ce),Co(this),u&&u(null)}),function lh(e,u,m,b,M){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+u);m=m?m.toUpperCase():"GET",e.l=u,e.h="",e.P=m,e.G=!1,e.c=!0,e.a=e.O?e.O.a():ru.a(),e.A=function nu(e){return e.c||(e.c=e.b())}(e.O?e.O:ru),e.a.onreadystatechange=Ne(e.Ub,e);try{Hn(e.b,Lo(e,"Opening Xhr")),e.N=!0,e.a.open(m,String(u),!0),e.N=!1}catch(Y){return Hn(e.b,Lo(e,"Error opening Xhr: "+Y.message)),void Yh(e,Y)}u=b||"";var G=new Ls(e.headers);M&&function $i(e,u){if(e.forEach&&"function"==typeof e.forEach)e.forEach(u,void 0);else if(Le(e)||"string"==typeof e)Lt(e,u,void 0);else for(var m=Cu(e),b=Mt(e),M=b.length,G=0;G<M;G++)u.call(void 0,b[G],m&&m[G],e)}(M,function(Y,ce){G.set(ce,Y)}),M=function vt(e){e:{for(var u=hh,m=e.length,b="string"==typeof e?e.split(""):e,M=0;M<m;M++)if(M in b&&u.call(void 0,b[M],M,e)){u=M;break e}u=-1}return 0>u?null:"string"==typeof e?e.charAt(u):e[u]}(G.Y()),b=V.FormData&&u instanceof V.FormData,!Wt(Ic,m)||M||b||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),G.forEach(function(Y,ce){this.a.setRequestHeader(ce,Y)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.R&&(e.a.withCredentials=e.R);try{Ac(e),0<e.g&&(e.u=function fh(e){return cr&&mr(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),Hn(e.b,Lo(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=Ne(e.Ma,e)):e.o=Wo(e.Ma,e.g,e)),Hn(e.b,Lo(e,"Sending request")),e.i=!0,e.a.send(u),e.i=!1}catch(Y){Hn(e.b,Lo(e,"Send error: "+Y.message)),Yh(e,Y)}}(Y,e,m,b,M)};var Oc=new ar(Bi,"https://apis.google.com/js/client.js?onload=%{onload}"),ic="__fcb"+Math.floor(1e6*Math.random()).toString();function os(e){if("string"!=typeof(e=e.email)||!Or.test(e))throw new A("invalid-email")}function wl(e){"email"in e&&os(e)}function di(e){if(!e[ji])throw e.mfaPendingCredential?new A("multi-factor-auth-required",null,tt(e)):new A("internal-error")}function ha(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new A("internal-error")}else{if(!e.sessionInfo)throw new A("missing-verification-id");if(!e.code)throw new A("missing-verification-code")}}Vo.prototype.o=function(e,u,m,b,M){var G=this;ml.then(function(){window.gapi.client.setApiKey(G.c);var Y=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:m,body:b,headers:M,authType:"none",callback:function(ce){window.gapi.auth.setToken(Y),u&&u(ce)}})}).s(function(Y){u&&u({error:{message:Y&&Y.message||"CORS_UNSUPPORTED"}})})},Vo.prototype.yb=function(){return Gt(this,fe,{})},Vo.prototype.Ab=function(e,u){return Gt(this,W,{idToken:e,email:u})},Vo.prototype.Bb=function(e,u){return Gt(this,ee,{idToken:e,password:u})};var rf={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function zs(e){if(!e.phoneVerificationInfo)throw new A("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new A("missing-verification-code")}function kf(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new A("internal-error")}function of(e,u){return u.oauthIdToken&&u.providerId&&0==u.providerId.indexOf("oidc.")&&!u.pendingToken&&(e.sessionId?u.nonce=e.sessionId:e.postBody&&Da(e=new Br(e.postBody),"nonce")&&(u.nonce=e.get("nonce"))),u}function sf(e){var u=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",u=eu(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",u=eu(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",u=eu(e)):e.errorMessage&&(u=Uo(e.errorMessage)),u)throw u;di(e)}function Dl(e,u){return u.returnIdpCredential=!0,Gt(e,Fe,u)}function xc(e,u){return u.returnIdpCredential=!0,Gt(e,yt,u)}function oc(e,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Gt(e,qe,u)}function sc(e){if(!e.oobCode)throw new A("invalid-action-code")}(d=Vo.prototype).Cb=function(e,u){var m={idToken:e},b=[];return Zt(rf,function(M,G){var Y=u[G];null===Y?b.push(M):G in u&&(m[G]=Y)}),b.length&&(m.deleteAttribute=b),Gt(this,W,m)},d.ub=function(e,u){return Tt(e={requestType:"PASSWORD_RESET",email:e},u),Gt(this,g,e)},d.vb=function(e,u){return Tt(e={requestType:"EMAIL_SIGNIN",email:e},u),Gt(this,r,e)},d.tb=function(e,u){return Tt(e={requestType:"VERIFY_EMAIL",idToken:e},u),Gt(this,o,e)},d.Db=function(e,u,m){return Tt(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:u},m),Gt(this,f,e)},d.eb=function(e){return Gt(this,Yt,e)},d.mb=function(e,u){return Gt(this,T,{oobCode:e,newPassword:u})},d.Qa=function(e){return Gt(this,Rc,{oobCode:e})},d.ib=function(e){return Gt(this,Pc,{oobCode:e})};var Pc={endpoint:"setAccountInfo",B:sc,Z:"email",C:!0},Rc={endpoint:"resetPassword",B:sc,F:function(e){var u=e.requestType;if(!u||!e.email&&"EMAIL_SIGNIN"!=u&&"VERIFY_AND_CHANGE_EMAIL"!=u)throw new A("internal-error")},C:!0},Lf={endpoint:"signupNewUser",B:function(e){if(os(e),!e.password)throw new A("weak-password")},F:di,U:!0,C:!0},af={endpoint:"createAuthUri",C:!0},yo={endpoint:"deleteAccount",M:["idToken"]},pa={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(e){if("array"!=se(e.deleteProvider))throw new A("internal-error")}},uf={endpoint:"emailLinkSignin",M:["email","oobCode"],B:os,F:di,U:!0,C:!0},Xh={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:os,F:di,U:!0},cf={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:zs,F:di,C:!0,Na:!0},dh={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:zs,F:di,C:!0,Na:!0},s={endpoint:"getAccountInfo"},r={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new A("internal-error");os(e)},Z:"email",C:!0},o={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new A("internal-error")},Z:"email",C:!0},f={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new A("internal-error")},Z:"email",C:!0},g={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(e){if("PASSWORD_RESET"!=e.requestType)throw new A("internal-error");os(e)},Z:"email",C:!0},w={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},D={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(e){if(!e.recaptchaSiteKey)throw new A("internal-error")}},T={endpoint:"resetPassword",B:sc,Z:"email",C:!0},R={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},W={endpoint:"setAccountInfo",M:["idToken"],B:wl,U:!0},ee={endpoint:"setAccountInfo",M:["idToken"],B:function(e){if(wl(e),!e.password)throw new A("weak-password")},F:di,U:!0},fe={endpoint:"signupNewUser",F:di,U:!0,C:!0},ue={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(e){if(!e.phoneEnrollmentInfo)throw new A("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},F:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new A("internal-error")},C:!0,Na:!0},Ee={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},F:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new A("internal-error")},C:!0,Na:!0},Fe={endpoint:"verifyAssertion",B:kf,Xa:of,F:sf,U:!0,C:!0},qe={endpoint:"verifyAssertion",B:kf,Xa:of,F:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new A("user-not-found");if(e.errorMessage)throw Uo(e.errorMessage);di(e)},U:!0,C:!0},yt={endpoint:"verifyAssertion",B:function(e){if(kf(e),!e.idToken)throw new A("internal-error")},Xa:of,F:sf,U:!0},gt={endpoint:"verifyCustomToken",B:function(e){if(!e.token)throw new A("invalid-custom-token")},F:di,U:!0,C:!0},Nt={endpoint:"verifyPassword",B:function(e){if(os(e),!e.password)throw new A("wrong-password")},F:di,U:!0,C:!0},Yt={endpoint:"verifyPhoneNumber",B:ha,F:di,C:!0},gn={endpoint:"verifyPhoneNumber",B:function(e){if(!e.idToken)throw new A("internal-error");ha(e)},F:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",eu(e);di(e)}},Gn={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ha,F:di,C:!0},Wn={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(e){if(!!e[ji]^!!e.refreshToken)throw new A("internal-error")},C:!0,Na:!0};function Gt(e,u,m){if(!function Wa(e,u){if(!u||!u.length)return!0;if(!e)return!1;for(var m=0;m<u.length;m++){var b=e[u[m]];if(null==b||""===b)return!1}return!0}(m,u.M))return Tn(new A("internal-error"));var G,b=!!u.Na,M=u.Tb||"POST";return bt(m).then(u.B).then(function(){return u.U&&(m.returnSecureToken=!0),u.C&&e.b&&void 0===m.tenantId&&(m.tenantId=e.b),function _l(e,u,m,b,M,G,Y){var ce=nn(u+m);wn(ce,"key",e.c),Y&&wn(ce,"cb",B().toString());var We="GET"==b;if(We)for(var et in M)M.hasOwnProperty(et)&&wn(ce,et,M[et]);return new Vt(function(Xt,er){rc(e,ce.toString(),function(Ln){Ln?Ln.error?er(ga(Ln,G||{})):Xt(Ln):er(new A("network-request-failed"))},b,We?void 0:To(Ou(M)),e.a,e.m.get())})}(e,b?e.i:e.h,u.endpoint,M,m,u.Gb,u.kb||!1)}).then(function(Y){return G=Y,u.Xa?u.Xa(m,G):G}).then(u.F).then(function(){if(!u.Z)return G;if(!(u.Z in G))throw new A("internal-error");return G[u.Z]})}function Uo(e){return ga({error:{errors:[{message:e}],code:400,message:e}})}function ga(e,u){var m=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",b={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(m=b[m]?new A(b[m]):null)return m;for(var M in m=e.error&&e.error.message||"",Tt(b={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},u||{}),u=(u=m.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0,b)if(0===m.indexOf(M))return new A(b[M],u);return!u&&e&&(u=Aa(e)),new A("internal-error",u)}function fu(e){this.b=e,this.a=null,this.qb=function Ns(e){return function ph(){return as||(as=new Vt(function(e,u){function m(){qa(),kn("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){qa(),u(Error("Network Error"))},timeout:ka.get()})}if(kn("gapi.iframes.Iframe"))e();else if(kn("gapi.load"))m();else{var b="__iframefcb"+Math.floor(1e6*Math.random()).toString();V[b]=function(){kn("gapi.load")?m():u(Error("Network Error"))},bt(tf(b=ur(Cl,{onload:b}))).s(function(){u(Error("Network Error"))})}}).s(function(e){throw as=null,e}))}().then(function(){return new Vt(function(u,m){kn("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:kn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(b){function M(){clearTimeout(G),u()}e.a=b,e.a.restyle({setHideOnLeave:!1});var G=setTimeout(function(){m(Error("Network Error"))},ss.get());b.ping(M).then(M,function(){m(Error("Network Error"))})})})})}(this)}var Cl=new ar(Bi,"https://apis.google.com/js/api.js?onload=%{onload}"),ka=new Xs(3e4,6e4),ss=new Xs(5e3,15e3),as=null;function Il(e,u,m,b){this.l=e,this.h=u,this.i=m,this.g=b,this.f=null,e=this.g?Zs((e=nn(this.g.url)).f,e.a,e.g,"/emulator/auth/iframe"):Zs("https",this.l,null,"/__/auth/iframe"),this.a=e,wn(this.a,"apiKey",this.h),wn(this.a,"appName",this.i),this.b=null,this.c=[]}function gh(e,u,m,b,M,G){this.u=e,this.o=u,this.c=m,this.v=b,this.m=G,this.i=this.g=this.l=null,this.a=M,this.h=this.f=null}function lf(e){try{return k.app(e).auth().Ga()}catch(u){return[]}}function mh(e,u,m,b,M,G){this.o=e,this.g=u,this.b=m,this.f=G,this.c=b||null,this.i=M||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function Vf(e){var u=_();return function bl(e){return Gt(e,w,{}).then(function(u){return u.authorizedDomains||[]})}(e).then(function(m){e:{var b=nn(u),M=b.f;b=b.a;for(var G=0;G<m.length;G++){var Y=m[G],ce=b,We=M;if(0==Y.indexOf("chrome-extension://")?ce=nn(Y).a==ce&&"chrome-extension"==We:"http"!=We&&"https"!=We?ce=!1:cn.test(Y)?ce=ce==Y:(Y=Y.split(".").join("\\."),ce=new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(ce)),ce){m=!0;break e}}m=!1}if(!m)throw new aa(_())})}function jf(e){return e.v||(e.v=Gr().then(function(){if(!e.u){var u=e.c,m=e.i,b=lf(e.b),M=new Il(e.o,e.g,e.b,e.f);M.f=u,M.b=m,M.c=En(b||[]),e.u=M.toString()}e.m=new fu(e.u),function ff(e){if(!e.m)throw Error("IfcHandler must be initialized!");!function Fc(e,u){e.qb.then(function(){e.a.register("authEvent",u,kn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(e.m,function(u){var m={};if(u&&u.authEvent){var b=!1;for(u=al(u.authEvent),m=0;m<e.h.length;m++)b=e.h[m](u)||b;return(m={}).status=b?"ACK":"ERROR",bt(m)}return m.status="ERROR",bt(m)})}(e)})),e.v}function Uf(e){return e.l||(e.A=e.c?bs(e.c,lf(e.b)):null,e.l=new Vo(e.g,te(e.i),e.A),e.f&&Os(e.l,e.f)),e.l}function uc(e,u,m,b,M,G,Y,ce,We,et,Xt,er){return(e=new gh(e,u,m,b,M,er)).l=G,e.g=Y,e.i=ce,e.b=tt(We||null),e.f=et,e.xb(Xt).toString()}function vh(e){if(this.a=e||k.INTERNAL.reactNative&&k.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ed(e){this.b=e,this.a={},this.f=Ne(this.c,this)}Il.prototype.toString=function(){return this.f?wn(this.a,"v",this.f):Zr(this.a.b,"v"),this.b?wn(this.a,"eid",this.b):Zr(this.a.b,"eid"),this.c.length?wn(this.a,"fw",this.c.join(",")):Zr(this.a.b,"fw"),this.a.toString()},gh.prototype.xb=function(e){return this.h=e,this},gh.prototype.toString=function(){if(this.m){var e=nn(this.m.url);e=Zs(e.f,e.a,e.g,"/emulator/auth/handler")}else e=Zs("https",this.u,null,"/__/auth/handler");if(wn(e,"apiKey",this.o),wn(e,"appName",this.c),wn(e,"authType",this.v),this.a.isOAuthProvider){var u=this.a;try{var m=k.app(this.c).auth().ka()}catch(ce){m=null}for(var b in u.nb=m,wn(e,"providerId",this.a.providerId),u=Ou((m=this.a).Hb))u[b]=u[b].toString();b=m.Pc,u=tt(u);for(var M=0;M<b.length;M++){var G=b[M];G in u&&delete u[G]}m.ob&&m.nb&&!u[m.ob]&&(u[m.ob]=m.nb),Pt(u)||wn(e,"customParameters",Aa(u))}if("function"==typeof this.a.Pb&&(m=this.a.Pb()).length&&wn(e,"scopes",m.join(",")),this.l?wn(e,"redirectUrl",this.l):Zr(e.b,"redirectUrl"),this.g?wn(e,"eventId",this.g):Zr(e.b,"eventId"),this.i?wn(e,"v",this.i):Zr(e.b,"v"),this.b)for(var Y in this.b)this.b.hasOwnProperty(Y)&&!Mr(e,Y)&&wn(e,Y,this.b[Y]);return this.h?wn(e,"tid",this.h):Zr(e.b,"tid"),this.f?wn(e,"eid",this.f):Zr(e.b,"eid"),(Y=lf(this.c)).length&&wn(e,"fw",Y.join(",")),e.toString()},(d=mh.prototype).Nb=function(e,u,m){var b=new A("popup-closed-by-user"),M=new A("web-storage-unsupported"),G=this,Y=!1;return this.la().then(function(){(function zd(e){var u={type:"webStorageSupport"};return jf(e).then(function(){return function ac(e,u){return e.qb.then(function(){return new Vt(function(m){e.a.send(u.type,u,m,kn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(e.m,u)}).then(function(m){if(m&&m.length&&void 0!==m[0].webStorageSupport)return m[0].webStorageSupport;throw Error()})})(G).then(function(ce){ce||(e&&Te(e),u(M),Y=!0)})}).s(function(){}).then(function(){if(!Y)return function un(e){return new Vt(function(u){return function m(){fo(2e3).then(function(){if(e&&!e.closed)return m();u()})}()})}(e)}).then(function(){if(!Y)return fo(m).then(function(){u(b)})})},d.Wb=function(){var e=Pr();return!qr(e)&&!Zc(e)},d.Sb=function(){return!1},d.Lb=function(e,u,m,b,M,G,Y,ce){if(!e)return Tn(new A("popup-blocked"));if(Y&&!qr())return this.la().s(function(et){Te(e),M(et)}),b(),bt();this.a||(this.a=Vf(Uf(this)));var We=this;return this.a.then(function(){var et=We.la().s(function(Xt){throw Te(e),M(Xt),Xt});return b(),et}).then(function(){hi(m),Y||S(uc(We.o,We.g,We.b,u,m,null,G,We.c,void 0,We.i,ce,We.f),e)}).s(function(et){throw"auth/network-request-failed"==et.code&&(We.a=null),et})},d.Mb=function(e,u,m,b){this.a||(this.a=Vf(Uf(this)));var M=this;return this.a.then(function(){hi(u),S(uc(M.o,M.g,M.b,e,u,_(),m,M.c,void 0,M.i,b,M.f))}).s(function(G){throw"auth/network-request-failed"==G.code&&(M.a=null),G})},d.la=function(){var e=this;return jf(this).then(function(){return e.m.qb}).s(function(){throw e.a=null,new A("network-request-failed")})},d.Zb=function(){return!0},d.Ea=function(e){this.h.push(e)},d.Ra=function(e){Bt(this.h,function(u){return u==e})},(d=vh.prototype).get=function(e){return bt(this.a.getItem(e)).then(function(u){return u&&So(u)})},d.set=function(e,u){return bt(this.a.setItem(e,Aa(u)))},d.T=function(e){return bt(this.a.removeItem(e))},d.ca=function(){},d.ia=function(){};var qf,hf=[];function Bf(e,u,m){Pt(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[u]&&(e.a[u]=[]),e.a[u].push(m)}function yh(e){this.a=e}function _h(e){this.c=e,this.b=!1,this.a=[]}function Wd(e,u,m,b){var M,Y,ce,We,G=m||{},et=null;if(e.b)return Tn(Error("connection_unavailable"));var Xt=b?800:50,er="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Vt(function(Ln,to){er?(M=Math.floor(Math.random()*Math.pow(10,20)).toString(),er.port1.start(),ce=setTimeout(function(){to(Error("unsupported_event"))},Xt),e.a.push(et={messageChannel:er,onMessage:Y=function($c){$c.data.eventId===M&&("ack"===$c.data.status?(clearTimeout(ce),We=setTimeout(function(){to(Error("timeout"))},3e3)):"done"===$c.data.status?(clearTimeout(We),void 0!==$c.data.response?Ln($c.data.response):to(Error("unknown_error"))):(clearTimeout(ce),clearTimeout(We),to(Error("invalid_response"))))}}),er.port1.addEventListener("message",Y),e.c.postMessage({eventType:u,eventId:M,data:G},[er.port2])):to(Error("connection_unavailable"))}).then(function(Ln){return Hf(e,et),Ln}).s(function(Ln){throw Hf(e,et),Ln})}function Hf(e,u){if(u){var m=u.messageChannel;m&&(m.port1.removeEventListener("message",u.onMessage),m.port1.close()),Bt(e.a,function(M){return M==u})}}function Gf(){if(!zf())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=V.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var e=this;xr()&&self?(this.l=function Al(){var e=xr()?self:null;if(Lt(hf,function(m){m.b==e&&(u=m)}),!u){var u=new ed(e);hf.push(u)}return u}(),Bf(this.l,"keyChanged",function(u,m){return wh(e).then(function(b){return 0<b.length&&Lt(e.a,function(M){M(b)}),{keyProcessed:Wt(b,m.key)}})}),Bf(this.l,"ping",function(){return bt(["keyChanged"])})):function Mo(){var e=V.navigator;return e&&e.serviceWorker?bt().then(function(){return e.serviceWorker.ready}).then(function(u){return u.active||null}).s(function(){return null}):bt(null)}().then(function(u){(e.h=u)&&(e.g=new _h(new yh(u)),Wd(e.g,"ping",null,!0).then(function(m){m[0].fulfilled&&Wt(m[0].value,"keyChanged")&&(e.o=!0)}).s(function(){}))})}function kc(e){return new Vt(function(u,m){var b=e.m.open("firebaseLocalStorageDb",1);b.onerror=function(M){try{M.preventDefault()}catch(G){}m(Error(M.target.error))},b.onupgradeneeded=function(M){M=M.target.result;try{M.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(G){m(G)}},b.onsuccess=function(M){(M=M.target.result).objectStoreNames.contains("firebaseLocalStorage")?u(M):function Kd(e){return new Vt(function(u,m){var b=e.m.deleteDatabase("firebaseLocalStorageDb");b.onsuccess=function(){u()},b.onerror=function(M){m(Error(M.target.error))}})}(e).then(function(){return kc(e)}).then(function(G){u(G)}).s(function(G){m(G)})}})}function $f(e){return e.v||(e.v=kc(e)),e.v}function zf(){try{return!!V.indexedDB}catch(e){return!1}}function cc(e){return e.objectStore("firebaseLocalStorage")}function Tl(e,u){return e.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function pi(e){return new Vt(function(u,m){e.onsuccess=function(b){b&&b.target?u(b.target.result):u()},e.onerror=function(b){m(b.target.error)}})}function td(e,u){return e.g&&e.h&&function Jc(){var e=V.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Wd(e.g,"keyChanged",{key:u},e.o).then(function(){}).s(function(){}):bt()}function wh(e){return $f(e).then(function(u){var m=cc(Tl(u,!1));return m.getAll?pi(m.getAll()):new Vt(function(b,M){var G=[],Y=m.openCursor();Y.onsuccess=function(ce){(ce=ce.target.result)?(G.push(ce.value),ce.continue()):b(G)},Y.onerror=function(ce){M(ce.target.error)}})}).then(function(u){var m={},b=[];if(0==e.b){for(b=0;b<u.length;b++)m[u[b].fbase_key]=u[b].value;b=L(e.c,m),e.c=m}return b})}function nd(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function rd(e){var u=this,m=null;this.a=[],this.type="indexedDB",this.c=e,this.b=bt().then(function(){if(zf()){var b=Es(),M="__sak"+b;return qf||(qf=new Gf),(m=qf).set(M,b).then(function(){return m.get(M)}).then(function(G){if(G!==b)throw Error("indexedDB not supported!");return m.T(M)}).then(function(){return m}).s(function(){return u.c})}return u.c}).then(function(b){return u.type=b.type,b.ca(function(M){Lt(u.a,function(G){G(M)})}),b})}function df(){this.a={},this.type="inMemory"}function pf(){if(!function Zd(){var e="Node"==$n();if(!(e=id()||e&&k.INTERNAL.node&&k.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(u){return!1}}())throw"Node"==$n()?new A("internal-error","The LocalStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=id()||k.INTERNAL.node.localStorage,this.type="localStorage"}function id(){try{var e=V.localStorage,u=Es();return e&&(e.setItem(u,"1"),e.removeItem(u)),e}catch(m){return null}}function Lc(){this.type="nullStorage"}function Qt(){if(!function od(){var e="Node"==$n();if(!(e=Sl()||e&&k.INTERNAL.node&&k.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(u){return!1}}())throw"Node"==$n()?new A("internal-error","The SessionStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=Sl()||k.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Sl(){try{var e=V.sessionStorage,u=Es();return e&&(e.setItem(u,"1"),e.removeItem(u)),e}catch(m){return null}}function sd(){var e={};e.Browser=ma,e.Node=ad,e.ReactNative=Jd,e.Worker=bh,this.a=e[$n()]}ed.prototype.c=function(e){var u=e.data.eventType,m=e.data.eventId,b=this.a[u];if(b&&0<b.length){e.ports[0].postMessage({status:"ack",eventId:m,eventType:u,response:null});var M=[];Lt(b,function(G){M.push(bt().then(function(){return G(e.origin,e.data.data)}))}),Fs(M).then(function(G){var Y=[];Lt(G,function(ce){Y.push({fulfilled:ce.Ob,value:ce.value,reason:ce.reason?ce.reason.message:void 0})}),Lt(Y,function(ce){for(var We in ce)void 0===ce[We]&&delete ce[We]}),e.ports[0].postMessage({status:"done",eventId:m,eventType:u,response:Y})})}},yh.prototype.postMessage=function(e,u){this.a.postMessage(e,u)},_h.prototype.close=function(){for(;0<this.a.length;)Hf(this,this.a[0]);this.b=!0},(d=Gf.prototype).set=function(e,u){var b,m=!1,M=this;return $f(this).then(function(G){return pi((G=cc(Tl(b=G,!0))).get(e))}).then(function(G){var Y=cc(Tl(b,!0));return G?(G.value=u,pi(Y.put(G))):(M.b++,m=!0,(G={}).fbase_key=e,G.value=u,pi(Y.add(G)))}).then(function(){return M.c[e]=u,td(M,e)}).na(function(){m&&M.b--})},d.get=function(e){return $f(this).then(function(u){return pi(cc(Tl(u,!1)).get(e))}).then(function(u){return u&&u.value})},d.T=function(e){var u=!1,m=this;return $f(this).then(function(b){return u=!0,m.b++,pi(cc(Tl(b,!0)).delete(e))}).then(function(){return delete m.c[e],td(m,e)}).na(function(){u&&m.b--})},d.ca=function(e){0==this.a.length&&function Yd(e){nd(e),function u(){e.f=setTimeout(function(){e.i=wh(e).then(function(m){0<m.length&&Lt(e.a,function(b){b(m)})}).then(function(){u()}).s(function(m){"STOP_EVENT"!=m.message&&u()})},800)}()}(this),this.a.push(e)},d.ia=function(e){Bt(this.a,function(u){return u==e}),0==this.a.length&&nd(this)},(d=rd.prototype).get=function(e){return this.b.then(function(u){return u.get(e)})},d.set=function(e,u){return this.b.then(function(m){return m.set(e,u)})},d.T=function(e){return this.b.then(function(u){return u.T(e)})},d.ca=function(e){this.a.push(e)},d.ia=function(e){Bt(this.a,function(u){return u==e})},(d=df.prototype).get=function(e){return bt(this.a[e])},d.set=function(e,u){return this.a[e]=u,bt()},d.T=function(e){return delete this.a[e],bt()},d.ca=function(){},d.ia=function(){},(d=pf.prototype).get=function(e){var u=this;return bt().then(function(){return So(u.a.getItem(e))})},d.set=function(e,u){var m=this;return bt().then(function(){var b=Aa(u);null===b?m.T(e):m.a.setItem(e,b)})},d.T=function(e){var u=this;return bt().then(function(){u.a.removeItem(e)})},d.ca=function(e){V.window&&ct(V.window,"storage",e)},d.ia=function(e){V.window&&pt(V.window,"storage",e)},(d=Lc.prototype).get=function(){return bt(null)},d.set=function(){return bt()},d.T=function(){return bt()},d.ca=function(){},d.ia=function(){},(d=Qt.prototype).get=function(e){var u=this;return bt().then(function(){return So(u.a.getItem(e))})},d.set=function(e,u){var m=this;return bt().then(function(){var b=Aa(u);null===b?m.T(e):m.a.setItem(e,b)})},d.T=function(e){var u=this;return bt().then(function(){u.a.removeItem(e)})},d.ca=function(){},d.ia=function(){};var Ml,gf,ma={D:pf,ab:Qt},ad={D:pf,ab:Qt},Jd={D:vh,ab:Lc},bh={D:pf,ab:Lc},us={qd:"local",NONE:"none",sd:"session"};function Dh(){var e=!(Zc(Pr())||!Jr()),u=qr(),m=Mu();this.v=e,this.h=u,this.l=m,this.a={},Ml||(Ml=new sd),e=Ml;try{this.g=!Yo()&&Pu()||!V.indexedDB?new e.a.D:new rd(xr()?new df:new e.a.D)}catch(b){this.g=new df,this.h=!0}try{this.i=new e.a.ab}catch(b){this.i=new df}this.m=new df,this.f=Ne(this.Xb,this),this.b={}}function Wf(){return gf||(gf=new Dh),gf}function lc(e,u){switch(u){case"session":return e.i;case"none":return e.m;default:return e.g}}function mf(e,u){return"firebase:"+e.name+(u?":"+u:"")}function hu(e,u,m){return m=mf(u,m),"local"==u.D&&(e.b[m]=null),lc(e,u.D).T(m)}function vf(e){e.c&&(clearInterval(e.c),e.c=null)}function Ih(e){this.a=e,this.b=Wf()}(d=Dh.prototype).get=function(e,u){return lc(this,e.D).get(mf(e,u))},d.set=function(e,u,m){var b=mf(e,m),M=this,G=lc(this,e.D);return G.set(b,u).then(function(){return G.get(b)}).then(function(Y){"local"==e.D&&(M.b[b]=Y)})},d.addListener=function(e,u,m){e=mf(e,u),this.l&&(this.b[e]=V.localStorage.getItem(e)),Pt(this.a)&&(lc(this,"local").ca(this.f),this.h||(Yo()||!Pu())&&V.indexedDB||!this.l||function Ch(e){vf(e),e.c=setInterval(function(){for(var u in e.a){var m=V.localStorage.getItem(u),b=e.b[u];m!=b&&(e.b[u]=m,m=new Dn({type:"storage",key:u,target:window,oldValue:b,newValue:m,a:!0}),e.Xb(m))}},1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(m)},d.removeListener=function(e,u,m){e=mf(e,u),this.a[e]&&(Bt(this.a[e],function(b){return b==m}),0==this.a[e].length&&delete this.a[e]),Pt(this.a)&&(lc(this,"local").ia(this.f),vf(this))},d.Xb=function(e){if(e&&e.g){var u=e.a.key;if(null==u)for(var m in this.a){var b=this.b[m];void 0===b&&(b=null);var M=V.localStorage.getItem(m);M!==b&&(this.b[m]=M,this.lb(m))}else if(0==u.indexOf("firebase:")&&this.a[u]){if(void 0!==e.a.a?lc(this,"local").ia(this.f):vf(this),this.v)if(m=V.localStorage.getItem(u),(b=e.a.newValue)!==m)null!==b?V.localStorage.setItem(u,b):V.localStorage.removeItem(u);else if(this.b[u]===b&&void 0===e.a.a)return;var G=this;m=function(){(void 0!==e.a.a||G.b[u]!==V.localStorage.getItem(u))&&(G.b[u]=V.localStorage.getItem(u),G.lb(u))},cr&&kt&&10==kt&&V.localStorage.getItem(u)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(m,10):m()}}else Lt(e,Ne(this.lb,this))},d.lb=function(e){this.a[e]&&Lt(this.a[e],function(u){u()})};var Ol,ud={name:"authEvent",D:"local"};function Xd(){this.a=Wf()}function Yf(e,u){this.b=tp,this.f=V.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=u,this.l=V.Int32Array?new Int32Array(64):Array(64),void 0===Ol&&(Ol=V.Int32Array?new Int32Array(np):np),this.reset()}U(Yf,function ep(){this.b=-1});for(var tp=64,cd=tp-1,ld=[],Ws=0;Ws<cd;Ws++)ld[Ws]=0;var Ah=dr(128,ld);function Th(e){for(var u=e.f,m=e.l,b=0,M=0;M<u.length;)m[b++]=u[M]<<24|u[M+1]<<16|u[M+2]<<8|u[M+3],M=4*b;for(u=16;64>u;u++){var G=(0|m[u-16])+(((M=0|m[u-15])>>>7|M<<25)^(M>>>18|M<<14)^M>>>3)|0,Y=(0|m[u-7])+(((b=0|m[u-2])>>>17|b<<15)^(b>>>19|b<<13)^b>>>10)|0;m[u]=G+Y|0}b=0|e.a[0],M=0|e.a[1];var ce=0|e.a[2],We=0|e.a[3],et=0|e.a[4],Xt=0|e.a[5],er=0|e.a[6];for(G=0|e.a[7],u=0;64>u;u++){var Ln=((b>>>2|b<<30)^(b>>>13|b<<19)^(b>>>22|b<<10))+(b&M^b&ce^M&ce)|0;Y=(G=G+((et>>>6|et<<26)^(et>>>11|et<<21)^(et>>>25|et<<7))|0)+((Y=(Y=et&Xt^~et&er)+(0|Ol[u])|0)+(0|m[u])|0)|0,G=er,er=Xt,Xt=et,et=We+Y|0,We=ce,ce=M,M=b,b=Y+Ln|0}e.a[0]=e.a[0]+b|0,e.a[1]=e.a[1]+M|0,e.a[2]=e.a[2]+ce|0,e.a[3]=e.a[3]+We|0,e.a[4]=e.a[4]+et|0,e.a[5]=e.a[5]+Xt|0,e.a[6]=e.a[6]+er|0,e.a[7]=e.a[7]+G|0}function yf(e,u,m){void 0===m&&(m=u.length);var b=0,M=e.c;if("string"==typeof u)for(;b<m;)e.f[M++]=u.charCodeAt(b++),M==e.b&&(Th(e),M=0);else{if(!Le(u))throw Error("message must be string or array");for(;b<m;){var G=u[b++];if(!("number"==typeof G&&0<=G&&255>=G&&G==(0|G)))throw Error("message must be a byte array");e.f[M++]=G,M==e.b&&(Th(e),M=0)}}e.c=M,e.g+=m}Yf.prototype.reset=function(){this.g=this.c=0,this.a=V.Int32Array?new Int32Array(this.h):En(this.h)};var np=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function fd(){Yf.call(this,8,rp)}U(fd,Yf);var rp=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function fc(e,u,m,b,M,G){this.m=e,this.i=u,this.l=m,this.v=b||null,this.u=M||null,this.o=G,this.h=u+":"+m,this.A=new Xd,this.g=new Ih(this.h),this.f=null,this.b=[],this.a=this.c=null}function hd(e){return new A("invalid-cordova-configuration",e)}function dd(e,u){for(var m=0;m<e.b.length;m++)try{e.b[m](u)}catch(b){}}function pd(e){return e.f||(e.f=e.la().then(function(){return new Vt(function(u){e.Ea(function m(b){return u(b),e.Ra(m),!1}),function Vc(e){function u(Y){b=!0,M&&M.cancel(),La(e).then(function(ce){var We=m;if(ce&&Y&&Y.url){var et=null;-1!=(We=Cs(Y.url)).indexOf("/__/auth/callback")&&(et=(et="object"==typeof(et=So(Mr(et=nn(We),"firebaseError")||null))?F(et):null)?new Fo(ce.c,ce.b,null,null,et,null,ce.S()):new Fo(ce.c,ce.b,We,ce.f,null,null,ce.S())),We=et||m}dd(e,We)})}var m=new Fo("unknown",null,null,null,new A("no-auth-event")),b=!1,M=fo(500).then(function(){return La(e).then(function(){b||dd(e,m)})}),G=V.handleOpenURL;V.handleOpenURL=function(Y){if(0==Y.toLowerCase().indexOf(kn("BuildInfo.packageName",V).toLowerCase()+"://")&&u({url:Y}),"function"==typeof G)try{G(Y)}catch(ce){console.error(ce)}},Xa||(Xa=new Zl),function ul(e){var u=Xa;u.a.push(e),u.b||(u.b=function(m){for(var b=0;b<u.a.length;b++)u.a[b](m)},"function"==typeof(e=kn("universalLinks.subscribe",V))&&e(null,u.b))}(u)}(e)})})),e.f}function La(e){var u=null;return function Qd(e){return e.b.get(ud,e.a).then(function(u){return al(u)})}(e.g).then(function(m){return u=m,hu((m=e.g).b,ud,m.a)}).then(function(){return u})}function gi(e){this.a=e,this.b=Wf()}(d=fc.prototype).la=function(){return this.Ia?this.Ia:this.Ia=function Nr(){return Ha(void 0)?Gr().then(function(){return new Vt(function(e,u){var m=V.document,b=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);m.addEventListener("deviceready",function(){clearTimeout(b),e()},!1)})}):Tn(Error("Cordova must run in an Android or iOS file scheme."))}().then(function(){if("function"!=typeof kn("universalLinks.subscribe",V))throw hd("cordova-universal-links-plugin-fix is not installed");if(void 0===kn("BuildInfo.packageName",V))throw hd("cordova-plugin-buildinfo is not installed");if("function"!=typeof kn("cordova.plugins.browsertab.openUrl",V))throw hd("cordova-plugin-browsertab is not installed");if("function"!=typeof kn("cordova.InAppBrowser.open",V))throw hd("cordova-plugin-inappbrowser is not installed")},function(){throw new A("cordova-not-ready")})},d.Nb=function(e,u){return u(new A("operation-not-supported-in-this-environment")),bt()},d.Lb=function(){return Tn(new A("operation-not-supported-in-this-environment"))},d.Zb=function(){return!1},d.Wb=function(){return!0},d.Sb=function(){return!0},d.Mb=function(e,u,m,b){if(this.c)return Tn(new A("redirect-operation-pending"));var M=this,G=V.document,Y=null,ce=null,We=null,et=null;return this.c=bt().then(function(){return hi(u),pd(M)}).then(function(){return function ip(e,u,m,b,M){var G=function Rp(){for(var e=20,u=[];0<e;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return u.join("")}(),Y=new Fo(u,b,null,G,new A("no-auth-event"),null,M),ce=kn("BuildInfo.packageName",V);if("string"!=typeof ce)throw new A("invalid-cordova-configuration");var We=kn("BuildInfo.displayName",V),et={};if(Pr().toLowerCase().match(/iphone|ipad|ipod/))et.ibi=ce;else{if(!Pr().toLowerCase().match(/android/))return Tn(new A("operation-not-supported-in-this-environment"));et.apn=ce}We&&(et.appDisplayName=We),G=function Fp(e){var u=new fd;yf(u,e),e=[];var m=8*u.g;yf(u,Ah,56>u.c?56-u.c:u.b-(u.c-56));for(var b=63;56<=b;b--)u.f[b]=255&m,m/=256;for(Th(u),b=m=0;b<u.i;b++)for(var M=24;0<=M;M-=8)e[m++]=u.a[b]>>M&255;return function mc(e){return en(e,function(u){return 1<(u=u.toString(16)).length?u:"0"+u}).join("")}(e)}(G),et.sessionId=G;var Xt=uc(e.m,e.i,e.l,u,m,null,b,e.v,et,e.u,M,e.o);return e.la().then(function(){var er=e.h;return e.A.a.set(ud,Y.w(),er)}).then(function(){var er=kn("cordova.plugins.browsertab.isAvailable",V);if("function"!=typeof er)throw new A("invalid-cordova-configuration");var Ln=null;er(function(to){if(to){if("function"!=typeof(Ln=kn("cordova.plugins.browsertab.openUrl",V)))throw new A("invalid-cordova-configuration");Ln(Xt)}else{if("function"!=typeof(Ln=kn("cordova.InAppBrowser.open",V)))throw new A("invalid-cordova-configuration");to=Pr(),e.a=Ln(Xt,to.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||to.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(M,e,u,m,b)}).then(function(){return new Vt(function(Xt,er){ce=function(){var Ln=kn("cordova.plugins.browsertab.close",V);return Xt(),"function"==typeof Ln&&Ln(),M.a&&"function"==typeof M.a.close&&(M.a.close(),M.a=null),!1},M.Ea(ce),et=function(){zn()&&We()},G.addEventListener("resume",We=function(){Y||(Y=fo(2e3).then(function(){er(new A("redirect-cancelled-by-user"))}))},!1),Pr().toLowerCase().match(/android/)||G.addEventListener("visibilitychange",et,!1)}).s(function(Xt){return La(M).then(function(){throw Xt})})}).na(function(){We&&G.removeEventListener("resume",We,!1),et&&G.removeEventListener("visibilitychange",et,!1),Y&&Y.cancel(),ce&&M.Ra(ce),M.c=null})},d.Ea=function(e){this.b.push(e),pd(this).s(function(u){"auth/invalid-cordova-configuration"===u.code&&(u=new Fo("unknown",null,null,null,new A("no-auth-event")),e(u))})},d.Ra=function(e){Bt(this.b,function(u){return u==e})};var Nl={name:"pendingRedirect",D:"session"};function jc(e){return hu(e.b,Nl,e.a)}function xl(e,u,m,b){this.i={},this.u=0,this.O=e,this.m=u,this.v=m,this.G=b,this.h=[],this.f=!1,this.l=Ne(this.o,this),this.b=new bf,this.A=new gd,this.g=new gi(Fl(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Va(this.O,this.m,this.v,He,this.G)}function Va(e,u,m,b,M){var G=k.SDK_VERSION||null;return Ha()?new fc(e,u,m,G,b,M):new mh(e,u,m,G,b,M)}function Jf(e){e.f||(e.f=!0,e.a.Ea(e.l));var u=e.a;return e.a.la().s(function(m){throw e.a==u&&e.reset(),m})}function Sh(e){e.a.Wb()&&Jf(e).s(function(u){var m=new Fo("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Pl(u)&&e.o(m)}),e.a.Sb()||Ef(e.b)}function wf(e,u){Wt(e.h,u)||e.h.push(u),e.f||function Zf(e){return e.b.get(Nl,e.a).then(function(u){return"pending"==u})}(e.g).then(function(m){m?jc(e.g).then(function(){Jf(e).s(function(b){var M=new Fo("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Pl(b)&&e.o(M)})}):Sh(e)}).s(function(){Sh(e)})}function op(e,u){Bt(e.h,function(m){return m==u})}xl.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Va(this.O,this.m,this.v,null,this.G),this.i={}},xl.prototype.o=function(e){if(!e)throw new A("invalid-auth-event");if(6e5<=B()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var u=!1,m=0;m<this.h.length;m++){var b=this.h[m];if(b.Eb(e.c,e.b)){(u=this.c[e.c])&&(u.h(e,b),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=B())),u=!0;break}}return Ef(this.b),u};var sp=new Xs(2e3,1e4),kp=new Xs(3e4,6e4);function ap(e,u,m,b,M,G,Y){return e.a.Lb(u,m,b,function(){e.f||(e.f=!0,e.a.Ea(e.l))},function(){e.reset()},M,G,Y)}function Pl(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Rl(e,u,m,b,M){var G;return function _f(e){return e.b.set(Nl,"pending",e.a)}(e.g).then(function(){return e.a.Mb(u,m,b,M).s(function(Y){if(Pl(Y))throw new A("operation-not-supported-in-this-environment");return G=Y,jc(e.g).then(function(){throw G})}).then(function(){return e.a.Zb()?new Vt(function(){}):jc(e.g).then(function(){return e.qa()}).then(function(){}).s(function(){})})})}function Mh(e,u,m,b,M){return e.a.Nb(b,function(G){u.ma(m,null,G,M)},sp.get())}xl.prototype.qa=function(){return this.b.qa()};var Uc={};function Fl(e,u,m){return e=e+":"+u,m&&(e=e+":"+m.url),e}function Bc(e,u,m,b){var M=Fl(u,m,b);return Uc[M]||(Uc[M]=new xl(e,u,m,b)),Uc[M]}function bf(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Ef(e){e.g||(e.g=!0,ja(e,!1,null,null))}function Hc(e){e.g&&!e.i&&ja(e,!1,null,null)}function Df(e,u){if(e.b=function(){return bt(u)},e.f.length)for(var m=0;m<e.f.length;m++)e.f[m](u)}function ja(e,u,m,b){u?b?function Oh(e,u){if(e.b=function(){return Tn(u)},e.c.length)for(var m=0;m<e.c.length;m++)e.c[m](u)}(e,b):Df(e,m):Df(e,{user:null}),e.f=[],e.c=[]}function gd(){}function Nh(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(e){this.hb=e},enumerable:!1})}function xh(e,u){this.a=u,_t(this,"verificationId",e)}function md(e,u,m,b){return new fr(e).eb(u,m).then(function(M){return new xh(M,b)})}function vd(e){var u=Jn(e);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Rr(this,{token:e,expirationTime:Yi(1e3*u.exp),authTime:Yi(1e3*u.auth_time),issuedAtTime:Yi(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function Xf(e,u,m){var b=u&&u[cs];if(!b)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=tt(u),this.g=m,this.c=new _c(null,b),this.b=[];var M=this;Lt(u[yd]||[],function(G){(G=Xc(G))&&M.b.push(G)}),_t(this,"auth",this.a),_t(this,"session",this.c),_t(this,"hints",this.b)}bf.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},bf.prototype.h=function(e,u){if(e){this.reset(),this.g=!0;var m=e.c,b=e.b,M=e.a&&"auth/web-storage-unsupported"==e.a.code,G=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!M&&!G),"unknown"!=m||M||G?e.a?(ja(this,!0,null,e.a),bt()):u.Fa(m,b)?function Qf(e,u,m){m=m.Fa(u.c,u.b);var b=u.g,M=u.f,G=u.i,Y=u.S(),ce=!!u.c.match(/Redirect$/);m(b,M,Y,G).then(function(We){ja(e,ce,We,null)}).s(function(We){ja(e,ce,null,We)})}(this,e,u):Tn(new A("invalid-auth-event")):(ja(this,!1,null,null),bt())}else Tn(new A("invalid-auth-event"))},bf.prototype.qa=function(){var e=this;return new Vt(function(u,m){e.b?e.b().then(u,m):(e.f.push(u),e.c.push(m),function Lp(e){var u=new A("timeout");e.a&&e.a.cancel(),e.a=fo(kp.get()).then(function(){e.b||(e.g=!0,ja(e,!0,null,u))})}(e))})},gd.prototype.h=function(e,u){if(e){var m=e.c,b=e.b;e.a?(u.ma(e.c,null,e.a,e.b),bt()):u.Fa(m,b)?function Vp(e,u){var m=e.b,b=e.c;u.Fa(b,m)(e.g,e.f,e.S(),e.i).then(function(M){u.ma(b,M,null,m)}).s(function(M){u.ma(b,null,M,m)})}(e,u):Tn(new A("invalid-auth-event"))}else Tn(new A("invalid-auth-event"))},xh.prototype.confirm=function(e){return e=ns(this.verificationId,e),this.a(e)};var yd="mfaInfo",cs="mfaPendingCredential";function Ph(e,u,m,b){A.call(this,"multi-factor-auth-required",b,u),this.b=new Xf(e,u,m),_t(this,"resolver",this.b)}function Rh(e,u,m){if(e&&Me(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new Ph(u,e.serverResponse,m,e.message)}catch(b){}return null}function up(){}function wd(e){_t(this,"factorId",e.fa),this.a=e}function bd(e){if(wd.call(this,e),this.a.fa!=fr.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function hc(e,u){for(var m in Yr.call(this,e),u)this[m]=u[m]}function eh(e,u){this.a=e,this.b=[],this.c=Ne(this.xc,this),ct(this.a,"userReloaded",this.c);var m=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&Lt(u.multiFactor.enrolledFactors,function(b){var M=null,G={};if(b){b.uid&&(G[Fi]=b.uid),b.displayName&&(G[Fu]=b.displayName),b.enrollmentTime&&(G[No]=new Date(b.enrollmentTime).toISOString()),b.phoneNumber&&(G[el]=b.phoneNumber);try{M=new ku(G)}catch(Y){}b=M}else b=null;b&&m.push(b)}),th(this,m)}function th(e,u){e.b=u,_t(e,"enrolledFactors",u)}function Fh(e,u,m){if(this.h=e,this.i=u,this.g=m,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function kh(e,u){e.stop(),e.b=fo(function Ed(e,u){return u?(e.a=e.c,e.g()):(u=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),u)}(e,u)).then(function(){return function Nu(){var e=V.document,u=null;return zn()||!e?bt():new Vt(function(m){u=function(){zn()&&(e.removeEventListener("visibilitychange",u,!1),m())},e.addEventListener("visibilitychange",u,!1)}).s(function(m){throw e.removeEventListener("visibilitychange",u,!1),m})}()}).then(function(){return e.h()}).then(function(){kh(e,!0)}).s(function(m){e.i(m)&&kh(e,!1)})}function nh(e){this.c=e,this.b=this.a=null}function Lh(e){return e.b&&1e3*e.b.c||0}function lp(e,u){var m=u.refreshToken;e.b=Hu(u[ji]||""),e.a=m}function rh(e,u){this.a=e||null,this.b=u||null,Rr(this,{lastSignInTime:Yi(u||null),creationTime:Yi(e||null)})}function h(e,u,m,b,M,G){Rr(this,{uid:e,displayName:b||null,photoURL:M||null,email:m||null,phoneNumber:G||null,providerId:u})}function l(e,u,m){this.G=[],this.l=e.apiKey,this.m=e.appName,this.o=e.authDomain||null;var b=k.SDK_VERSION?bs(k.SDK_VERSION):null;this.a=new Vo(this.l,te(He),b),e.emulatorConfig&&Os(this.a,e.emulatorConfig),this.b=new nh(this.a),Ot(this,u[ji]),lp(this.b,u),_t(this,"refreshToken",this.b.a),In(this,m||{}),on.call(this),this.P=!1,this.o&&Qs()&&(this.i=Bc(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function ne(e){return new Fh(function(){return e.I(!0)},function(u){return!(!u||"auth/network-request-failed"!=u.code)},function(){var u=Lh(e.b)-B()-3e5;return 0<u?u:0})}(this),this.$=Ne(this.gb,this);var M=this;this.pa=null,this.Ba=function(G){M.wa(G.h)},this.ba=null,this.za=function(G){Os(M.a,G.c)},this.W=null,this.X=[],this.Aa=function(G){C(M,G.f)},this.aa=null,this.N=new eh(this,m),_t(this,"multiFactor",this.N)}function a(e,u){e.ba&&pt(e.ba,"languageCodeChanged",e.Ba),(e.ba=u)&&ct(u,"languageCodeChanged",e.Ba)}function v(e,u){e.W&&pt(e.W,"emulatorConfigChanged",e.za),(e.W=u)&&ct(u,"emulatorConfigChanged",e.za)}function C(e,u){e.X=u,lu(e.a,k.SDK_VERSION?bs(k.SDK_VERSION,e.X):null)}function N(e,u){e.aa&&pt(e.aa,"frameworkChanged",e.Aa),(e.aa=u)&&ct(u,"frameworkChanged",e.Aa)}function K(e){try{return k.app(e.m).auth()}catch(u){throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function be(e){e.A||e.u.b||(e.u.start(),pt(e,"tokenChanged",e.$),ct(e,"tokenChanged",e.$))}function it(e){pt(e,"tokenChanged",e.$),e.u.stop()}function Ot(e,u){e.ya=u,_t(e,"_lat",u)}function qt(e){for(var u=[],m=0;m<e.R.length;m++)u.push(e.R[m](e));return Fs(u).then(function(){return e})}function Ct(e){e.i&&!e.P&&(e.P=!0,wf(e.i,e))}function In(e,u){Rr(e,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new rh(u.createdAt,u.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Qi(){}function du(e){return bt().then(function(){if(e.A)throw new A("app-deleted")})}function Ci(e){return en(e.providerData,function(u){return u.providerId})}function va(e,u){u&&(kl(e,u.providerId),e.providerData.push(u))}function kl(e,u){Bt(e.providerData,function(m){return m.providerId==u})}function Gc(e,u,m){("uid"!=u||m)&&e.hasOwnProperty(u)&&_t(e,u,m)}function Cd(e,u){e!=u&&(Rr(e,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),_t(e,"metadata",u.metadata?function Ua(e){return new rh(e.a,e.b)}(u.metadata):new rh),Lt(u.providerData,function(m){va(e,m)}),function fp(e,u){e.b=u.b,e.a=u.a}(e.b,u.b),_t(e,"refreshToken",e.b.a),th(e.N,u.N.b))}function Id(e){return e.I().then(function(u){var m=e.isAnonymous;return function Up(e,u){return Gt(e.a,s,{idToken:u}).then(Ne(e.Jc,e))}(e,u).then(function(){return m||Gc(e,"isAnonymous",!1),u})})}function pu(e,u){u[ji]&&e.ya!=u[ji]&&(lp(e.b,u),e.dispatchEvent(new hc("tokenChanged")),Ot(e,u[ji]),Gc(e,"refreshToken",e.b.a))}function Vh(e,u){return Id(e).then(function(){if(Wt(Ci(e),u))return qt(e).then(function(){throw new A("provider-already-linked")})})}function ya(e,u,m){return Oo({user:e,credential:Pa(u),additionalUserInfo:u=Gs(u),operationType:m})}function jh(e,u){return pu(e,u),e.reload().then(function(){return e})}function Hp(e,u,m,b,M){if(!Qs())return Tn(new A("operation-not-supported-in-this-environment"));if(e.f&&!M)return Tn(e.f);var G=xo(m.providerId),Y=Es(e.uid+":::"),ce=null;(!qr()||Jr())&&e.o&&m.isOAuthProvider&&(ce=uc(e.o,e.l,e.m,u,m,null,Y,k.SDK_VERSION||null,null,null,e.tenantId));var We=Xe(ce,G&&G.ua,G&&G.ta);return b=b().then(function(){if(Cg(e),!M)return e.I().then(function(){})}).then(function(){return ap(e.i,We,u,m,Y,!!ce,e.tenantId)}).then(function(){return new Vt(function(et,Xt){e.ma(u,null,new A("cancelled-popup-request"),e.h||null),e.g=et,e.O=Xt,e.h=Y,e.c=Mh(e.i,e,u,We,Y)})}).then(function(et){return We&&Te(We),et?Oo(et):null}).s(function(et){throw We&&Te(We),et}),Ii(e,b,M)}function Gp(e,u,m,b,M){if(!Qs())return Tn(new A("operation-not-supported-in-this-environment"));if(e.f&&!M)return Tn(e.f);var G=null,Y=Es(e.uid+":::");return b=b().then(function(){if(Cg(e),!M)return e.I().then(function(){})}).then(function(){return e.ga=Y,qt(e)}).then(function(ce){return e.ha&&(ce=(ce=e.ha).b.set(Td,e.w(),ce.a)),ce}).then(function(){return Rl(e.i,u,m,Y,e.tenantId)}).s(function(ce){if(G=ce,e.ha)return dp(e.ha);throw G}).then(function(){if(G)throw G}),Ii(e,b,M)}function Cg(e){if(!e.i||!e.P)throw new A(e.i&&!e.P?"internal-error":"auth-domain-config-required")}function Ii(e,u,m){var b=function qp(e,u,m){return e.f&&!m?(u.cancel(),Tn(e.f)):u.s(function(b){throw!b||"auth/user-disabled"!=b.code&&"auth/user-token-expired"!=b.code||(e.f||e.dispatchEvent(new hc("userInvalidated")),e.f=b),b})}(e,u,m);return e.G.push(b),b.na(function(){_n(e.G,b)}),b.s(function(M){var G=null;throw M&&"auth/multi-factor-auth-required"===M.code&&(G=Rh(M.w(),K(e),Ne(e.ic,e))),G||M})}function Ad(e){if(!e.apiKey)return null;var u={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},m={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;m[ji]=e.stsTokenManager.accessToken,m.refreshToken=e.stsTokenManager.refreshToken||null;var b=new l(u,m,e);return e.providerData&&Lt(e.providerData,function(M){M&&va(b,Oo(M))}),e.redirectEventId&&(b.ga=e.redirectEventId),b}function hp(e){this.a=e,this.b=Wf()}Xf.prototype.Qc=function(e){var u=this;return e.rb(this.a.a,this.c).then(function(m){var b=tt(u.f);return delete b[yd],delete b[cs],Tt(b,m),u.g(b)})},U(Ph,A),up.prototype.rb=function(e,u,m){return u.type==wc?function jp(e,u,m,b){return m.Ha().then(function(M){return M={idToken:M},void 0!==b&&(M.displayName=b),Tt(M,{phoneVerificationInfo:zu(e.a)}),Gt(u,cf,M)})}(this,e,u,m):function _d(e,u,m){return m.Ha().then(function(b){return Tt(b={mfaPendingCredential:b},{phoneVerificationInfo:zu(e.a)}),Gt(u,dh,b)})}(this,e,u)},U(wd,up),U(bd,wd),U(hc,Yr),(d=eh.prototype).xc=function(e){th(this,function cp(e){var u=[];return Lt(e.mfaInfo||[],function(m){(m=Xc(m))&&u.push(m)}),u}(e.gd))},d.Qb=function(){return this.a.I().then(function(e){return new _c(e,null)})},d.ec=function(e,u){var m=this,b=this.a.a;return this.Qb().then(function(M){return e.rb(b,M,u)}).then(function(M){return pu(m.a,M),m.a.reload()})},d.ad=function(e){var u=this,m="string"==typeof e?e:e.uid,b=this.a.a;return this.a.I().then(function(M){return Gt(b,Wn,{idToken:M,mfaEnrollmentId:m})}).then(function(M){var G=no(u.b,function(Y){return Y.uid!=m});return th(u,G),pu(u.a,M),u.a.reload().s(function(Y){if("auth/user-token-expired"!=Y.code)throw Y})})},d.w=function(){return{multiFactor:{enrolledFactors:en(this.b,function(e){return e.w()})}}},Fh.prototype.start=function(){this.a=this.c,kh(this,!0)},Fh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},nh.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Lh(this)}},nh.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Tn(new A("user-token-expired")):e||!this.b||B()>Lh(this)-3e4?this.a?function Dd(e,u){return function yl(e,u){return new Vt(function(m,b){"refresh_token"==u.grant_type&&u.refresh_token||"authorization_code"==u.grant_type&&u.code?rc(e,e.l+"?key="+encodeURIComponent(e.c),function(M){M?M.error?b(ga(M)):M.access_token&&M.refresh_token?m(M):b(new A("internal-error")):b(new A("network-request-failed"))},"POST",js(u).toString(),e.g,e.v.get()):b(new A("internal-error"))})}(e.c,u).then(function(m){return e.b=Hu(m.access_token),e.a=m.refresh_token,{accessToken:e.b.toString(),refreshToken:e.a}}).s(function(m){throw"auth/user-token-expired"==m.code&&(e.a=null),m})}(this,{grant_type:"refresh_token",refresh_token:this.a}):bt(null):bt({accessToken:this.b.toString(),refreshToken:this.a})},rh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},U(l,on),l.prototype.wa=function(e){this.pa=e,Ir(this.a,e)},l.prototype.ka=function(){return this.pa},l.prototype.Ga=function(){return En(this.X)},l.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},_t(l.prototype,"providerId","firebase"),(d=l.prototype).reload=function(){var e=this;return Ii(this,du(this).then(function(){return Id(e).then(function(){return qt(e)}).then(Qi)}))},d.nc=function(e){return this.I(e).then(function(u){return new vd(u)})},d.I=function(e){var u=this;return Ii(this,du(this).then(function(){return u.b.getToken(e)}).then(function(m){if(!m)throw new A("internal-error");return m.accessToken!=u.ya&&(Ot(u,m.accessToken),u.dispatchEvent(new hc("tokenChanged"))),Gc(u,"refreshToken",m.refreshToken),m.accessToken}))},d.Jc=function(e){if(!(e=e.users)||!e.length)throw new A("internal-error");In(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var u=function Bp(e){return(e=e.providerUserInfo)&&e.length?en(e,function(u){return new h(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}(e),m=0;m<u.length;m++)va(this,u[m]);Gc(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new hc("userReloaded",{gd:e}))},d.Kc=function(e){return ea("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(e)},d.sb=function(e){var u=this,m=null;return Ii(this,e.c(this.a,this.uid).then(function(b){return pu(u,b),m=ya(u,b,"reauthenticate"),u.f=null,u.reload()}).then(function(){return m}),!0)},d.Bc=function(e){return ea("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(e)},d.pb=function(e){var u=this,m=null;return Ii(this,Vh(this,e.providerId).then(function(){return u.I()}).then(function(b){return e.b(u.a,b)}).then(function(b){return m=ya(u,b,"link"),jh(u,b)}).then(function(){return m}))},d.Cc=function(e,u){var m=this;return Ii(this,Vh(this,"phone").then(function(){return md(K(m),e,u,Ne(m.pb,m))}))},d.Lc=function(e,u){var m=this;return Ii(this,bt().then(function(){return md(K(m),e,u,Ne(m.sb,m))}),!0)},d.Ab=function(e){var u=this;return Ii(this,this.I().then(function(m){return u.a.Ab(m,e)}).then(function(m){return pu(u,m),u.reload()}))},d.dd=function(e){var u=this;return Ii(this,this.I().then(function(m){return e.b(u.a,m)}).then(function(m){return pu(u,m),u.reload()}))},d.Bb=function(e){var u=this;return Ii(this,this.I().then(function(m){return u.a.Bb(m,e)}).then(function(m){return pu(u,m),u.reload()}))},d.Cb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return du(this);var u=this;return Ii(this,this.I().then(function(m){return u.a.Cb(m,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(m){return pu(u,m),Gc(u,"displayName",m.displayName||null),Gc(u,"photoURL",m.photoUrl||null),Lt(u.providerData,function(b){"password"===b.providerId&&(_t(b,"displayName",u.displayName),_t(b,"photoURL",u.photoURL))}),qt(u)}).then(Qi))},d.bd=function(e){var u=this;return Ii(this,Id(this).then(function(m){return Wt(Ci(u),e)?function Qh(e,u,m){return Gt(e,pa,{idToken:u,deleteProvider:m})}(u.a,m,[e]).then(function(b){var M={};return Lt(b.providerUserInfo||[],function(G){M[G.providerId]=!0}),Lt(Ci(u),function(G){M[G]||kl(u,G)}),M[fr.PROVIDER_ID]||_t(u,"phoneNumber",null),qt(u)}):qt(u).then(function(){throw new A("no-such-provider")})}))},d.delete=function(){var e=this;return Ii(this,this.I().then(function(u){return Gt(e.a,yo,{idToken:u})}).then(function(){e.dispatchEvent(new hc("userDeleted"))})).then(function(){for(var u=0;u<e.G.length;u++)e.G[u].cancel("app-deleted");a(e,null),v(e,null),N(e,null),e.G=[],e.A=!0,it(e),_t(e,"refreshToken",null),e.i&&op(e.i,e)})},d.Eb=function(e,u){return!!("linkViaPopup"==e&&(this.h||null)==u&&this.g||"reauthViaPopup"==e&&(this.h||null)==u&&this.g||"linkViaRedirect"==e&&(this.ga||null)==u||"reauthViaRedirect"==e&&(this.ga||null)==u)},d.ma=function(e,u,m,b){"linkViaPopup"!=e&&"reauthViaPopup"!=e||b!=(this.h||null)||(m&&this.O?this.O(m):u&&!m&&this.g&&this.g(u),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},d.Fa=function(e,u){return"linkViaPopup"==e&&u==(this.h||null)?Ne(this.Jb,this):"reauthViaPopup"==e&&u==(this.h||null)?Ne(this.Kb,this):"linkViaRedirect"==e&&(this.ga||null)==u?Ne(this.Jb,this):"reauthViaRedirect"==e&&(this.ga||null)==u?Ne(this.Kb,this):null},d.Dc=function(e){var u=this;return Hp(this,"linkViaPopup",e,function(){return Vh(u,e.providerId).then(function(){return qt(u)})},!1)},d.Mc=function(e){return Hp(this,"reauthViaPopup",e,function(){return bt()},!0)},d.Ec=function(e){var u=this;return Gp(this,"linkViaRedirect",e,function(){return Vh(u,e.providerId)},!1)},d.Nc=function(e){return Gp(this,"reauthViaRedirect",e,function(){return bt()},!0)},d.Jb=function(e,u,m,b){var M=this;this.c&&(this.c.cancel(),this.c=null);var G=null;return Ii(this,this.I().then(function(Y){return xc(M.a,{requestUri:e,postBody:b,sessionId:u,idToken:Y})}).then(function(Y){return G=ya(M,Y,"link"),jh(M,Y)}).then(function(){return G}))},d.Kb=function(e,u,m,b){var M=this;this.c&&(this.c.cancel(),this.c=null);var G=null;return Ii(this,bt().then(function(){return qu(oc(M.a,{requestUri:e,sessionId:u,postBody:b,tenantId:m}),M.uid)}).then(function(ce){return G=ya(M,ce,"reauthenticate"),pu(M,ce),M.f=null,M.reload()}).then(function(){return G}),!0)},d.tb=function(e){var u=this,m=null;return Ii(this,this.I().then(function(b){return m=b,void 0===e||Pt(e)?{}:Ei(new Dr(e))}).then(function(b){return u.a.tb(m,b)}).then(function(b){if(u.email!=b)return u.reload()}).then(function(){}))},d.Db=function(e,u){var m=this,b=null;return Ii(this,this.I().then(function(M){return b=M,void 0===u||Pt(u)?{}:Ei(new Dr(u))}).then(function(M){return m.a.Db(b,e,M)}).then(function(M){if(m.email!=M)return m.reload()}).then(function(){}))},d.ic=function(e){var u=null,m=this;return Ii(this,e=qu(bt(e),m.uid).then(function(b){return u=ya(m,b,"reauthenticate"),pu(m,b),m.f=null,m.reload()}).then(function(){return u}),!0)},d.toJSON=function(){return this.w()},d.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&Tt(e,this.metadata.w()),Lt(this.providerData,function(u){e.providerData.push(function za(e){var m,u={};for(m in e)e.hasOwnProperty(m)&&(u[m]=e[m]);return u}(u))}),Tt(e,this.N.w()),e};var Td={name:"redirectUser",D:"session"};function dp(e){return hu(e.b,Td,e.a)}function pp(e){this.a=e,this.b=Wf(),this.c=null,this.f=function Ag(e){var u=gu("local"),m=gu("session"),b=gu("none");return function Kf(e,u,m){var b=mf(u,m),M=lc(e,u.D);return e.get(u,m).then(function(G){var Y=null;try{Y=So(V.localStorage.getItem(b))}catch(ce){}if(Y&&!G)return V.localStorage.removeItem(b),e.set(u,Y,m);Y&&G&&"localStorage"!=M.type&&V.localStorage.removeItem(b)})}(e.b,u,e.a).then(function(){return e.b.get(m,e.a)}).then(function(M){return M?m:e.b.get(b,e.a).then(function(G){return G?b:e.b.get(u,e.a).then(function(Y){return Y?u:e.b.get(gp,e.a).then(function(ce){return ce?gu(ce):u})})})}).then(function(M){return e.c=M,Bh(e,M.D)}).s(function(){e.c||(e.c=u)})}(this),this.b.addListener(gu("local"),this.a,Ne(this.g,this))}function Bh(e,u){var b,m=[];for(b in us)us[b]!==u&&m.push(hu(e.b,gu(us[b]),e.a));return m.push(hu(e.b,gp,e.a)),function Ba(e){return new Vt(function(u,m){var b=e.length,M=[];if(b)for(var G=function(et,Xt){b--,M[et]=Xt,0==b&&u(M)},Y=function(et){m(et)},ce=0;ce<e.length;ce++)Eu(e[ce],Ye(G,ce),Y);else u(M)})}(m)}pp.prototype.g=function(){var e=this,u=gu("local");mu(this,function(){return bt().then(function(){return e.c&&"local"!=e.c.D?e.b.get(u,e.a):null}).then(function(m){if(m)return Bh(e,"local").then(function(){e.c=u})})})};var gp={name:"persistence",D:"session"};function gu(e){return{name:"authUser",D:e}}function mp(e,u){return mu(e,function(){return e.b.set(e.c,u.w(),e.a)})}function zp(e){return mu(e,function(){return hu(e.b,e.c,e.a)})}function Wp(e,u,m){return mu(e,function(){return e.b.get(e.c,e.a).then(function(b){return b&&u&&(b.authDomain=u),b&&m&&(b.emulatorConfig=m),Ad(b||{})})})}function mu(e,u){return e.f=e.f.then(u,u),e.f}function vu(e){if(this.m=!1,_t(this,"settings",new Nh),_t(this,"app",e),!hr(this).options||!hr(this).options.apiKey)throw new A("invalid-api-key");e=k.SDK_VERSION?bs(k.SDK_VERSION):null,this.a=new Vo(hr(this).options&&hr(this).options.apiKey,te(He),e),this.R=[],this.u=[],this.P=[],this.ac=k.INTERNAL.createSubscribe(Ne(this.yc,this)),this.X=void 0,this.bc=k.INTERNAL.createSubscribe(Ne(this.zc,this)),oh(this,null),this.l=new pp(hr(this).options.apiKey+":"+hr(this).name),this.G=new hp(hr(this).options.apiKey+":"+hr(this).name),this.$=Ai(this,function Sg(e){var u=hr(e).options.authDomain,m=function Tg(e){var u=function $p(e,u){return e.b.get(Td,e.a).then(function(m){return m&&u&&(m.authDomain=u),Ad(m||{})})}(e.G,hr(e).options.authDomain).then(function(m){return(e.o=m)&&(m.ha=e.G),dp(e.G)});return Ai(e,u)}(e).then(function(){return Wp(e.l,u,e.f)}).then(function(b){return b?(b.ha=e.G,e.o&&(e.o.ga||null)==(b.ga||null)?b:b.reload().then(function(){return mp(e.l,b).then(function(){return b})}).s(function(M){return"auth/network-request-failed"==M.code?b:zp(e.l)})):null}).then(function(b){oh(e,b||null)});return Ai(e,m)}(this)),this.i=Ai(this,function Mg(e){return e.$.then(function(){return yp(e)}).s(function(){}).then(function(){if(!e.m)return e.pa()}).s(function(){}).then(function(){if(!e.m){e.ba=!0;var u=e.l;u.b.addListener(gu("local"),u.a,e.pa)}})}(this)),this.ba=!1,this.pa=Ne(this.Yc,this),this.Ba=Ne(this.da,this),this.ya=Ne(this.kc,this),this.za=Ne(this.vc,this),this.Aa=Ne(this.wc,this),this.b=null,function Jp(e){var u=hr(e).options.authDomain,m=hr(e).options.apiKey;u&&Qs()&&(e.gb=e.$.then(function(){if(!e.m){if(e.b=Bc(u,m,hr(e).name,e.f),wf(e.b,e),ln(e)&&Ct(ln(e)),e.o){Ct(e.o);var b=e.o;b.wa(e.ka()),a(b,e),C(b=e.o,e.N),N(b,e),Os((b=e.o).a,e.f),v(b,e),e.o=null}return e.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=Ne(this.delete,this),this.INTERNAL.logFramework=Ne(this.Fc,this),this.A=0,on.call(this),function vp(e){Object.defineProperty(e,"lc",{get:function(){return this.ka()},set:function(u){this.wa(u)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.S()},set:function(u){this.xb(u)},enumerable:!1}),e.W=null}(this),this.N=[],this.f=null}function Kp(e){Yr.call(this,"languageCodeChanged"),this.h=e}function Yp(e){Yr.call(this,"emulatorConfigChanged"),this.c=e}function Zp(e){Yr.call(this,"frameworkChanged"),this.f=e}function Sd(e){return e.gb||Tn(new A("auth-domain-config-required"))}function yp(e){if(!Qs())return Tn(new A("operation-not-supported-in-this-environment"));var u=Sd(e).then(function(){return e.b.qa()}).then(function(m){return m?Oo(m):null});return Ai(e,u)}function oh(e,u){ln(e)&&(function mt(e,u){Bt(e.R,function(m){return m==u})}(ln(e),e.Ba),pt(ln(e),"tokenChanged",e.ya),pt(ln(e),"userDeleted",e.za),pt(ln(e),"userInvalidated",e.Aa),it(ln(e))),u&&(u.R.push(e.Ba),ct(u,"tokenChanged",e.ya),ct(u,"userDeleted",e.za),ct(u,"userInvalidated",e.Aa),0<e.A&&be(u)),_t(e,"currentUser",u),u&&(u.wa(e.ka()),a(u,e),C(u,e.N),N(u,e),Os(u.a,e.f),v(u,e))}function Ll(e,u){var m=null,b=null;return Ai(e,u.then(function(M){return m=Pa(M),b=Gs(M),function Qp(e,u){var m={};return m.apiKey=hr(e).options.apiKey,m.authDomain=hr(e).options.authDomain,m.appName=hr(e).name,e.f&&(m.emulatorConfig=e.f),e.$.then(function(){return function Uh(e,u,m,b){var M=new l(e,u);return m&&(M.ha=m),b&&C(M,b),M.reload().then(function(){return M})}(m,u,e.G,e.Ga())}).then(function(b){return ln(e)&&b.uid==ln(e).uid?(Cd(ln(e),b),e.da(b)):(oh(e,b),Ct(b),e.da(b))}).then(function(){Hh(e)})}(e,M)},function(M){var G=null;throw M&&"auth/multi-factor-auth-required"===M.code&&(G=Rh(M.w(),e,Ne(e.jc,e))),G||M}).then(function(){return Oo({user:ln(e),credential:m,additionalUserInfo:b,operationType:"signIn"})}))}function hr(e){return e.app}function ln(e){return e.currentUser}function Md(e){return ln(e)&&ln(e)._lat||null}function Hh(e){if(e.ba){for(var u=0;u<e.u.length;u++)e.u[u]&&e.u[u](Md(e));if(e.X!==e.getUid()&&e.P.length)for(e.X=e.getUid(),u=0;u<e.P.length;u++)e.P[u]&&e.P[u](Md(e))}}function Ai(e,u){return e.R.push(u),u.na(function(){_n(e.R,u)}),u}function Cf(){}function sh(){this.a={},this.b=1e12}pp.prototype.wb=function(e){var u=null,m=this;return function Eh(e){var u=new A("invalid-persistence-type"),m=new A("unsupported-persistence-type");e:{for(b in us)if(us[b]==e){var b=!0;break e}b=!1}if(!b||"string"!=typeof e)throw u;switch($n()){case"ReactNative":if("session"===e)throw m;break;case"Node":if("none"!==e)throw m;break;case"Worker":if("session"===e||!zf()&&"none"!==e)throw m;break;default:if(!Mu()&&"none"!==e)throw m}}(e),mu(this,function(){return e!=m.c.D?m.b.get(m.c,m.a).then(function(b){return u=b,Bh(m,e)}).then(function(){if(m.c=gu(e),u)return m.b.set(m.c,u,m.a)}):bt()})},U(vu,on),U(Kp,Yr),U(Yp,Yr),U(Zp,Yr),(d=vu.prototype).wb=function(e){return Ai(this,e=this.l.wb(e))},d.wa=function(e){this.aa===e||this.m||(this.aa=e,Ir(this.a,this.aa),this.dispatchEvent(new Kp(this.ka())))},d.ka=function(){return this.aa},d.ed=function(){var e=V.navigator;this.wa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},d.fd=function(e){if(!this.f){if(!/^https?:\/\//.test(e))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function yu(){xu("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),V.document&&Gr().then(function(){var e=V.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#ff0000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),V.document.body.appendChild(e)})})(),this.f={url:e},this.settings.hb=!0,Os(this.a,this.f),this.dispatchEvent(new Yp(this.f))}},d.Fc=function(e){this.N.push(e),lu(this.a,k.SDK_VERSION?bs(k.SDK_VERSION,this.N):null),this.dispatchEvent(new Zp(this.N))},d.Ga=function(){return En(this.N)},d.xb=function(e){this.W===e||this.m||(this.W=e,this.a.b=this.W)},d.S=function(){return this.W},d.toJSON=function(){return{apiKey:hr(this).options.apiKey,authDomain:hr(this).options.authDomain,appName:hr(this).name,currentUser:ln(this)&&ln(this).w()}},d.Eb=function(e,u){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==u&&!!this.g;default:return!1}},d.ma=function(e,u,m,b){"signInViaPopup"==e&&this.h==b&&(m&&this.O?this.O(m):u&&!m&&this.g&&this.g(u),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},d.Fa=function(e,u){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.h==u&&this.g?Ne(this.hc,this):null},d.hc=function(e,u,m,b){var M=this,G={requestUri:e,postBody:b,sessionId:u,tenantId:m};return this.c&&(this.c.cancel(),this.c=null),M.$.then(function(){return Ll(M,Dl(M.a,G))})},d.Wc=function(e){if(!Qs())return Tn(new A("operation-not-supported-in-this-environment"));var u=this,m=xo(e.providerId),b=Es(),M=null;(!qr()||Jr())&&hr(this).options.authDomain&&e.isOAuthProvider&&(M=uc(hr(this).options.authDomain,hr(this).options.apiKey,hr(this).name,"signInViaPopup",e,null,b,k.SDK_VERSION||null,null,null,this.S(),this.f));var G=Xe(M,m&&m.ua,m&&m.ta);return Ai(this,m=Sd(this).then(function(Y){return ap(Y,G,"signInViaPopup",e,b,!!M,u.S())}).then(function(){return new Vt(function(Y,ce){u.ma("signInViaPopup",null,new A("cancelled-popup-request"),u.h),u.g=Y,u.O=ce,u.h=b,u.c=Mh(u.b,u,"signInViaPopup",G,b)})}).then(function(Y){return G&&Te(G),Y?Oo(Y):null}).s(function(Y){throw G&&Te(G),Y}))},d.Xc=function(e){if(!Qs())return Tn(new A("operation-not-supported-in-this-environment"));var u=this,m=Sd(this).then(function(){return function ih(e){return mu(e,function(){return e.b.set(gp,e.c.D,e.a)})}(u.l)}).then(function(){return Rl(u.b,"signInViaRedirect",e,void 0,u.S())});return Ai(this,m)},d.qa=function(){var e=this;return yp(this).then(function(u){return e.b&&Hc(e.b.b),u}).s(function(u){throw e.b&&Hc(e.b.b),u})},d.cd=function(e){if(!e)return Tn(new A("null-user"));if(this.W!=e.tenantId)return Tn(new A("tenant-id-mismatch"));var u=this,m={};m.apiKey=hr(this).options.apiKey,m.authDomain=hr(this).options.authDomain,m.appName=hr(this).name;var b=function Ig(e,u,m,b){var M=e.b,G={};return G[ji]=M.b&&M.b.toString(),G.refreshToken=M.a,u=new l(u||{apiKey:e.l,authDomain:e.o,appName:e.m},G),m&&(u.ha=m),b&&C(u,b),Cd(u,e),u}(e,m,u.G,u.Ga());return Ai(this,this.i.then(function(){if(hr(u).options.apiKey!=e.l)return b.reload()}).then(function(){return ln(u)&&e.uid==ln(u).uid?(Cd(ln(u),e),u.da(e)):(oh(u,b),Ct(b),u.da(b))}).then(function(){Hh(u)}))},d.zb=function(){var e=this;return Ai(this,this.i.then(function(){return e.b&&Hc(e.b.b),ln(e)?(oh(e,null),zp(e.l).then(function(){Hh(e)})):bt()}))},d.Yc=function(){var e=this;return Wp(this.l,hr(this).options.authDomain).then(function(u){if(!e.m){var m;if(m=ln(e)&&u){m=ln(e).uid;var b=u.uid;m=null!=m&&""!==m&&null!=b&&""!==b&&m==b}if(m)return Cd(ln(e),u),ln(e).I();(ln(e)||u)&&(oh(e,u),u&&(Ct(u),u.ha=e.G),e.b&&wf(e.b,e),Hh(e))}})},d.da=function(e){return mp(this.l,e)},d.kc=function(){Hh(this),this.da(ln(this))},d.vc=function(){this.zb()},d.wc=function(){this.zb()},d.jc=function(e){var u=this;return this.i.then(function(){return Ll(u,bt(e))})},d.yc=function(e){var u=this;this.addAuthTokenListener(function(){e.next(ln(u))})},d.zc=function(e){var u=this;!function Gm(e,u){e.P.push(u),Ai(e,e.i.then(function(){!e.m&&Wt(e.P,u)&&e.X!==e.getUid()&&(e.X=e.getUid(),u(Md(e)))}))}(this,function(){e.next(ln(u))})},d.Hc=function(e,u,m){var b=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof e?e(ln(b)):"function"==typeof e.next&&e.next(ln(b))}),this.ac(e,u,m)},d.Gc=function(e,u,m){var b=this;return this.ba&&Promise.resolve().then(function(){b.X=b.getUid(),"function"==typeof e?e(ln(b)):"function"==typeof e.next&&e.next(ln(b))}),this.bc(e,u,m)},d.mc=function(e){var u=this;return Ai(this,this.i.then(function(){return ln(u)?ln(u).I(e).then(function(b){return{accessToken:b}}):null}))},d.Sc=function(e){var u=this;return this.i.then(function(){return Ll(u,Gt(u.a,gt,{token:e}))}).then(function(m){var b=m.user;return Gc(b,"isAnonymous",!1),u.da(b),m})},d.Tc=function(e,u){var m=this;return this.i.then(function(){return Ll(m,Gt(m.a,Nt,{email:e,password:u}))})},d.dc=function(e,u){var m=this;return this.i.then(function(){return Ll(m,Gt(m.a,Lf,{email:e,password:u}))})},d.Za=function(e){var u=this;return this.i.then(function(){return Ll(u,e.ja(u.a))})},d.Rc=function(e){return ea("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(e)},d.yb=function(){var e=this;return this.i.then(function(){var u=ln(e);if(u&&u.isAnonymous){var m=Oo({providerId:null,isNewUser:!1});return Oo({user:u,credential:null,additionalUserInfo:m,operationType:"signIn"})}return Ll(e,e.a.yb()).then(function(b){var M=b.user;return Gc(M,"isAnonymous",!0),e.da(M),b})})},d.getUid=function(){return ln(this)&&ln(this).uid||null},d.cc=function(e){this.addAuthTokenListener(e),this.A++,0<this.A&&ln(this)&&be(ln(this))},d.Oc=function(e){var u=this;Lt(this.u,function(m){m==e&&u.A--}),0>this.A&&(this.A=0),0==this.A&&ln(this)&&it(ln(this)),this.removeAuthTokenListener(e)},d.addAuthTokenListener=function(e){var u=this;this.u.push(e),Ai(this,this.i.then(function(){u.m||Wt(u.u,e)&&e(Md(u))}))},d.removeAuthTokenListener=function(e){Bt(this.u,function(u){return u==e})},d.delete=function(){this.m=!0;for(var e=0;e<this.R.length;e++)this.R[e].cancel("app-deleted");return this.R=[],this.l&&(e=this.l).b.removeListener(gu("local"),e.a,this.pa),this.b&&(op(this.b,this),Hc(this.b.b)),Promise.resolve()},d.gc=function(e){return Ai(this,function Nc(e,u){return Gt(e,af,{identifier:u,continueUri:gc()?_():"http://localhost"}).then(function(m){return m.signinMethods||[]})}(this.a,e))},d.Ac=function(e){return!!sl(e)},d.vb=function(e,u){var m=this;return Ai(this,bt().then(function(){var b=new Dr(u);if(!b.c)throw new A("argument-error",Bu+" must be true when sending sign in link to email");return Ei(b)}).then(function(b){return m.a.vb(e,b)}).then(function(){}))},d.hd=function(e){return this.Qa(e).then(function(u){return u.data.email})},d.mb=function(e,u){return Ai(this,this.a.mb(e,u).then(function(){}))},d.Qa=function(e){return Ai(this,this.a.Qa(e).then(function(u){return new Lu(u)}))},d.ib=function(e){return Ai(this,this.a.ib(e).then(function(){}))},d.ub=function(e,u){var m=this;return Ai(this,bt().then(function(){return void 0===u||Pt(u)?{}:Ei(new Dr(u))}).then(function(b){return m.a.ub(e,b)}).then(function(){}))},d.Vc=function(e,u){return Ai(this,md(this,e,u,Ne(this.Za,this)))},d.Uc=function(e,u){var m=this;return Ai(this,bt().then(function(){var b=u||_(),M=Yl(e,b);if(!(b=sl(b)))throw new A("argument-error","Invalid email link!");if(b.tenantId!==m.S())throw new A("tenant-id-mismatch");return m.Za(M)}))},Cf.prototype.render=function(){},Cf.prototype.reset=function(){},Cf.prototype.getResponse=function(){},Cf.prototype.execute=function(){};var Od=null;function Nd(e,u){return(u=Og(u))&&e.a[u]||null}function Og(e){return(e=void 0===e?1e12:e)?e.toString():null}function Ks(e,u){this.g=!1,this.c=u,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=vr(e);var m=this;this.i=function(){m.execute()},this.h?this.execute():ct(this.f,"click",this.i)}function Xp(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function eg(){}function xd(){}sh.prototype.render=function(e,u){return this.a[this.b.toString()]=new Ks(e,u),this.b++},sh.prototype.reset=function(e){var u=Nd(this,e);e=Og(e),u&&e&&(u.delete(),delete this.a[e])},sh.prototype.getResponse=function(e){return(e=Nd(this,e))?e.getResponse():null},sh.prototype.execute=function(e){(e=Nd(this,e))&&e.execute()},Ks.prototype.getResponse=function(){return Xp(this),this.b},Ks.prototype.execute=function(){Xp(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=function ql(){for(var e=50,u=[];0<e;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return u.join("")}();var u=e.c.callback,m=e.c["expired-callback"];if(u)try{u(e.b)}catch(b){}e.a=setTimeout(function(){if(e.a=null,e.b=null,m)try{m()}catch(b){}e.h&&e.execute()},6e4)},500))},Ks.prototype.delete=function(){Xp(this),this.g=!0,clearTimeout(this.a),this.a=null,pt(this.f,"click",this.i)},_t(eg,"FACTOR_ID","phone"),xd.prototype.g=function(){return Od||(Od=new sh),bt(Od)},xd.prototype.c=function(){};var Pd=null;function Rd(){this.b=V.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ng=new ar(Bi,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),qm=new Xs(3e4,6e4);Rd.prototype.g=function(e){var u=this;return new Vt(function(m,b){var M=setTimeout(function(){b(new A("network-request-failed"))},qm.get());!V.grecaptcha||e!==u.f&&!u.b?(V[u.a]=function(){if(V.grecaptcha){u.f=e;var Y=V.grecaptcha.render;V.grecaptcha.render=function(ce,We){return ce=Y(ce,We),u.b++,ce},clearTimeout(M),m(V.grecaptcha)}else clearTimeout(M),b(new A("internal-error"));delete V[u.a]},bt(tf(ur(Ng,{onload:u.a,hl:e||""}))).s(function(){clearTimeout(M),b(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(M),m(V.grecaptcha))})},Rd.prototype.c=function(){this.b--};var Fd=null;function Gh(e,u,m,b,M,G,Y){if(_t(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=u,this.g=null,Y?(Pd||(Pd=new xd),Y=Pd):(Fd||(Fd=new Rd),Y=Fd),this.v=Y,this.a=m||{theme:"light",type:"image"},this.h=[],this.a[ng])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[xg],!V.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!vr(u)||!this.i&&vr(u).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Vo(e,G||null,M||null),this.u=b||function(){return null};var ce=this;this.l=[];var We=this.a[tg];this.a[tg]=function(Xt){if(rg(ce,Xt),"function"==typeof We)We(Xt);else if("string"==typeof We){var er=kn(We,V);"function"==typeof er&&er(Xt)}};var et=this.a[kd];this.a[kd]=function(){if(rg(ce,null),"function"==typeof et)et();else if("string"==typeof et){var Xt=kn(et,V);"function"==typeof Xt&&Xt()}}}var tg="callback",kd="expired-callback",ng="sitekey",xg="size";function rg(e,u){for(var m=0;m<e.l.length;m++)try{e.l[m](u)}catch(b){}}function _p(e,u){return e.h.push(u),u.na(function(){_n(e.h,u)}),u}function Ld(e){if(e.A)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}function ah(e,u,m){var b=!1;try{this.b=m||k.app()}catch(Y){throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new A("invalid-api-key");m=this.b.options.apiKey;var M=this,G=null;try{G=this.b.auth().Ga()}catch(Y){}try{b=this.b.auth().settings.appVerificationDisabledForTesting}catch(Y){}G=k.SDK_VERSION?bs(k.SDK_VERSION,G):null,Gh.call(this,m,e,u,function(){try{var Y=M.b.auth().ka()}catch(ce){Y=null}return Y},G,te(He),b)}function If(e,u,m,b){e:{m=Array.prototype.slice.call(m);for(var M=0,G=!1,Y=0;Y<u.length;Y++)if(u[Y].optional)G=!0;else{if(G)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");M++}if(G=u.length,m.length<M||G<m.length)b="Expected "+(M==G?1==M?"1 argument":M+" arguments":M+"-"+G+" arguments")+" but got "+m.length+".";else{for(M=0;M<m.length;M++)if(G=u[M].optional&&void 0===m[M],!u[M].K(m[M])&&!G){if(u=u[M],0>M||M>=ig.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");m=ig[M],b=(b?"":m+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.J+".";break e}b=null}}if(b)throw new A("argument-error",e+" failed: "+b)}(d=Gh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=_p(this,bt().then(function(){if(gc()&&!xr())return Gr();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.v.g(e.u())}).then(function(u){return e.g=u,Gt(e.o,D,{})}).then(function(u){e.a[ng]=u.recaptchaSiteKey}).s(function(u){throw e.f=null,u}))},d.render=function(){Ld(this);var e=this;return _p(this,this.Ia().then(function(){if(null===e.c){var u=e.m;if(!e.i){var m=vr(u);u=function Hi(e,u,m){var b=arguments,M=document,G=String(b[0]),Y=b[1];if(!Ti&&Y&&(Y.name||Y.type)){if(G=["<",G],Y.name&&G.push(' name="',kr(Y.name),'"'),Y.type){G.push(' type="',kr(Y.type),'"');var ce={};Tt(ce,Y),delete ce.type,Y=ce}G.push(">"),G=G.join("")}return G=Si(M,G),Y&&("string"==typeof Y?G.className=Y:Array.isArray(Y)?G.className=Y.join(" "):At(G,Y)),2<b.length&&ii(M,G,b),G}("DIV"),m.appendChild(u)}e.c=e.g.render(u,e.a)}return e.c}))},d.verify=function(){Ld(this);var e=this;return _p(this,this.render().then(function(u){return new Vt(function(m){var b=e.g.getResponse(u);if(b)m(b);else{var M=function(G){G&&(function Pg(e,u){Bt(e.l,function(m){return m==u})}(e,M),m(G))};e.l.push(M),e.i&&e.g.execute(e.c)}})}))},d.reset=function(){Ld(this),null!==this.c&&this.g.reset(this.c)},d.clear=function(){Ld(this),this.A=!0,this.v.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=vr(this.m);for(var u;u=e.firstChild;)e.removeChild(u)}},U(ah,Gh);var ig="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Dt(e,u){return{name:e||"",J:"a valid string",optional:!!u,K:function(m){return"string"==typeof m}}}function wp(e,u){return{name:e||"",J:"a boolean",optional:!!u,K:function(m){return"boolean"==typeof m}}}function Xi(e,u){return{name:e||"",J:"a valid object",optional:!!u,K:Me}}function Vl(e,u){return{name:e||"",J:"a function",optional:!!u,K:function(m){return"function"==typeof m}}}function eo(e,u){return{name:e||"",J:"null",optional:!!u,K:function(m){return null===m}}}function _u(e){return{name:e?e+"Credential":"credential",J:e?"a valid "+e+" credential":"a valid credential",optional:!1,K:function(u){return!!u&&!(!u.ja||e&&u.providerId!==e)}}}function Ul(e,u){return Me(e)&&"string"==typeof e.type&&e.type===u&&"function"==typeof e.Ha}function Tf(e){return Me(e)&&"string"==typeof e.uid}function Ar(e,u,m,b){return{name:m||"",J:e.J+" or "+u.J,optional:!!b,K:function(M){return e.K(M)||u.K(M)}}}function rr(e,u){for(var m in u){var b=u[m].name;e[b]=Mf(b,e[m],u[m].j)}}function Sf(e,u){for(var m in u){var b=u[m].name;b!==m&&Object.defineProperty(e,b,{get:Ye(function(M){return this[M]},m),set:Ye(function(M,G,Y,ce){If(M,[Y],[ce],!0),this[G]=ce},b,m,u[m].jb),enumerable:!0})}}function Tr(e,u,m,b){e[u]=Mf(u,m,b)}function Mf(e,u,m){function b(){var Y=Array.prototype.slice.call(arguments);return If(M,m,Y),u.apply(this,Y)}if(!m)return u;var G,M=function uh(e){return(e=e.split("."))[e.length-1]}(e);for(G in u)b[G]=u[G];for(G in u.prototype)b.prototype[G]=u.prototype[G];return b}rr(vu.prototype,{ib:{name:"applyActionCode",j:[Dt("code")]},Qa:{name:"checkActionCode",j:[Dt("code")]},mb:{name:"confirmPasswordReset",j:[Dt("code"),Dt("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Dt("email"),Dt("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Dt("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Dt("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Ar(Xi(),Vl(),"nextOrObserver"),Vl("opt_error",!0),Vl("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Ar(Xi(),Vl(),"nextOrObserver"),Vl("opt_error",!0),Vl("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Dt("email"),Ar(Xi("opt_actionCodeSettings",!0),eo(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Dt("email"),Xi("actionCodeSettings")]},wb:{name:"setPersistence",j:[Dt("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[_u()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[_u()]},Sc:{name:"signInWithCustomToken",j:[Dt("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Dt("email"),Dt("password")]},Uc:{name:"signInWithEmailLink",j:[Dt("email"),Dt("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Dt("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[Ar({name:"user",J:"an instance of Firebase User",optional:!1,K:function(u){return!!(u&&u instanceof l)}},eo(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Dt(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Dt("url")]},hd:{name:"verifyPasswordResetCode",j:[Dt("code")]}}),Sf(vu.prototype,{lc:{name:"languageCode",jb:Ar(Dt(),eo(),"languageCode")},ti:{name:"tenantId",jb:Ar(Dt(),eo(),"tenantId")}}),(vu.Persistence=us).LOCAL="local",vu.Persistence.SESSION="session",vu.Persistence.NONE="none",rr(l.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[wp("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[wp("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[_u()]},pb:{name:"linkWithCredential",j:[_u()]},Cc:{name:"linkWithPhoneNumber",j:[Dt("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[_u()]},sb:{name:"reauthenticateWithCredential",j:[_u()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Dt("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Ar(Xi("opt_actionCodeSettings",!0),eo(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Dt(null,!0)]},bd:{name:"unlink",j:[Dt("provider")]},Ab:{name:"updateEmail",j:[Dt("email")]},Bb:{name:"updatePassword",j:[Dt("password")]},dd:{name:"updatePhoneNumber",j:[_u("phone")]},Cb:{name:"updateProfile",j:[Xi("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Dt("email"),Ar(Xi("opt_actionCodeSettings",!0),eo(null,!0),"opt_actionCodeSettings",!0)]}}),rr(sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),rr(Cf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),rr(Vt.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Sf(Nh.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:wp("appVerificationDisabledForTesting")}}),rr(xh.prototype,{confirm:{name:"confirm",j:[Dt("verificationCode")]}}),Tr(ra,"fromJSON",function(e){e="string"==typeof e?JSON.parse(e):e;for(var u,m=[Pf,$u,ts,xf],b=0;b<m.length;b++)if(u=m[b](e))return u;return null},[Ar(Dt(),Xi(),"json")]),Tr(fi,"credential",function(e,u){return new Ro(e,u)},[Dt("email"),Dt("password")]),rr(Ro.prototype,{w:{name:"toJSON",j:[Dt(null,!0)]}}),rr(oa.prototype,{Ca:{name:"addScope",j:[Dt("scope")]},Ka:{name:"setCustomParameters",j:[Xi("customOAuthParameters")]}}),Tr(oa,"credential",ol,[Ar(Dt(),Xi(),"token")]),Tr(fi,"credentialWithLink",Yl,[Dt("email"),Dt("emailLink")]),rr(As.prototype,{Ca:{name:"addScope",j:[Dt("scope")]},Ka:{name:"setCustomParameters",j:[Xi("customOAuthParameters")]}}),Tr(As,"credential",Po,[Ar(Dt(),Xi(),"token")]),rr(sa.prototype,{Ca:{name:"addScope",j:[Dt("scope")]},Ka:{name:"setCustomParameters",j:[Xi("customOAuthParameters")]}}),Tr(sa,"credential",Qa,[Ar(Dt(),Ar(Xi(),eo()),"idToken"),Ar(Dt(),eo(),"accessToken",!0)]),rr(Xo.prototype,{Ka:{name:"setCustomParameters",j:[Xi("customOAuthParameters")]}}),Tr(Xo,"credential",es,[Ar(Dt(),Xi(),"token"),Dt("secret",!0)]),rr(Zi.prototype,{Ca:{name:"addScope",j:[Dt("scope")]},credential:{name:"credential",j:[Ar(Dt(),Ar(Xi(),eo()),"optionsOrIdToken"),Ar(Dt(),eo(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Xi("customOAuthParameters")]}}),rr(xn.prototype,{w:{name:"toJSON",j:[Dt(null,!0)]}}),rr(Is.prototype,{w:{name:"toJSON",j:[Dt(null,!0)]}}),Tr(fr,"credential",ns,[Dt("verificationId"),Dt("verificationCode")]),rr(fr.prototype,{eb:{name:"verifyPhoneNumber",j:[Ar(Dt(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(m){return!!m&&(m.session&&m.phoneNumber?Ul(m.session,wc)&&"string"==typeof m.phoneNumber:m.session&&m.multiFactorHint?Ul(m.session,bc)&&Tf(m.multiFactorHint):m.session&&m.multiFactorUid?Ul(m.session,bc)&&"string"==typeof m.multiFactorUid:!!m.phoneNumber&&"string"==typeof m.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),rr(Di.prototype,{w:{name:"toJSON",j:[Dt(null,!0)]}}),rr(A.prototype,{toJSON:{name:"toJSON",j:[Dt(null,!0)]}}),rr(Wu.prototype,{toJSON:{name:"toJSON",j:[Dt(null,!0)]}}),rr(aa.prototype,{toJSON:{name:"toJSON",j:[Dt(null,!0)]}}),rr(Ph.prototype,{toJSON:{name:"toJSON",j:[Dt(null,!0)]}}),rr(Xf.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(e){return!!e&&!!e.rb}}]}}),rr(eh.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(e){return!!e&&!!e.rb}},Dt("displayName",!0)]},ad:{name:"unenroll",j:[Ar({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Tf},Dt(),"multiFactorInfoIdentifier")]}}),rr(ah.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Tr(Wl,"parseLink",na,[Dt("link")]),Tr(eg,"assertion",function(e){return new bd(e)},[_u("phone")]),function(){if(void 0===k||!k.INTERNAL||!k.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zo,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ta,VERIFY_AND_CHANGE_EMAIL:Us,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:vu,AuthCredential:ra,Error:A};Tr(e,"EmailAuthProvider",fi,[]),Tr(e,"FacebookAuthProvider",oa,[]),Tr(e,"GithubAuthProvider",As,[]),Tr(e,"GoogleAuthProvider",sa,[]),Tr(e,"TwitterAuthProvider",Xo,[]),Tr(e,"OAuthProvider",Zi,[Dt("providerId")]),Tr(e,"SAMLAuthProvider",qs,[Dt("providerId")]),Tr(e,"PhoneAuthProvider",fr,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(e){return!!(e&&e instanceof vu)}}]),Tr(e,"RecaptchaVerifier",ah,[Ar(Dt(),{name:"",J:"an HTML element",optional:!1,K:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Xi("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(e){return!!(e&&e instanceof k.app.App)}}]),Tr(e,"ActionCodeURL",Wl,[]),Tr(e,"PhoneMultiFactorGenerator",eg,[]),k.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return new vu(u=u.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),k.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return{getUid:Ne((u=u.getProvider("auth").getImmediate()).getUid,u),getToken:Ne(u.mc,u),addAuthTokenListener:Ne(u.cc,u),removeAuthTokenListener:Ne(u.Oc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),k.registerVersion("@firebase/auth","0.15.0"),k.INTERNAL.extendNamespace({User:l})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},6355:(wt,we,J)=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});var k=J(7754),d=J(1270),Se=function(){function ge(V,Q,me){this.name=V,this.instanceFactory=Q,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return ge.prototype.setInstantiationMode=function(V){return this.instantiationMode=V,this},ge.prototype.setMultipleInstances=function(V){return this.multipleInstances=V,this},ge.prototype.setServiceProps=function(V){return this.serviceProps=V,this},ge}(),Ae="[DEFAULT]",ae=function(){function ge(V,Q){this.name=V,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return ge.prototype.get=function(V){void 0===V&&(V=Ae);var Q=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(Q)){var me=new d.Deferred;this.instancesDeferred.set(Q,me);try{var De=this.getOrInitializeService(Q);De&&me.resolve(De)}catch(se){}}return this.instancesDeferred.get(Q).promise},ge.prototype.getImmediate=function(V){var Q=k.__assign({identifier:Ae,optional:!1},V),De=Q.optional,se=this.normalizeInstanceIdentifier(Q.identifier);try{var Le=this.getOrInitializeService(se);if(!Le){if(De)return null;throw Error("Service "+this.name+" is not available")}return Le}catch(ze){if(De)return null;throw ze}},ge.prototype.getComponent=function(){return this.component},ge.prototype.setComponent=function(V){var Q,me;if(V.name!==this.name)throw Error("Mismatching Component "+V.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=V,function ye(ge){return"EAGER"===ge.instantiationMode}(V))try{this.getOrInitializeService(Ae)}catch(ke){}try{for(var De=k.__values(this.instancesDeferred.entries()),se=De.next();!se.done;se=De.next()){var Le=k.__read(se.value,2),Me=Le[1],Re=this.normalizeInstanceIdentifier(Le[0]);try{var Ue=this.getOrInitializeService(Re);Me.resolve(Ue)}catch(ke){}}}catch(ke){Q={error:ke}}finally{try{se&&!se.done&&(me=De.return)&&me.call(De)}finally{if(Q)throw Q.error}}},ge.prototype.clearInstance=function(V){void 0===V&&(V=Ae),this.instancesDeferred.delete(V),this.instances.delete(V)},ge.prototype.delete=function(){return k.__awaiter(this,void 0,void 0,function(){var V;return k.__generator(this,function(Q){switch(Q.label){case 0:return V=Array.from(this.instances.values()),[4,Promise.all(k.__spread(V.filter(function(me){return"INTERNAL"in me}).map(function(me){return me.INTERNAL.delete()}),V.filter(function(me){return"_delete"in me}).map(function(me){return me._delete()})))];case 1:return Q.sent(),[2]}})})},ge.prototype.isComponentSet=function(){return null!=this.component},ge.prototype.getOrInitializeService=function(V){var Q=this.instances.get(V);return!Q&&this.component&&(Q=this.component.instanceFactory(this.container,function je(ge){return ge===Ae?void 0:ge}(V)),this.instances.set(V,Q)),Q||null},ge.prototype.normalizeInstanceIdentifier=function(V){return this.component?this.component.multipleInstances?V:Ae:V},ge}(),xe=function(){function ge(V){this.name=V,this.providers=new Map}return ge.prototype.addComponent=function(V){var Q=this.getProvider(V.name);if(Q.isComponentSet())throw new Error("Component "+V.name+" has already been registered with "+this.name);Q.setComponent(V)},ge.prototype.addOrOverwriteComponent=function(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)},ge.prototype.getProvider=function(V){if(this.providers.has(V))return this.providers.get(V);var Q=new ae(V,this);return this.providers.set(V,Q),Q},ge.prototype.getProviders=function(){return Array.from(this.providers.values())},ge}();we.Component=Se,we.ComponentContainer=xe,we.Provider=ae},199:(wt,we,J)=>{"use strict";var d=J(617),Se=J(9278),Ae=J(4003),ae=J(1270),je=J(670),ye=J(6355),ge=function xe(s){return s&&"object"==typeof s&&"default"in s?s:{default:s}}(Se),V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=function(s){function r(o,f){var g=this;return(g=s.call(this,f)||this).code=o,g.message=f,g.name="FirebaseError",g.toString=function(){return g.name+": [code="+g.code+"]: "+g.message},g}return d.__extends(r,s),r}(Error),me=new Ae.Logger("@firebase/firestore");function De(){return me.logLevel}function se(s){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(me.logLevel<=Ae.LogLevel.DEBUG){var f=r.map(Me);me.debug.apply(me,d.__spreadArrays(["Firestore (7.24.0): "+s],f))}}function Le(s){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(me.logLevel<=Ae.LogLevel.ERROR){var f=r.map(Me);me.error.apply(me,d.__spreadArrays(["Firestore (7.24.0): "+s],f))}}function ze(s){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(me.logLevel<=Ae.LogLevel.WARN){var f=r.map(Me);me.warn.apply(me,d.__spreadArrays(["Firestore (7.24.0): "+s],f))}}function Me(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(o){return s}}function Re(s){void 0===s&&(s="Unexpected state");var r="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+s;throw Le(r),new Error(r)}function Ue(s,r){s||Re()}function ke(s,r){return s}function Oe(s){var r=0;for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r++;return r}function $e(s,r){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r(o,s[o])}function Ne(s){for(var r in s)if(Object.prototype.hasOwnProperty.call(s,r))return!1;return!0}var Ye=function(){function s(r,o,f){void 0===o?o=0:o>r.length&&Re(),void 0===f?f=r.length-o:f>r.length-o&&Re(),this.segments=r,this.offset=o,this.t=f}return Object.defineProperty(s.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(r){return 0===s.i(this,r)},s.prototype.child=function(r){var o=this.segments.slice(this.offset,this.limit());return r instanceof s?r.forEach(function(f){o.push(f)}):o.push(r),this.o(o)},s.prototype.limit=function(){return this.offset+this.length},s.prototype.u=function(r){return this.o(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)},s.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},s.prototype.l=function(){return this.segments[this.offset]},s.prototype._=function(){return this.get(this.length-1)},s.prototype.get=function(r){return this.segments[this.offset+r]},s.prototype.m=function(){return 0===this.length},s.prototype.T=function(r){if(r.length<this.length)return!1;for(var o=0;o<this.length;o++)if(this.get(o)!==r.get(o))return!1;return!0},s.prototype.I=function(r){if(this.length+1!==r.length)return!1;for(var o=0;o<this.length;o++)if(this.get(o)!==r.get(o))return!1;return!0},s.prototype.forEach=function(r){for(var o=this.offset,f=this.limit();o<f;o++)r(this.segments[o])},s.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},s.i=function(r,o){for(var f=Math.min(r.length,o.length),g=0;g<f;g++){var w=r.get(g),D=o.get(g);if(w<D)return-1;if(w>D)return 1}return r.length<o.length?-1:r.length>o.length?1:0},s}(),B=function(s){function r(){return null!==s&&s.apply(this,arguments)||this}return d.__extends(r,s),r.prototype.o=function(o,f,g){return new r(o,f,g)},r.prototype.R=function(){return this.A().join("/")},r.prototype.toString=function(){return this.R()},r.g=function(){for(var o=[],f=0;f<arguments.length;f++)o[f]=arguments[f];for(var g=[],w=0,D=o;w<D.length;w++){var T=D[w];if(T.indexOf("//")>=0)throw new Q(V.INVALID_ARGUMENT,"Invalid segment ("+T+"). Paths must not contain // in them.");g.push.apply(g,T.split("/").filter(function(R){return R.length>0}))}return new r(g)},r.P=function(){return new r([])},r}(Ye),U=/^[_a-zA-Z][_a-zA-Z0-9]*$/,A=function(s){function r(){return null!==s&&s.apply(this,arguments)||this}return d.__extends(r,s),r.prototype.o=function(o,f,g){return new r(o,f,g)},r.V=function(o){return U.test(o)},r.prototype.R=function(){return this.A().map(function(o){return o=o.replace("\\","\\\\").replace("`","\\`"),r.V(o)||(o="`"+o+"`"),o}).join(".")},r.prototype.toString=function(){return this.R()},r.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},r.v=function(){return new r(["__name__"])},r.S=function(o){for(var f=[],g="",w=0,D=function(){if(0===g.length)throw new Q(V.INVALID_ARGUMENT,"Invalid field path ("+o+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");f.push(g),g=""},T=!1;w<o.length;){var R=o[w];if("\\"===R){if(w+1===o.length)throw new Q(V.INVALID_ARGUMENT,"Path has trailing escape character: "+o);var W=o[w+1];if("\\"!==W&&"."!==W&&"`"!==W)throw new Q(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+o);g+=W,w+=2}else"`"===R?(T=!T,w++):"."!==R||T?(g+=R,w++):(D(),w++)}if(D(),T)throw new Q(V.INVALID_ARGUMENT,"Unterminated ` in path: "+o);return new r(f)},r.P=function(){return new r([])},r}(Ye),F=function(){function s(r){this.path=r}return s.D=function(r){return new s(B.g(r))},s.C=function(r){return new s(B.g(r).u(5))},s.prototype.N=function(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r},s.prototype.isEqual=function(r){return null!==r&&0===B.i(this.path,r.path)},s.prototype.toString=function(){return this.path.toString()},s.i=function(r,o){return B.i(r.path,o.path)},s.F=function(r){return r.length%2==0},s.$=function(r){return new s(new B(r.slice()))},s}();function $(s,r){if(0!==r.length)throw new Q(V.INVALID_ARGUMENT,"Function "+s+"() does not support arguments, but was called with "+no(r.length,"argument")+".")}function j(s,r,o){if(r.length!==o)throw new Q(V.INVALID_ARGUMENT,"Function "+s+"() requires "+no(o,"argument")+", but was called with "+no(r.length,"argument")+".")}function ie(s,r,o){if(r.length<o)throw new Q(V.INVALID_ARGUMENT,"Function "+s+"() requires at least "+no(o,"argument")+", but was called with "+no(r.length,"argument")+".")}function te(s,r,o,f){if(r.length<o||r.length>f)throw new Q(V.INVALID_ARGUMENT,"Function "+s+"() requires between "+o+" and "+f+" arguments, but was called with "+no(r.length,"argument")+".")}function He(s,r,o,f){St(s,r,sn(o)+" argument",f)}function _e(s,r,o,f){void 0!==f&&He(s,r,o,f)}function rt(s,r,o,f){St(s,r,o+" option",f)}function Ge(s,r,o,f){void 0!==f&&rt(s,r,o,f)}function Ve(s,r,o,f,g){void 0!==f&&function(w,D,T,R,W){for(var ee=[],fe=0,ue=W;fe<ue.length;fe++){var Ee=ue[fe];if(Ee===R)return;ee.push(bn(Ee))}var Fe=bn(R);throw new Q(V.INVALID_ARGUMENT,"Invalid value "+Fe+" provided to function "+w+'() for option "'+T+'". Acceptable values: '+ee.join(", "))}(s,0,o,f,g)}function ft(s,r,o,f){if(!r.some(function(g){return g===f}))throw new Q(V.INVALID_ARGUMENT,"Invalid value "+bn(f)+" provided to function "+s+"() for its "+sn(o)+" argument. Acceptable values: "+r.join(", "));return f}function St(s,r,o,f){if(!("object"===r?Vn(f):"non-empty string"===r?"string"==typeof f&&""!==f:typeof f===r)){var g=bn(f);throw new Q(V.INVALID_ARGUMENT,"Function "+s+"() requires its "+o+" to be of type "+r+", but it was: "+g)}}function Vn(s){return"object"==typeof s&&null!==s&&(Object.getPrototypeOf(s)===Object.prototype||null===Object.getPrototypeOf(s))}function bn(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=s.substring(0,20)+"..."),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";var r=function(o){if(o.constructor){var f=/function\s+([^\s(]+)\s*\(/.exec(o.constructor.toString());if(f&&f.length>1)return f[1]}return null}(s);return r?"a custom "+r+" object":"an object"}return"function"==typeof s?"a function":Re()}function or(s,r,o){if(void 0===o)throw new Q(V.INVALID_ARGUMENT,"Function "+s+"() requires a valid "+sn(r)+" argument, but it was undefined.")}function Kn(s,r,o){$e(r,function(f,g){if(o.indexOf(f)<0)throw new Q(V.INVALID_ARGUMENT,"Unknown option '"+f+"' passed to function "+s+"(). Available options: "+o.join(", "))})}function mn(s,r,o,f){var g=bn(f);return new Q(V.INVALID_ARGUMENT,"Function "+s+"() requires its "+sn(o)+" argument to be a "+r+", but it was: "+g)}function Lt(s,r,o){if(o<=0)throw new Q(V.INVALID_ARGUMENT,"Function "+s+"() requires its "+sn(r)+" argument to be a positive number, but it was: "+o+".")}function sn(s){switch(s){case 1:return"first";case 2:return"second";case 3:return"third";default:return s+"th"}}function no(s,r){return s+" "+r+(1===s?"":"s")}function en(s){var r="undefined"!=typeof self&&(self.crypto||self.msCrypto),o=new Uint8Array(s);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(o);else for(var f=0;f<s;f++)o[f]=Math.floor(256*Math.random());return o}var An=function(){function s(){}return s.k=function(){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/r.length)*r.length,f="";f.length<20;)for(var g=en(40),w=0;w<g.length;++w)f.length<20&&g[w]<o&&(f+=r.charAt(g[w]%r.length));return f},s}();function vt(s,r){return s<r?-1:s>r?1:0}function Wt(s,r,o){return s.length===r.length&&s.every(function(f,g){return o(f,r[g])})}function _n(s){return s+"\0"}var Bt=function(){function s(r){this.M=r}return s.fromBase64String=function(r){return new s(atob(r))},s.fromUint8Array=function(r){return new s(function(o){for(var f="",g=0;g<o.length;++g)f+=String.fromCharCode(o[g]);return f}(r))},s.prototype.toBase64=function(){return btoa(this.M)},s.prototype.toUint8Array=function(){return function(r){for(var o=new Uint8Array(r.length),f=0;f<r.length;f++)o[f]=r.charCodeAt(f);return o}(this.M)},s.prototype.O=function(){return 2*this.M.length},s.prototype.L=function(r){return vt(this.M,r.M)},s.prototype.isEqual=function(r){return this.M===r.M},s}();Bt.B=new Bt("");var dr=function(){function s(r){this.q=r}return s.fromBase64String=function(r){try{return new s(Bt.fromBase64String(r))}catch(o){throw new Q(V.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+o)}},s.fromUint8Array=function(r){return new s(Bt.fromUint8Array(r))},s.prototype.toBase64=function(){return this.q.toBase64()},s.prototype.toUint8Array=function(){return this.q.toUint8Array()},s.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},s.prototype.isEqual=function(r){return this.q.isEqual(r.q)},s}();function En(){if("undefined"==typeof Uint8Array)throw new Q(V.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function pr(){if("undefined"==typeof atob)throw new Q(V.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var mi=function(s){function r(){return null!==s&&s.apply(this,arguments)||this}return d.__extends(r,s),r.fromBase64String=function(o){j("Blob.fromBase64String",arguments,1),He("Blob.fromBase64String","string",1,o),pr();try{return new r(Bt.fromBase64String(o))}catch(f){throw new Q(V.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+f)}},r.fromUint8Array=function(o){if(j("Blob.fromUint8Array",arguments,1),En(),!(o instanceof Uint8Array))throw mn("Blob.fromUint8Array","Uint8Array",1,o);return new r(Bt.fromUint8Array(o))},r.prototype.toBase64=function(){return j("Blob.toBase64",arguments,0),pr(),s.prototype.toBase64.call(this)},r.prototype.toUint8Array=function(){return j("Blob.toUint8Array",arguments,0),En(),s.prototype.toUint8Array.call(this)},r.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},r}(dr),Ho=function(s,r,o,f,g,w){this.U=s,this.persistenceKey=r,this.host=o,this.ssl=f,this.forceLongPolling=g,this.W=w},xs=function(){function s(r,o){this.projectId=r,this.database=o||"(default)"}return Object.defineProperty(s.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(r){return r instanceof s&&r.projectId===this.projectId&&r.database===this.database},s.prototype.L=function(r){return vt(this.projectId,r.projectId)||vt(this.database,r.database)},s}(),jn=function(){function s(r,o){this.K=r,this.G=o,this.H={}}return s.prototype.get=function(r){var o=this.K(r),f=this.H[o];if(void 0!==f)for(var g=0,w=f;g<w.length;g++){var D=w[g],R=D[1];if(this.G(D[0],r))return R}},s.prototype.has=function(r){return void 0!==this.get(r)},s.prototype.set=function(r,o){var f=this.K(r),g=this.H[f];if(void 0!==g){for(var w=0;w<g.length;w++)if(this.G(g[w][0],r))return void(g[w]=[r,o]);g.push([r,o])}else this.H[f]=[[r,o]]},s.prototype.delete=function(r){var o=this.K(r),f=this.H[o];if(void 0===f)return!1;for(var g=0;g<f.length;g++)if(this.G(f[g][0],r))return 1===f.length?delete this.H[o]:f.splice(g,1),!0;return!1},s.prototype.forEach=function(r){$e(this.H,function(o,f){for(var g=0,w=f;g<w.length;g++){var D=w[g];r(D[0],D[1])}})},s.prototype.m=function(){return Ne(this.H)},s}(),On=function(){function s(r,o){if(this.seconds=r,this.nanoseconds=o,o<0)throw new Q(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new Q(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(r<-62135596800)throw new Q(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new Q(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}return s.now=function(){return s.fromMillis(Date.now())},s.fromDate=function(r){return s.fromMillis(r.getTime())},s.fromMillis=function(r){var o=Math.floor(r/1e3);return new s(o,1e6*(r-1e3*o))},s.prototype.toDate=function(){return new Date(this.toMillis())},s.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},s.prototype.Y=function(r){return this.seconds===r.seconds?vt(this.nanoseconds,r.nanoseconds):vt(this.seconds,r.seconds)},s.prototype.isEqual=function(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds},s.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},s.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},s.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},s}(),st=function(){function s(r){this.timestamp=r}return s.J=function(r){return new s(r)},s.min=function(){return new s(new On(0,0))},s.prototype.L=function(r){return this.timestamp.Y(r.timestamp)},s.prototype.isEqual=function(r){return this.timestamp.isEqual(r.timestamp)},s.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},s.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},s.prototype.Z=function(){return this.timestamp},s}();function ve(s){return null==s}function oe(s){return 0===s&&1/s==-1/0}function pe(s){return"number"==typeof s&&Number.isInteger(s)&&!oe(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}var Pe=function(s,r,o,f,g,w,D){void 0===r&&(r=null),void 0===o&&(o=[]),void 0===f&&(f=[]),void 0===g&&(g=null),void 0===w&&(w=null),void 0===D&&(D=null),this.path=s,this.collectionGroup=r,this.orderBy=o,this.filters=f,this.limit=g,this.startAt=w,this.endAt=D,this.tt=null};function Ce(s,r,o,f,g,w,D){return void 0===r&&(r=null),void 0===o&&(o=[]),void 0===f&&(f=[]),void 0===g&&(g=null),void 0===w&&(w=null),void 0===D&&(D=null),new Pe(s,r,o,f,g,w,D)}function lt(s){var r=ke(s);if(null===r.tt){var o=r.path.R();null!==r.collectionGroup&&(o+="|cg:"+r.collectionGroup),o+="|f:",o+=r.filters.map(function(f){return(g=f).field.R()+g.op.toString()+hn(g.value);var g}).join(","),o+="|ob:",o+=r.orderBy.map(function(f){return(g=f).field.R()+g.dir;var g}).join(","),ve(r.limit)||(o+="|l:",o+=r.limit),r.startAt&&(o+="|lb:",o+=Br(r.startAt)),r.endAt&&(o+="|ub:",o+=Br(r.endAt)),r.tt=o}return r.tt}function dt(s,r){if(s.limit!==r.limit||s.orderBy.length!==r.orderBy.length)return!1;for(var o=0;o<s.orderBy.length;o++)if(!Wi(s.orderBy[o],r.orderBy[o]))return!1;if(s.filters.length!==r.filters.length)return!1;for(var f=0;f<s.filters.length;f++)if((g=s.filters[f]).op!==(w=r.filters[f]).op||!g.field.isEqual(w.field)||!ri(g.value,w.value))return!1;var g,w;return s.collectionGroup===r.collectionGroup&&!!s.path.isEqual(r.path)&&!!js(s.startAt,r.startAt)&&js(s.endAt,r.endAt)}function Zt(s){return F.F(s.path)&&null===s.collectionGroup&&0===s.filters.length}var Pt,tt,sr=function(){function s(r,o,f,g,w,D,T){void 0===w&&(w=st.min()),void 0===D&&(D=st.min()),void 0===T&&(T=Bt.B),this.target=r,this.targetId=o,this.et=f,this.sequenceNumber=g,this.nt=w,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=T}return s.prototype.st=function(r){return new s(this.target,this.targetId,this.et,r,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},s.prototype.it=function(r,o){return new s(this.target,this.targetId,this.et,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,r)},s.prototype.rt=function(r){return new s(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,r,this.resumeToken)},s}(),Tt=function(s){this.count=s};function Qn(s){switch(s){case V.OK:return Re();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0;default:return Re()}}function ar(s){if(void 0===s)return Le("GRPC error has no .code"),V.UNKNOWN;switch(s){case Pt.OK:return V.OK;case Pt.CANCELLED:return V.CANCELLED;case Pt.UNKNOWN:return V.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return V.INTERNAL;case Pt.UNAVAILABLE:return V.UNAVAILABLE;case Pt.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Pt.NOT_FOUND:return V.NOT_FOUND;case Pt.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Pt.ABORTED:return V.ABORTED;case Pt.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Pt.DATA_LOSS:return V.DATA_LOSS;default:return Re()}}(tt=Pt||(Pt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";var $t=function(){function s(r,o){this.i=r,this.root=o||Bi.EMPTY}return s.prototype.ot=function(r,o){return new s(this.i,this.root.ot(r,o,this.i).copy(null,null,Bi.at,null,null))},s.prototype.remove=function(r){return new s(this.i,this.root.remove(r,this.i).copy(null,null,Bi.at,null,null))},s.prototype.get=function(r){for(var o=this.root;!o.m();){var f=this.i(r,o.key);if(0===f)return o.value;f<0?o=o.left:f>0&&(o=o.right)}return null},s.prototype.indexOf=function(r){for(var o=0,f=this.root;!f.m();){var g=this.i(r,f.key);if(0===g)return o+f.left.size;g<0?f=f.left:(o+=f.left.size+1,f=f.right)}return-1},s.prototype.m=function(){return this.root.m()},Object.defineProperty(s.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),s.prototype.ct=function(){return this.root.ct()},s.prototype.ut=function(){return this.root.ut()},s.prototype.ht=function(r){return this.root.ht(r)},s.prototype.forEach=function(r){this.ht(function(o,f){return r(o,f),!1})},s.prototype.toString=function(){var r=[];return this.ht(function(o,f){return r.push(o+":"+f),!1}),"{"+r.join(", ")+"}"},s.prototype.lt=function(r){return this.root.lt(r)},s.prototype._t=function(){return new fs(this.root,null,this.i,!1)},s.prototype.ft=function(r){return new fs(this.root,r,this.i,!1)},s.prototype.dt=function(){return new fs(this.root,null,this.i,!0)},s.prototype.wt=function(r){return new fs(this.root,r,this.i,!0)},s}(),fs=function(){function s(r,o,f,g){this.Tt=g,this.Et=[];for(var w=1;!r.m();)if(w=o?f(r.key,o):1,g&&(w*=-1),w<0)r=this.Tt?r.left:r.right;else{if(0===w){this.Et.push(r);break}this.Et.push(r),r=this.Tt?r.right:r.left}}return s.prototype.It=function(){var r=this.Et.pop(),o={key:r.key,value:r.value};if(this.Tt)for(r=r.left;!r.m();)this.Et.push(r),r=r.right;else for(r=r.right;!r.m();)this.Et.push(r),r=r.left;return o},s.prototype.At=function(){return this.Et.length>0},s.prototype.Rt=function(){if(0===this.Et.length)return null;var r=this.Et[this.Et.length-1];return{key:r.key,value:r.value}},s}(),Bi=function(){function s(r,o,f,g,w){this.key=r,this.value=o,this.color=null!=f?f:s.RED,this.left=null!=g?g:s.EMPTY,this.right=null!=w?w:s.EMPTY,this.size=this.left.size+1+this.right.size}return s.prototype.copy=function(r,o,f,g,w){return new s(null!=r?r:this.key,null!=o?o:this.value,null!=f?f:this.color,null!=g?g:this.left,null!=w?w:this.right)},s.prototype.m=function(){return!1},s.prototype.ht=function(r){return this.left.ht(r)||r(this.key,this.value)||this.right.ht(r)},s.prototype.lt=function(r){return this.right.lt(r)||r(this.key,this.value)||this.left.lt(r)},s.prototype.min=function(){return this.left.m()?this:this.left.min()},s.prototype.ct=function(){return this.min().key},s.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},s.prototype.ot=function(r,o,f){var g=this,w=f(r,g.key);return(g=w<0?g.copy(null,null,null,g.left.ot(r,o,f),null):0===w?g.copy(null,o,null,null,null):g.copy(null,null,null,null,g.right.ot(r,o,f))).gt()},s.prototype.Pt=function(){if(this.left.m())return s.EMPTY;var r=this;return r.left.yt()||r.left.left.yt()||(r=r.Vt()),(r=r.copy(null,null,null,r.left.Pt(),null)).gt()},s.prototype.remove=function(r,o){var f,g=this;if(o(r,g.key)<0)g.left.m()||g.left.yt()||g.left.left.yt()||(g=g.Vt()),g=g.copy(null,null,null,g.left.remove(r,o),null);else{if(g.left.yt()&&(g=g.bt()),g.right.m()||g.right.yt()||g.right.left.yt()||(g=g.vt()),0===o(r,g.key)){if(g.right.m())return s.EMPTY;f=g.right.min(),g=g.copy(f.key,f.value,null,null,g.right.Pt())}g=g.copy(null,null,null,null,g.right.remove(r,o))}return g.gt()},s.prototype.yt=function(){return this.color},s.prototype.gt=function(){var r=this;return r.right.yt()&&!r.left.yt()&&(r=r.St()),r.left.yt()&&r.left.left.yt()&&(r=r.bt()),r.left.yt()&&r.right.yt()&&(r=r.Dt()),r},s.prototype.Vt=function(){var r=this.Dt();return r.right.left.yt()&&(r=(r=(r=r.copy(null,null,null,null,r.right.bt())).St()).Dt()),r},s.prototype.vt=function(){var r=this.Dt();return r.left.left.yt()&&(r=(r=r.bt()).Dt()),r},s.prototype.St=function(){var r=this.copy(null,null,s.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)},s.prototype.bt=function(){var r=this.copy(null,null,s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)},s.prototype.Dt=function(){var r=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,o)},s.prototype.Ct=function(){var r=this.Nt();return Math.pow(2,r)<=this.size+1},s.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw Re();var r=this.left.Nt();if(r!==this.right.Nt())throw Re();return r+(this.yt()?0:1)},s}();Bi.EMPTY=null,Bi.RED=!0,Bi.at=!1,Bi.EMPTY=new(function(){function s(){this.size=0}return Object.defineProperty(s.prototype,"key",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"color",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"left",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"right",{get:function(){throw Re()},enumerable:!1,configurable:!0}),s.prototype.copy=function(r,o,f,g,w){return this},s.prototype.ot=function(r,o,f){return new Bi(r,o)},s.prototype.remove=function(r,o){return this},s.prototype.m=function(){return!0},s.prototype.ht=function(r){return!1},s.prototype.lt=function(r){return!1},s.prototype.ct=function(){return null},s.prototype.ut=function(){return null},s.prototype.yt=function(){return!1},s.prototype.Ct=function(){return!0},s.prototype.Nt=function(){return 0},s}());var Un=function(){function s(r){this.i=r,this.data=new $t(this.i)}return s.prototype.has=function(r){return null!==this.data.get(r)},s.prototype.first=function(){return this.data.ct()},s.prototype.last=function(){return this.data.ut()},Object.defineProperty(s.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),s.prototype.indexOf=function(r){return this.data.indexOf(r)},s.prototype.forEach=function(r){this.data.ht(function(o,f){return r(o),!1})},s.prototype.Ft=function(r,o){for(var f=this.data.ft(r[0]);f.At();){var g=f.It();if(this.i(g.key,r[1])>=0)return;o(g.key)}},s.prototype.xt=function(r,o){var f;for(f=void 0!==o?this.data.ft(o):this.data._t();f.At();)if(!r(f.It().key))return},s.prototype.$t=function(r){var o=this.data.ft(r);return o.At()?o.It().key:null},s.prototype._t=function(){return new tn(this.data._t())},s.prototype.ft=function(r){return new tn(this.data.ft(r))},s.prototype.add=function(r){return this.copy(this.data.remove(r).ot(r,!0))},s.prototype.delete=function(r){return this.has(r)?this.copy(this.data.remove(r)):this},s.prototype.m=function(){return this.data.m()},s.prototype.kt=function(r){var o=this;return o.size<r.size&&(o=r,r=this),r.forEach(function(f){o=o.add(f)}),o},s.prototype.isEqual=function(r){if(!(r instanceof s)||this.size!==r.size)return!1;for(var o=this.data._t(),f=r.data._t();o.At();){var g=o.It().key,w=f.It().key;if(0!==this.i(g,w))return!1}return!0},s.prototype.A=function(){var r=[];return this.forEach(function(o){r.push(o)}),r},s.prototype.toString=function(){var r=[];return this.forEach(function(o){return r.push(o)}),"SortedSet("+r.toString()+")"},s.prototype.copy=function(r){var o=new s(this.i);return o.data=r,o},s}(),tn=function(){function s(r){this.Mt=r}return s.prototype.It=function(){return this.Mt.It().key},s.prototype.At=function(){return this.Mt.At()},s}(),ro=new $t(F.i);function ur(){return ro}function gr(){return ur()}var hs=new $t(F.i);function $r(){return hs}var Bn=new $t(F.i),It=new Un(F.i);function rn(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];for(var o=It,f=0,g=s;f<g.length;f++){var w=g[f];o=o.add(w)}return o}var zr=new Un(vt);function ni(){return zr}var Ps=function(){function s(r){this.i=r?function(o,f){return r(o,f)||F.i(o.key,f.key)}:function(o,f){return F.i(o.key,f.key)},this.Ot=$r(),this.Lt=new $t(this.i)}return s.Bt=function(r){return new s(r.i)},s.prototype.has=function(r){return null!=this.Ot.get(r)},s.prototype.get=function(r){return this.Ot.get(r)},s.prototype.first=function(){return this.Lt.ct()},s.prototype.last=function(){return this.Lt.ut()},s.prototype.m=function(){return this.Lt.m()},s.prototype.indexOf=function(r){var o=this.Ot.get(r);return o?this.Lt.indexOf(o):-1},Object.defineProperty(s.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),s.prototype.forEach=function(r){this.Lt.ht(function(o,f){return r(o),!1})},s.prototype.add=function(r){var o=this.delete(r.key);return o.copy(o.Ot.ot(r.key,r),o.Lt.ot(r,null))},s.prototype.delete=function(r){var o=this.get(r);return o?this.copy(this.Ot.remove(r),this.Lt.remove(o)):this},s.prototype.isEqual=function(r){if(!(r instanceof s)||this.size!==r.size)return!1;for(var o=this.Lt._t(),f=r.Lt._t();o.At();){var g=o.It().key,w=f.It().key;if(!g.isEqual(w))return!1}return!0},s.prototype.toString=function(){var r=[];return this.forEach(function(o){r.push(o.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"},s.prototype.copy=function(r,o){var f=new s;return f.i=this.i,f.Ot=r,f.Lt=o,f},s}(),io=function(){function s(){this.qt=new $t(F.i)}return s.prototype.track=function(r){var o=r.doc.key,f=this.qt.get(o);f?0!==r.type&&3===f.type?this.qt=this.qt.ot(o,r):3===r.type&&1!==f.type?this.qt=this.qt.ot(o,{type:f.type,doc:r.doc}):2===r.type&&2===f.type?this.qt=this.qt.ot(o,{type:2,doc:r.doc}):2===r.type&&0===f.type?this.qt=this.qt.ot(o,{type:0,doc:r.doc}):1===r.type&&0===f.type?this.qt=this.qt.remove(o):1===r.type&&2===f.type?this.qt=this.qt.ot(o,{type:1,doc:f.doc}):0===r.type&&1===f.type?this.qt=this.qt.ot(o,{type:2,doc:r.doc}):Re():this.qt=this.qt.ot(o,r)},s.prototype.Ut=function(){var r=[];return this.qt.ht(function(o,f){r.push(f)}),r},s}(),Wr=function(){function s(r,o,f,g,w,D,T,R){this.query=r,this.docs=o,this.Qt=f,this.docChanges=g,this.Wt=w,this.fromCache=D,this.jt=T,this.Kt=R}return s.Gt=function(r,o,f,g){var w=[];return o.forEach(function(D){w.push({type:0,doc:D})}),new s(r,o,Ps.Bt(o),w,f,g,!0,!1)},Object.defineProperty(s.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(r){if(!(this.fromCache===r.fromCache&&this.jt===r.jt&&this.Wt.isEqual(r.Wt)&&Ut(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.Qt.isEqual(r.Qt)))return!1;var o=this.docChanges,f=r.docChanges;if(o.length!==f.length)return!1;for(var g=0;g<o.length;g++)if(o[g].type!==f[g].type||!o[g].doc.isEqual(f[g].doc))return!1;return!0},s}(),Rs=function(){function s(r,o,f,g,w){this.nt=r,this.zt=o,this.Ht=f,this.Yt=g,this.Jt=w}return s.Xt=function(r,o){var f=new Map;return f.set(r,ds.Zt(r,o)),new s(st.min(),f,ni(),ur(),rn())},s}(),ds=function(){function s(r,o,f,g,w){this.resumeToken=r,this.te=o,this.ee=f,this.ne=g,this.se=w}return s.Zt=function(r,o){return new s(Bt.B,o,rn(),rn(),rn())},s}(),oo=function(s,r,o,f){this.ie=s,this.removedTargetIds=r,this.key=o,this.re=f},so=function(s,r){this.targetId=s,this.oe=r},Ft=function(s,r,o,f){void 0===o&&(o=Bt.B),void 0===f&&(f=null),this.state=s,this.targetIds=r,this.resumeToken=o,this.cause=f},vi=function(){function s(){this.ae=0,this.ce=Kr(),this.ue=Bt.B,this.he=!1,this.le=!0}return Object.defineProperty(s.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),s.prototype.de=function(r){r.O()>0&&(this.le=!0,this.ue=r)},s.prototype.we=function(){var r=rn(),o=rn(),f=rn();return this.ce.forEach(function(g,w){switch(w){case 0:r=r.add(g);break;case 2:o=o.add(g);break;case 1:f=f.add(g);break;default:Re()}}),new ds(this.ue,this.he,r,o,f)},s.prototype.me=function(){this.le=!1,this.ce=Kr()},s.prototype.Te=function(r,o){this.le=!0,this.ce=this.ce.ot(r,o)},s.prototype.Ee=function(r){this.le=!0,this.ce=this.ce.remove(r)},s.prototype.Ie=function(){this.ae+=1},s.prototype.Ae=function(){this.ae-=1},s.prototype.Re=function(){this.le=!0,this.he=!0},s}(),_o=function(){function s(r){this.ge=r,this.Pe=new Map,this.ye=ur(),this.Ve=kr(),this.pe=new Un(vt)}return s.prototype.be=function(r){for(var o=0,f=r.ie;o<f.length;o++){var g=f[o];r.re instanceof xt?this.ve(g,r.re):r.re instanceof on&&this.Se(g,r.key,r.re)}for(var w=0,D=r.removedTargetIds;w<D.length;w++)this.Se(D[w],r.key,r.re)},s.prototype.De=function(r){var o=this;this.Ce(r,function(f){var g=o.Ne(f);switch(r.state){case 0:o.Fe(f)&&g.de(r.resumeToken);break;case 1:g.Ae(),g._e||g.me(),g.de(r.resumeToken);break;case 2:g.Ae(),g._e||o.removeTarget(f);break;case 3:o.Fe(f)&&(g.Re(),g.de(r.resumeToken));break;case 4:o.Fe(f)&&(o.xe(f),g.de(r.resumeToken));break;default:Re()}})},s.prototype.Ce=function(r,o){var f=this;r.targetIds.length>0?r.targetIds.forEach(o):this.Pe.forEach(function(g,w){f.Fe(w)&&o(w)})},s.prototype.$e=function(r){var o=r.targetId,f=r.oe.count,g=this.ke(o);if(g){var w=g.target;if(Zt(w))if(0===f){var D=new F(w.path);this.Se(o,D,new on(D,st.min()))}else Ue(1===f);else this.Me(o)!==f&&(this.xe(o),this.pe=this.pe.add(o))}},s.prototype.Oe=function(r){var o=this,f=new Map;this.Pe.forEach(function(D,T){var R=o.ke(T);if(R){if(D.te&&Zt(R.target)){var W=new F(R.target.path);null!==o.ye.get(W)||o.Le(T,W)||o.Se(T,W,new on(W,r))}D.fe&&(f.set(T,D.we()),D.me())}});var g=rn();this.Ve.forEach(function(D,T){var R=!0;T.xt(function(W){var ee=o.ke(W);return!ee||2===ee.et||(R=!1,!1)}),R&&(g=g.add(D))});var w=new Rs(r,f,this.pe,this.ye,g);return this.ye=ur(),this.Ve=kr(),this.pe=new Un(vt),w},s.prototype.ve=function(r,o){if(this.Fe(r)){var f=this.Le(r,o.key)?2:0;this.Ne(r).Te(o.key,f),this.ye=this.ye.ot(o.key,o),this.Ve=this.Ve.ot(o.key,this.Be(o.key).add(r))}},s.prototype.Se=function(r,o,f){if(this.Fe(r)){var g=this.Ne(r);this.Le(r,o)?g.Te(o,1):g.Ee(o),this.Ve=this.Ve.ot(o,this.Be(o).delete(r)),f&&(this.ye=this.ye.ot(o,f))}},s.prototype.removeTarget=function(r){this.Pe.delete(r)},s.prototype.Me=function(r){var o=this.Ne(r).we();return this.ge.qe(r).size+o.ee.size-o.se.size},s.prototype.Ie=function(r){this.Ne(r).Ie()},s.prototype.Ne=function(r){var o=this.Pe.get(r);return o||(o=new vi,this.Pe.set(r,o)),o},s.prototype.Be=function(r){var o=this.Ve.get(r);return o||(o=new Un(vt),this.Ve=this.Ve.ot(r,o)),o},s.prototype.Fe=function(r){var o=null!==this.ke(r);return o||se("WatchChangeAggregator","Detected inactive target",r),o},s.prototype.ke=function(r){var o=this.Pe.get(r);return o&&o._e?null:this.ge.Ue(r)},s.prototype.xe=function(r){var o=this;this.Pe.set(r,new vi),this.ge.qe(r).forEach(function(f){o.Se(r,f,null)})},s.prototype.Le=function(r,o){return this.ge.qe(r).has(o)},s}();function kr(){return new $t(F.i)}function Kr(){return new $t(F.i)}function wo(s){var r,o;return"server_timestamp"===(null===(o=((null===(r=null==s?void 0:s.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function Lr(s){var r=s.mapValue.fields.__previous_value__;return wo(r)?Lr(r):r}function cr(s){var r=Sr(s.mapValue.fields.__local_write_time__.timestampValue);return new On(r.seconds,r.nanos)}var ao=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pn(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?wo(s)?4:10:Re()}function ri(s,r){var g,o=Pn(s);if(o!==Pn(r))return!1;switch(o){case 0:return!0;case 1:return s.booleanValue===r.booleanValue;case 4:return cr(s).isEqual(cr(r));case 3:return function(f,g){if("string"==typeof f.timestampValue&&"string"==typeof g.timestampValue&&f.timestampValue.length===g.timestampValue.length)return f.timestampValue===g.timestampValue;var w=Sr(f.timestampValue),D=Sr(g.timestampValue);return w.seconds===D.seconds&&w.nanos===D.nanos}(s,r);case 5:return s.stringValue===r.stringValue;case 6:return g=r,mr(s.bytesValue).isEqual(mr(g.bytesValue));case 7:return s.referenceValue===r.referenceValue;case 8:return function(f,g){return Ht(f.geoPointValue.latitude)===Ht(g.geoPointValue.latitude)&&Ht(f.geoPointValue.longitude)===Ht(g.geoPointValue.longitude)}(s,r);case 2:return function(f,g){if("integerValue"in f&&"integerValue"in g)return Ht(f.integerValue)===Ht(g.integerValue);if("doubleValue"in f&&"doubleValue"in g){var w=Ht(f.doubleValue),D=Ht(g.doubleValue);return w===D?oe(w)===oe(D):isNaN(w)&&isNaN(D)}return!1}(s,r);case 9:return Wt(s.arrayValue.values||[],r.arrayValue.values||[],ri);case 10:return function(f,g){var w=f.mapValue.fields||{},D=g.mapValue.fields||{};if(Oe(w)!==Oe(D))return!1;for(var T in w)if(w.hasOwnProperty(T)&&(void 0===D[T]||!ri(w[T],D[T])))return!1;return!0}(s,r);default:return Re()}}function qn(s,r){return void 0!==(s.values||[]).find(function(o){return ri(o,r)})}function ut(s,r){var g,w,D,T,o=Pn(s),f=Pn(r);if(o!==f)return vt(o,f);switch(o){case 0:return 0;case 1:return vt(s.booleanValue,r.booleanValue);case 2:return w=r,(D=Ht((g=s).integerValue||g.doubleValue))<(T=Ht(w.integerValue||w.doubleValue))?-1:D>T?1:D===T?0:isNaN(D)?isNaN(T)?0:-1:1;case 3:return Jt(s.timestampValue,r.timestampValue);case 4:return Jt(cr(s),cr(r));case 5:return vt(s.stringValue,r.stringValue);case 6:return function(g,w){var D=mr(g),T=mr(w);return D.L(T)}(s.bytesValue,r.bytesValue);case 7:return function(g,w){for(var D=g.split("/"),T=w.split("/"),R=0;R<D.length&&R<T.length;R++){var W=vt(D[R],T[R]);if(0!==W)return W}return vt(D.length,T.length)}(s.referenceValue,r.referenceValue);case 8:return function(g,w){var D=vt(Ht(g.latitude),Ht(w.latitude));return 0!==D?D:vt(Ht(g.longitude),Ht(w.longitude))}(s.geoPointValue,r.geoPointValue);case 9:return function(g,w){for(var D=g.values||[],T=w.values||[],R=0;R<D.length&&R<T.length;++R){var W=ut(D[R],T[R]);if(W)return W}return vt(D.length,T.length)}(s.arrayValue,r.arrayValue);case 10:return function(g,w){var D=g.fields||{},T=Object.keys(D),R=w.fields||{},W=Object.keys(R);T.sort(),W.sort();for(var ee=0;ee<T.length&&ee<W.length;++ee){var fe=vt(T[ee],W[ee]);if(0!==fe)return fe;var ue=ut(D[T[ee]],R[W[ee]]);if(0!==ue)return ue}return vt(T.length,W.length)}(s.mapValue,r.mapValue);default:throw Re()}}function Jt(s,r){if("string"==typeof s&&"string"==typeof r&&s.length===r.length)return vt(s,r);var o=Sr(s),f=Sr(r),g=vt(o.seconds,f.seconds);return 0!==g?g:vt(o.nanos,f.nanos)}function hn(s){return Yn(s)}function Yn(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?"time("+(g=Sr(s.timestampValue)).seconds+","+g.nanos+")":"stringValue"in s?s.stringValue:"bytesValue"in s?mr(s.bytesValue).toBase64():"referenceValue"in s?F.C(s.referenceValue).toString():"geoPointValue"in s?"geo("+(r=s.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in s?function(f){for(var g="[",w=!0,D=0,T=f.values||[];D<T.length;D++)w?w=!1:g+=",",g+=Yn(T[D]);return g+"]"}(s.arrayValue):"mapValue"in s?function(f){for(var g="{",w=!0,D=0,T=Object.keys(f.fields||{}).sort();D<T.length;D++){var R=T[D];w?w=!1:g+=",",g+=R+":"+Yn(f.fields[R])}return g+"}"}(s.mapValue):Re();var g,r}function Sr(s){if(Ue(!!s),"string"==typeof s){var r=0,o=ao.exec(s);if(Ue(!!o),o[1]){var f=o[1];f=(f+"000000000").substr(0,9),r=Number(f)}var g=new Date(s);return{seconds:Math.floor(g.getTime()/1e3),nanos:r}}return{seconds:Ht(s.seconds),nanos:Ht(s.nanos)}}function Ht(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function mr(s){return"string"==typeof s?Bt.fromBase64String(s):Bt.fromUint8Array(s)}function kt(s,r){return{referenceValue:"projects/"+s.projectId+"/databases/"+s.database+"/documents/"+r.path.R()}}function Ti(s){return!!s&&"integerValue"in s}function vr(s){return!!s&&"arrayValue"in s}function At(s){return!!s&&"nullValue"in s}function uo(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Hi(s){return!!s&&"mapValue"in s}var ii={asc:"ASCENDING",desc:"DESCENDING"},Si={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yr=function(s,r){this.U=s,this.Qe=r};function bo(s){return{integerValue:""+s}}function _r(s,r){if(s.Qe){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oe(r)?"-0":r}}function tr(s,r){return pe(r)?bo(r):_r(s,r)}function Rt(s,r){return s.Qe?new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+r.nanoseconds).slice(-9)+"Z":{seconds:""+r.seconds,nanos:r.nanoseconds}}function oi(s,r){return s.Qe?r.toBase64():r.toUint8Array()}function bu(s,r){return Rt(s,r.Z())}function an(s){return Ue(!!s),st.J((o=Sr(s),new On(o.seconds,o.nanos)));var o}function Vr(s,r){return(o=s,new B(["projects",o.projectId,"databases",o.database])).child("documents").child(r).R();var o}function Go(s){var r=B.g(s);return Ue(Nn(r)),r}function Vt(s,r){return Vr(s.U,r.path)}function Rn(s,r){var o=Go(r);return Ue(o.get(1)===s.U.projectId),Ue(!o.get(3)&&!s.U.database||o.get(3)===s.U.database),new F(qo(o))}function yn(s,r){return Vr(s.U,r)}function si(s){var r=Go(s);return 4===r.length?B.P():qo(r)}function ai(s){return new B(["projects",s.U.projectId,"databases",s.U.database]).R()}function qo(s){return Ue(s.length>4&&"documents"===s.get(4)),s.u(5)}function Gi(s,r,o){return{name:Vt(s,r),fields:o.proto.mapValue.fields}}function bt(s,r){var o,g;if(r instanceof ct)o={update:Gi(s,r.key,r.value)};else if(r instanceof Cn)o={delete:Vt(s,r.key)};else if(r instanceof ot)o={update:Gi(s,r.key,r.data),updateMask:Kt(r.We)};else if(r instanceof fn)o={transform:{document:Vt(s,r.key),fieldTransforms:r.fieldTransforms.map(function(f){return function(g,w){var D=w.transform;if(D instanceof qi)return{fieldPath:w.field.R(),setToServerValue:"REQUEST_TIME"};if(D instanceof Co)return{fieldPath:w.field.R(),appendMissingElements:{values:D.elements}};if(D instanceof zo)return{fieldPath:w.field.R(),removeAllFromArray:{values:D.elements}};if(D instanceof vs)return{fieldPath:w.field.R(),increment:D.je};throw Re()}(0,f)})}};else{if(!(r instanceof Zn))return Re();o={verify:Vt(s,r.key)}}return r.Ge.Ke||(o.currentDocument=void 0!==(g=r.Ge).updateTime?{updateTime:bu(s,g.updateTime)}:void 0!==g.exists?{exists:g.exists}:Re()),o}function Tn(s,r){var ee,o=r.currentDocument?void 0!==(ee=r.currentDocument).updateTime?nr.updateTime(an(ee.updateTime)):void 0!==ee.exists?nr.exists(ee.exists):nr.ze():nr.ze();if(r.update){var f=Rn(s,r.update.name),g=new Sn({mapValue:{fields:r.update.fields}});if(r.updateMask){var w=function(ee){return new Fn((ee.fieldPaths||[]).map(function(ue){return A.S(ue)}))}(r.updateMask);return new ot(f,g,w,o)}return new ct(f,g,o)}if(r.delete){var D=Rn(s,r.delete);return new Cn(D,o)}if(r.transform){var T=Rn(s,r.transform.document),R=r.transform.fieldTransforms.map(function(ee){return function(fe,ue){var Ee=null;"setToServerValue"in ue?(Ue("REQUEST_TIME"===ue.setToServerValue),Ee=new qi):"appendMissingElements"in ue?Ee=new Co(ue.appendMissingElements.values||[]):"removeAllFromArray"in ue?Ee=new zo(ue.removeAllFromArray.values||[]):"increment"in ue?Ee=new vs(fe,ue.increment):Re();var yt=A.S(ue.fieldPath);return new co(yt,Ee)}(s,ee)});return Ue(!0===o.exists),new fn(T,R)}if(r.verify){var W=Rn(s,r.verify);return new Zn(W,o)}return Re()}function Eu(s,r){return{documents:[yn(s,r.path)]}}function Ba(s,r){var o={structuredQuery:{}},f=r.path;null!==r.collectionGroup?(o.parent=yn(s,f),o.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(o.parent=yn(s,f.h()),o.structuredQuery.from=[{collectionId:f._()}]);var g=function(T){if(0!==T.length){var R=T.map(function(W){return function(ee){if("=="===ee.op){if(uo(ee.value))return{unaryFilter:{field:yi(ee.field),op:"IS_NAN"}};if(At(ee.value))return{unaryFilter:{field:yi(ee.field),op:"IS_NULL"}}}else if("!="===ee.op){if(uo(ee.value))return{unaryFilter:{field:yi(ee.field),op:"IS_NOT_NAN"}};if(At(ee.value))return{unaryFilter:{field:yi(ee.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yi(ee.field),op:ps(ee.op),value:ee.value}}}(W)});return 1===R.length?R[0]:{compositeFilter:{op:"AND",filters:R}}}}(r.filters);g&&(o.structuredQuery.where=g);var w=function(T){if(0!==T.length)return T.map(function(R){return{field:yi((W=R).field),direction:$o(W.dir)};var W})}(r.orderBy);w&&(o.structuredQuery.orderBy=w);var R,D=(R=r.limit,s.Qe||ve(R)?R:{value:R});return null!==D&&(o.structuredQuery.limit=D),r.startAt&&(o.structuredQuery.startAt=Eo(r.startAt)),r.endAt&&(o.structuredQuery.endAt=Eo(r.endAt)),o}function Fs(s){var r=si(s.parent),o=s.structuredQuery,f=o.from?o.from.length:0,g=null;if(f>0){Ue(1===f);var w=o.from[0];w.allDescendants?g=w.collectionId:r=r.child(w.collectionId)}var D=[];o.where&&(D=ba(o.where));var T=[];o.orderBy&&(T=o.orderBy.map(function(fe){return new Zr(Do((ue=fe).field),function(Ee){switch(Ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ue.direction));var ue}));var fe,ue,R=null;o.limit&&(R=ve(ue="object"==typeof(fe=o.limit)?fe.value:fe)?null:ue);var W=null;o.startAt&&(W=Ea(o.startAt));var ee=null;return o.endAt&&(ee=Ea(o.endAt)),lr(xi(r,g,T,D,R,"F",W,ee))}function ba(s){return s?void 0!==s.unaryFilter?[gs(s)]:void 0!==s.fieldFilter?[ks(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(function(r){return ba(r)}).reduce(function(r,o){return r.concat(o)}):Re():[]}function Eo(s){return{before:s.before,values:s.position}}function Ea(s){return new Pi(s.values||[],!!s.before)}function $o(s){return ii[s]}function ps(s){return Si[s]}function yi(s){return{fieldPath:s.R()}}function Do(s){return A.S(s.fieldPath)}function ks(s){return nn.create(Do(s.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(s.fieldFilter.op),s.fieldFilter.value)}function gs(s){switch(s.unaryFilter.op){case"IS_NAN":var r=Do(s.unaryFilter.field);return nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":var o=Do(s.unaryFilter.field);return nn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var f=Do(s.unaryFilter.field);return nn.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var g=Do(s.unaryFilter.field);return nn.create(g,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}function Kt(s){var r=[];return s.fields.forEach(function(o){return r.push(o.R())}),{fieldPaths:r}}function Nn(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}var Mi=function(){this.He=void 0};function ms(s,r,o){return s instanceof qi?(w={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(f=o).seconds,nanos:f.nanoseconds}}}},(g=r)&&(w.fields.__previous_value__=g),{mapValue:w}):s instanceof Co?_i(s,r):s instanceof zo?Du(s,r):function(f,g){var w=ui(f,g),D=Yr(w)+Yr(f.je);return Ti(w)&&Ti(f.je)?bo(D):_r(f.serializer,D)}(s,r);var f,g,w}function Ys(s,r,o){return s instanceof Co?_i(s,r):s instanceof zo?Du(s,r):o}function ui(s,r){return s instanceof vs?Ti(o=r)||(f=o)&&"doubleValue"in f?r:{integerValue:0}:null;var f,o}var qi=function(s){function r(){return null!==s&&s.apply(this,arguments)||this}return d.__extends(r,s),r}(Mi),Co=function(s){function r(o){var f=this;return(f=s.call(this)||this).elements=o,f}return d.__extends(r,s),r}(Mi);function _i(s,r){for(var o=Dn(r),f=function(D){o.some(function(T){return ri(T,D)})||o.push(D)},g=0,w=s.elements;g<w.length;g++)f(w[g]);return{arrayValue:{values:o}}}var zo=function(s){function r(o){var f=this;return(f=s.call(this)||this).elements=o,f}return d.__extends(r,s),r}(Mi);function Du(s,r){for(var o=Dn(r),f=function(D){o=o.filter(function(T){return!ri(T,D)})},g=0,w=s.elements;g<w.length;g++)f(w[g]);return{arrayValue:{values:o}}}var vs=function(s){function r(o,f){var g=this;return(g=s.call(this)||this).serializer=o,g.je=f,g}return d.__extends(r,s),r}(Mi);function Yr(s){return Ht(s.integerValue||s.doubleValue)}function Dn(s){return vr(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}var Fn=function(){function s(r){this.fields=r,r.sort(A.i)}return s.prototype.Ye=function(r){for(var o=0,f=this.fields;o<f.length;o++)if(f[o].T(r))return!0;return!1},s.prototype.isEqual=function(r){return Wt(this.fields,r.fields,function(o,f){return o.isEqual(f)})},s}(),co=function(s,r){this.field=s,this.transform=r},Oi=function(s,r){this.version=s,this.transformResults=r},nr=function(){function s(r,o){this.updateTime=r,this.exists=o}return s.ze=function(){return new s},s.exists=function(r){return new s(void 0,r)},s.updateTime=function(r){return new s(r)},Object.defineProperty(s.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)},s}();function x(s,r){return void 0!==s.updateTime?r instanceof xt&&r.version.isEqual(s.updateTime):void 0===s.exists||s.exists===r instanceof xt}var z=function(){};function P(s,r,o){return s instanceof ct?new xt((f=s).key,o.version,f.value,{hasCommittedMutations:!0}):s instanceof ot?function(f,g,w){if(!x(f.Ge,g))return new lo(f.key,w.version);var D=vn(f,g);return new xt(f.key,w.version,D,{hasCommittedMutations:!0})}(s,r,o):s instanceof fn?function(f,g,w){if(Ue(null!=w.transformResults),!x(f.Ge,g))return new lo(f.key,w.version);var D=pt(0,g),T=function(ee,fe,ue){var Ee=[];Ue(ee.length===ue.length);for(var Fe=0;Fe<ue.length;Fe++){var qe=ee[Fe],yt=qe.transform,gt=null;fe instanceof xt&&(gt=fe.field(qe.field)),Ee.push(Ys(yt,gt,ue[Fe]))}return Ee}(f.fieldTransforms,g,w.transformResults),R=w.version,W=wr(f,D.data(),T);return new xt(f.key,R,W,{hasCommittedMutations:!0})}(s,r,o):function(f,g,w){return new on(f.key,w.version,{hasCommittedMutations:!0})}(s,0,o);var f}function Z(s,r,o,f){return s instanceof ct?function(g,w){if(!x(g.Ge,w))return w;var D=Qe(w);return new xt(g.key,D,g.value,{Je:!0})}(s,r):s instanceof ot?function(g,w){if(!x(g.Ge,w))return w;var D=Qe(w),T=vn(g,w);return new xt(g.key,D,T,{Je:!0})}(s,r):s instanceof fn?function(g,w,D,T){if(!x(g.Ge,w))return w;var R=pt(0,w),W=function(fe,ue,Ee,Fe){for(var qe=[],yt=0,gt=fe;yt<gt.length;yt++){var Nt=gt[yt],Yt=Nt.transform,gn=null;Ee instanceof xt&&(gn=Ee.field(Nt.field)),null===gn&&Fe instanceof xt&&(gn=Fe.field(Nt.field)),qe.push(ms(Yt,gn,ue))}return qe}(g.fieldTransforms,D,w,T),ee=wr(g,R.data(),W);return new xt(g.key,R.version,ee,{Je:!0})}(s,r,f,o):x((g=s).Ge,w=r)?new on(g.key,st.min()):w;var g,w}function he(s,r){return s instanceof fn?function(o,f){for(var g=null,w=0,D=o.fieldTransforms;w<D.length;w++){var T=D[w],R=f instanceof xt?f.field(T.field):void 0,W=ui(T.transform,R||null);null!=W&&(g=null==g?(new ci).set(T.field,W):g.set(T.field,W))}return g?g.Xe():null}(s,r):null}function Be(s,r){return s.type===r.type&&!!s.key.isEqual(r.key)&&!!s.Ge.isEqual(r.Ge)&&(0===s.type?s.value.isEqual(r.value):1===s.type?s.data.isEqual(r.data)&&s.We.isEqual(r.We):2!==s.type||Wt(s.fieldTransforms,s.fieldTransforms,function(o,f){return(g=o).field.isEqual((w=f).field)&&(T=w.transform,(D=g.transform)instanceof Co&&T instanceof Co||D instanceof zo&&T instanceof zo?Wt(D.elements,T.elements,ri):D instanceof vs&&T instanceof vs?ri(D.je,T.je):D instanceof qi&&T instanceof qi);var g,w,D,T}))}function Qe(s){return s instanceof xt?s.version:st.min()}var ct=function(s){function r(o,f,g){var w=this;return(w=s.call(this)||this).key=o,w.value=f,w.Ge=g,w.type=0,w}return d.__extends(r,s),r}(z),ot=function(s){function r(o,f,g,w){var D=this;return(D=s.call(this)||this).key=o,D.data=f,D.We=g,D.Ge=w,D.type=1,D}return d.__extends(r,s),r}(z);function vn(s,r){return o=s,f=r instanceof xt?r.data():Sn.empty(),g=new ci(f),o.We.fields.forEach(function(w){if(!w.m()){var D=o.data.field(w);null!==D?g.set(w,D):g.delete(w)}}),g.Xe();var o,f,g}var fn=function(s){function r(o,f){var g=this;return(g=s.call(this)||this).key=o,g.fieldTransforms=f,g.type=2,g.Ge=nr.exists(!0),g}return d.__extends(r,s),r}(z);function pt(s,r){return r}function wr(s,r,o){for(var f=new ci(r),g=0;g<s.fieldTransforms.length;g++)f.set(s.fieldTransforms[g].field,o[g]);return f.Xe()}var Cn=function(s){function r(o,f){var g=this;return(g=s.call(this)||this).key=o,g.Ge=f,g.type=3,g}return d.__extends(r,s),r}(z),Zn=function(s){function r(o,f){var g=this;return(g=s.call(this)||this).key=o,g.Ge=f,g.type=4,g}return d.__extends(r,s),r}(z),Sn=function(){function s(r){this.proto=r}return s.empty=function(){return new s({mapValue:{}})},s.prototype.field=function(r){if(r.m())return this.proto;for(var o=this.proto,f=0;f<r.length-1;++f)if(!o.mapValue.fields||!Hi(o=o.mapValue.fields[r.get(f)]))return null;return(o=(o.mapValue.fields||{})[r._()])||null},s.prototype.isEqual=function(r){return ri(this.proto,r.proto)},s}(),ci=function(){function s(r){void 0===r&&(r=Sn.empty()),this.Ze=r,this.tn=new Map}return s.prototype.set=function(r,o){return this.en(r,o),this},s.prototype.delete=function(r){return this.en(r,null),this},s.prototype.en=function(r,o){for(var f=this.tn,g=0;g<r.length-1;++g){var w=r.get(g),D=f.get(w);D instanceof Map?f=D:D&&10===Pn(D)?(D=new Map(Object.entries(D.mapValue.fields||{})),f.set(w,D),f=D):(f.set(w,D=new Map),f=D)}f.set(r._(),o)},s.prototype.Xe=function(){var r=this.nn(A.P(),this.tn);return null!=r?new Sn(r):this.Ze},s.prototype.nn=function(r,o){var f=this,g=!1,w=this.Ze.field(r),D=Hi(w)?Object.assign({},w.mapValue.fields):{};return o.forEach(function(T,R){if(T instanceof Map){var W=f.nn(r.child(R),T);null!=W&&(D[R]=W,g=!0)}else null!==T?(D[R]=T,g=!0):D.hasOwnProperty(R)&&(delete D[R],g=!0)}),g?{mapValue:{fields:D}}:null},s}();function dn(s){var r=[];return $e(s.fields||{},function(o,f){var g=new A([o]);if(Hi(f)){var w=dn(f.mapValue).fields;if(0===w.length)r.push(g);else for(var D=0,T=w;D<T.length;D++)r.push(g.child(T[D]))}else r.push(g)}),new Fn(r)}var jr=function(s,r){this.key=s,this.version=r},xt=function(s){function r(o,f,g,w){var D=this;return(D=s.call(this,o,f)||this).sn=g,D.Je=!!w.Je,D.hasCommittedMutations=!!w.hasCommittedMutations,D}return d.__extends(r,s),r.prototype.field=function(o){return this.sn.field(o)},r.prototype.data=function(){return this.sn},r.prototype.rn=function(){return this.sn.proto},r.prototype.isEqual=function(o){return o instanceof r&&this.key.isEqual(o.key)&&this.version.isEqual(o.version)&&this.Je===o.Je&&this.hasCommittedMutations===o.hasCommittedMutations&&this.sn.isEqual(o.sn)},r.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(r.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),r}(jr),on=function(s){function r(o,f,g){var w=this;return(w=s.call(this,o,f)||this).hasCommittedMutations=!(!g||!g.hasCommittedMutations),w}return d.__extends(r,s),r.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(r.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),r.prototype.isEqual=function(o){return o instanceof r&&o.hasCommittedMutations===this.hasCommittedMutations&&o.version.isEqual(this.version)&&o.key.isEqual(this.key)},r}(jr),lo=function(s){function r(){return null!==s&&s.apply(this,arguments)||this}return d.__extends(r,s),r.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(r.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),r.prototype.isEqual=function(o){return o instanceof r&&o.version.isEqual(this.version)&&o.key.isEqual(this.key)},r}(jr),Ni=function(s,r,o,f,g,w,D,T){void 0===r&&(r=null),void 0===o&&(o=[]),void 0===f&&(f=[]),void 0===g&&(g=null),void 0===w&&(w="F"),void 0===D&&(D=null),void 0===T&&(T=null),this.path=s,this.collectionGroup=r,this.on=o,this.filters=f,this.limit=g,this.an=w,this.startAt=D,this.endAt=T,this.cn=null,this.un=null};function xi(s,r,o,f,g,w,D,T){return new Ni(s,r,o,f,g,w,D,T)}function Wo(s){return new Ni(s)}function fo(s){return!ve(s.limit)&&"F"===s.an}function Mt(s){return!ve(s.limit)&&"L"===s.an}function Cu(s){return s.on.length>0?s.on[0].field:null}function $i(s){for(var r=0,o=s.filters;r<o.length;r++){var f=o[r];if(f.hn())return f.field}return null}function Ls(s){return null!==s.collectionGroup}function Ko(s){var r=ke(s);if(null===r.cn){r.cn=[];var o=$i(r),f=Cu(r);if(null!==o&&null===f)o.p()||r.cn.push(new Zr(o)),r.cn.push(new Zr(A.v(),"asc"));else{for(var g=!1,w=0,D=r.on;w<D.length;w++){var T=D[w];r.cn.push(T),T.field.p()&&(g=!0)}if(!g){var R=r.on.length>0?r.on[r.on.length-1].dir:"asc";r.cn.push(new Zr(A.v(),R))}}}return r.cn}function lr(s){var r=ke(s);if(!r.un)if("F"===r.an)r.un=Ce(r.path,r.collectionGroup,Ko(r),r.filters,r.limit,r.startAt,r.endAt);else{for(var o=[],f=0,g=Ko(r);f<g.length;f++){var w=g[f];o.push(new Zr(w.field,"desc"===w.dir?"asc":"desc"))}var T=r.endAt?new Pi(r.endAt.position,!r.endAt.before):null,R=r.startAt?new Pi(r.startAt.position,!r.startAt.before):null;r.un=Ce(r.path,r.collectionGroup,o,r.filters,r.limit,T,R)}return r.un}function Iu(s,r,o){return new Ni(s.path,s.collectionGroup,s.on.slice(),s.filters.slice(),r,o,s.startAt,s.endAt)}function Au(s,r){return new Ni(s.path,s.collectionGroup,s.on.slice(),s.filters.slice(),s.limit,s.an,r,s.endAt)}function Ze(s,r){return new Ni(s.path,s.collectionGroup,s.on.slice(),s.filters.slice(),s.limit,s.an,s.startAt,r)}function Ut(s,r){return dt(lr(s),lr(r))&&s.an===r.an}function Io(s){return lt(lr(s))+"|lt:"+s.an}function pn(s){return"Query(target="+(o=(r=lr(s)).path.R(),null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=", filters: ["+r.filters.map(function(f){return(g=f).field.R()+" "+g.op+" "+hn(g.value);var g}).join(", ")+"]"),ve(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=", orderBy: ["+r.orderBy.map(function(f){return(g=f).field.R()+" ("+g.dir+")";var g}).join(", ")+"]"),r.startAt&&(o+=", startAt: "+Br(r.startAt)),r.endAt&&(o+=", endAt: "+Br(r.endAt)),"Target("+o+"); limitType=")+s.an+")";var r,o}function wn(s,r){return g=(f=r).key.path,(null!==(o=s).collectionGroup?f.key.N(o.collectionGroup)&&o.path.T(g):F.F(o.path)?o.path.isEqual(g):o.path.I(g))&&function(o,f){for(var g=0,w=o.on;g<w.length;g++){var D=w[g];if(!D.field.p()&&null===f.field(D.field))return!1}return!0}(s,r)&&function(o,f){for(var g=0,w=o.filters;g<w.length;g++)if(!w[g].matches(f))return!1;return!0}(s,r)&&function(o,f){return!(o.startAt&&!Hr(o.startAt,Ko(o),f)||o.endAt&&Hr(o.endAt,Ko(o),f))}(s,r);var o,f,g}function Mr(s){return function(r,o){for(var f=!1,g=0,w=Ko(s);g<w.length;g++){var D=w[g],T=Da(D,r,o);if(0!==T)return T;f=f||D.field.p()}return 0}}var nn=function(s){function r(o,f,g){var w=this;return(w=s.call(this)||this).field=o,w.op=f,w.value=g,w}return d.__extends(r,s),r.create=function(o,f,g){if(o.p())return"in"===f||"not-in"===f?this.ln(o,f,g):new Zs(o,f,g);if(At(g)){if("=="!==f&&"!="!==f)throw new Q(V.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new r(o,f,g)}if(uo(g)){if("=="!==f&&"!="!==f)throw new Q(V.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new r(o,f,g)}return"array-contains"===f?new ys(o,g):"in"===f?new Vs(o,g):"not-in"===f?new Ur(o,g):"array-contains-any"===f?new Ao(o,g):new r(o,f,g)},r.ln=function(o,f,g){return"in"===f?new zi(o,g):new Js(o,g)},r.prototype.matches=function(o){var f=o.field(this.field);return"!="===this.op?null!==f&&this._n(ut(f,this.value)):null!==f&&Pn(this.value)===Pn(f)&&this._n(ut(f,this.value))},r.prototype._n=function(o){switch(this.op){case"<":return o<0;case"<=":return o<=0;case"==":return 0===o;case"!=":return 0!==o;case">":return o>0;case">=":return o>=0;default:return Re()}},r.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},r}(function(){}),Zs=function(s){function r(o,f,g){var w=this;return(w=s.call(this,o,f,g)||this).key=F.C(g.referenceValue),w}return d.__extends(r,s),r.prototype.matches=function(o){var f=F.i(o.key,this.key);return this._n(f)},r}(nn),zi=function(s){function r(o,f){var g=this;return(g=s.call(this,o,"in",f)||this).keys=Tu(0,f),g}return d.__extends(r,s),r.prototype.matches=function(o){return this.keys.some(function(f){return f.isEqual(o.key)})},r}(nn),Js=function(s){function r(o,f){var g=this;return(g=s.call(this,o,"not-in",f)||this).keys=Tu(0,f),g}return d.__extends(r,s),r.prototype.matches=function(o){return!this.keys.some(function(f){return f.isEqual(o.key)})},r}(nn);function Tu(s,r){var o;return((null===(o=r.arrayValue)||void 0===o?void 0:o.values)||[]).map(function(f){return F.C(f.referenceValue)})}var ys=function(s){function r(o,f){return s.call(this,o,"array-contains",f)||this}return d.__extends(r,s),r.prototype.matches=function(o){var f=o.field(this.field);return vr(f)&&qn(f.arrayValue,this.value)},r}(nn),Vs=function(s){function r(o,f){return s.call(this,o,"in",f)||this}return d.__extends(r,s),r.prototype.matches=function(o){var f=o.field(this.field);return null!==f&&qn(this.value.arrayValue,f)},r}(nn),Ur=function(s){function r(o,f){return s.call(this,o,"not-in",f)||this}return d.__extends(r,s),r.prototype.matches=function(o){if(qn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var f=o.field(this.field);return null!==f&&!qn(this.value.arrayValue,f)},r}(nn),Ao=function(s){function r(o,f){return s.call(this,o,"array-contains-any",f)||this}return d.__extends(r,s),r.prototype.matches=function(o){var f=this,g=o.field(this.field);return!(!vr(g)||!g.arrayValue.values)&&g.arrayValue.values.some(function(w){return qn(f.value.arrayValue,w)})},r}(nn),Pi=function(s,r){this.position=s,this.before=r};function Br(s){return(s.before?"b":"a")+":"+s.position.map(function(r){return hn(r)}).join(",")}function Hr(s,r,o){for(var f=0,g=0;g<s.position.length;g++){var w=r[g],D=s.position[g];if(f=w.field.p()?F.i(F.C(D.referenceValue),o.key):ut(D,o.field(w.field)),"desc"===w.dir&&(f*=-1),0!==f)break}return s.before?f<=0:f<0}function js(s,r){if(null===s)return null===r;if(null===r||s.before!==r.before||s.position.length!==r.position.length)return!1;for(var o=0;o<s.position.length;o++)if(!ri(s.position[o],r.position[o]))return!1;return!0}var Zr=function(s,r){void 0===r&&(r="asc"),this.field=s,this.dir=r};function Da(s,r,o){var g,D,T,R,f=s.field.p()?F.i(r.key,o.key):(D=o,T=r.field(g=s.field),R=D.field(g),null!==T&&null!==R?ut(T,R):Re());switch(s.dir){case"asc":return f;case"desc":return-1*f;default:return Re()}}function Wi(s,r){return s.dir===r.dir&&s.field.isEqual(r.field)}var br=function(){var s=this;this.promise=new Promise(function(r,o){s.resolve=r,s.reject=o})},wi=function(){function s(r,o,f,g,w){void 0===f&&(f=1e3),void 0===g&&(g=1.5),void 0===w&&(w=6e4),this.fn=r,this.dn=o,this.wn=f,this.mn=g,this.Tn=w,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return s.prototype.reset=function(){this.En=0},s.prototype.Rn=function(){this.En=this.Tn},s.prototype.gn=function(r){var o=this;this.cancel();var f=Math.floor(this.En+this.Pn()),g=Math.max(0,Date.now()-this.An),w=Math.max(0,f-g);w>0&&se("ExponentialBackoff","Backing off for "+w+" ms (base delay: "+this.En+" ms, delay with jitter: "+f+" ms, last attempt: "+g+" ms ago)"),this.In=this.fn.yn(this.dn,w,function(){return o.An=Date.now(),r()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},s.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},s.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},s.prototype.Pn=function(){return(Math.random()-.5)*this.En},s}(),nt=function(){function s(r){var o=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,r(function(f){o.Sn=!0,o.result=f,o.bn&&o.bn(f)},function(f){o.Sn=!0,o.error=f,o.vn&&o.vn(f)})}return s.prototype.catch=function(r){return this.next(void 0,r)},s.prototype.next=function(r,o){var f=this;return this.Dn&&Re(),this.Dn=!0,this.Sn?this.error?this.Cn(o,this.error):this.Nn(r,this.result):new s(function(g,w){f.bn=function(D){f.Nn(r,D).next(g,w)},f.vn=function(D){f.Cn(o,D).next(g,w)}})},s.prototype.Fn=function(){var r=this;return new Promise(function(o,f){r.next(o,f)})},s.prototype.xn=function(r){try{var o=r();return o instanceof s?o:s.resolve(o)}catch(f){return s.reject(f)}},s.prototype.Nn=function(r,o){return r?this.xn(function(){return r(o)}):s.resolve(o)},s.prototype.Cn=function(r,o){return r?this.xn(function(){return r(o)}):s.reject(o)},s.resolve=function(r){return new s(function(o,f){o(r)})},s.reject=function(r){return new s(function(o,f){f(r)})},s.$n=function(r){return new s(function(o,f){var g=0,w=0,D=!1;r.forEach(function(T){++g,T.next(function(){++w,D&&w===g&&o()},function(R){return f(R)})}),D=!0,w===g&&o()})},s.kn=function(r){for(var o=s.resolve(!1),f=function(D){o=o.next(function(T){return T?s.resolve(T):D()})},g=0,w=r;g<w.length;g++)f(w[g]);return o},s.forEach=function(r,o){var f=this,g=[];return r.forEach(function(w,D){g.push(o.call(f,w,D))}),this.$n(g)},s}(),To=function(){function s(r,o,f){this.name=r,this.version=o,this.Mn=f,12.2===s.On(ae.getUA())&&Le("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return s.delete=function(r){return se("SimpleDb","Removing database:",r),Yo(window.indexedDB.deleteDatabase(r)).Fn()},s.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(s.Bn())return!0;var r=ae.getUA(),o=s.On(r),f=0<o&&o<10,g=s.qn(r),w=0<g&&g<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||f||w)},s.Bn=function(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Un)},s.Qn=function(r,o){return r.store(o)},s.On=function(r){var o=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),f=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(f)},s.qn=function(r){var o=r.match(/Android ([\d.]+)/i),f=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(f)},s.prototype.Wn=function(r){return d.__awaiter(this,void 0,void 0,function(){var o,f=this;return d.__generator(this,function(g){switch(g.label){case 0:return this.db?[3,2]:(se("SimpleDb","Opening database:",this.name),o=this,[4,new Promise(function(w,D){var T=indexedDB.open(f.name,f.version);T.onsuccess=function(R){w(R.target.result)},T.onblocked=function(){D(new _s(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},T.onerror=function(R){var W=R.target.error;D("VersionError"===W.name?new Q(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new _s(r,W))},T.onupgradeneeded=function(R){se("SimpleDb",'Database "'+f.name+'" requires upgrade from version:',R.oldVersion),f.Mn.createOrUpgrade(R.target.result,T.transaction,R.oldVersion,f.version).next(function(){se("SimpleDb","Database upgrade to version "+f.version+" complete")})}})]);case 1:o.db=g.sent(),g.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(w){return f.jn(w)}),this.db)]}})})},s.prototype.Kn=function(r){this.jn=r,this.db&&(this.db.onversionchange=function(o){return r(o)})},s.prototype.runTransaction=function(r,o,f,g){return d.__awaiter(this,void 0,void 0,function(){var w,D,T,R,W;return d.__generator(this,function(ee){switch(ee.label){case 0:w="readonly"===o,D=0,T=function(){var fe,ue,Ee,Fe,qe;return d.__generator(this,function(yt){switch(yt.label){case 0:++D,yt.label=1;case 1:return yt.trys.push([1,4,,5]),[4,R.Wn(r)];case 2:return R.db=yt.sent(),fe=Su.open(R.db,r,w?"readonly":"readwrite",f),ue=g(fe).catch(function(gt){return fe.abort(gt),nt.reject(gt)}).Fn(),Ee={},ue.catch(function(){}),[4,fe.Gn];case 3:return[2,(Ee.value=(yt.sent(),ue),Ee)];case 4:return se("SimpleDb","Transaction failed with error:",(Fe=yt.sent()).message,"Retrying:",qe="FirebaseError"!==Fe.name&&D<3),R.close(),qe?[3,5]:[2,{value:Promise.reject(Fe)}];case 5:return[2]}})},R=this,ee.label=1;case 1:return[5,T()];case 2:if("object"==typeof(W=ee.sent()))return[2,W.value];ee.label=3;case 3:return[3,1];case 4:return[2]}})})},s.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},s}(),dc=function(){function s(r){this.zn=r,this.Hn=!1,this.Yn=null}return Object.defineProperty(s.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"cursor",{set:function(r){this.zn=r},enumerable:!1,configurable:!0}),s.prototype.done=function(){this.Hn=!0},s.prototype.Xn=function(r){this.Yn=r},s.prototype.delete=function(){return Yo(this.zn.delete())},s}(),_s=function(s){function r(o,f){var g=this;return(g=s.call(this,V.UNAVAILABLE,"IndexedDB transaction '"+o+"' failed: "+f)||this).name="IndexedDbTransactionError",g}return d.__extends(r,s),r}(Q);function Ri(s){return"IndexedDbTransactionError"===s.name}var Su=function(){function s(r,o){var f=this;this.action=r,this.transaction=o,this.aborted=!1,this.Zn=new br,this.transaction.oncomplete=function(){f.Zn.resolve()},this.transaction.onabort=function(){o.error?f.Zn.reject(new _s(r,o.error)):f.Zn.resolve()},this.transaction.onerror=function(g){var w=S(g.target.error);f.Zn.reject(new _s(r,w))}}return s.open=function(r,o,f,g){try{return new s(o,r.transaction(g,f))}catch(w){throw new _s(o,w)}},Object.defineProperty(s.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),s.prototype.abort=function(r){r&&this.Zn.reject(r),this.aborted||(se("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},s.prototype.store=function(r){var o=this.transaction.objectStore(r);return new pc(o)},s}(),pc=function(){function s(r){this.store=r}return s.prototype.put=function(r,o){var f;return void 0!==o?(se("SimpleDb","PUT",this.store.name,r,o),f=this.store.put(o,r)):(se("SimpleDb","PUT",this.store.name,"<auto-key>",r),f=this.store.put(r)),Yo(f)},s.prototype.add=function(r){return se("SimpleDb","ADD",this.store.name,r,r),Yo(this.store.add(r))},s.prototype.get=function(r){var o=this;return Yo(this.store.get(r)).next(function(f){return void 0===f&&(f=null),se("SimpleDb","GET",o.store.name,r,f),f})},s.prototype.delete=function(r){return se("SimpleDb","DELETE",this.store.name,r),Yo(this.store.delete(r))},s.prototype.count=function(){return se("SimpleDb","COUNT",this.store.name),Yo(this.store.count())},s.prototype.ts=function(r,o){var f=this.cursor(this.options(r,o)),g=[];return this.es(f,function(w,D){g.push(D)}).next(function(){return g})},s.prototype.ns=function(r,o){se("SimpleDb","DELETE ALL",this.store.name);var f=this.options(r,o);f.ss=!1;var g=this.cursor(f);return this.es(g,function(w,D,T){return T.delete()})},s.prototype.rs=function(r,o){var f;o?f=r:(f={},o=r);var g=this.cursor(f);return this.es(g,o)},s.prototype.os=function(r){var o=this.cursor({});return new nt(function(f,g){o.onerror=function(w){var D=S(w.target.error);g(D)},o.onsuccess=function(w){var D=w.target.result;D?r(D.primaryKey,D.value).next(function(T){T?D.continue():f()}):f()}})},s.prototype.es=function(r,o){var f=[];return new nt(function(g,w){r.onerror=function(D){w(D.target.error)},r.onsuccess=function(D){var T=D.target.result;if(T){var R=new dc(T),W=o(T.primaryKey,T.value,R);if(W instanceof nt){var ee=W.catch(function(fe){return R.done(),nt.reject(fe)});f.push(ee)}R.Sn?g():null===R.Jn?T.continue():T.continue(R.Jn)}else g()}}).next(function(){return nt.$n(f)})},s.prototype.options=function(r,o){var f=void 0;return void 0!==r&&("string"==typeof r?f=r:o=r),{index:f,range:o}},s.prototype.cursor=function(r){var o="next";if(r.reverse&&(o="prev"),r.index){var f=this.store.index(r.index);return r.ss?f.openKeyCursor(r.range,o):f.openCursor(r.range,o)}return this.store.openCursor(r.range,o)},s}();function Yo(s){return new nt(function(r,o){s.onsuccess=function(f){r(f.target.result)},s.onerror=function(f){var g=S(f.target.error);o(g)}})}var _=!1;function S(s){var r=To.On(ae.getUA());if(r>=12.2&&r<13){var o="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(o)>=0){var f=new Q("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+o+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return _||(_=!0,setTimeout(function(){throw f},0)),f}}return s}function L(){return"undefined"!=typeof window?window:null}function X(){return"undefined"!=typeof document?document:null}var le=function(){function s(r,o,f,g,w){this.cs=r,this.dn=o,this.us=f,this.op=g,this.hs=w,this.ls=new br,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(D){})}return s._s=function(r,o,f,g,w){var D=new s(r,o,Date.now()+f,g,w);return D.start(f),D},s.prototype.start=function(r){var o=this;this.fs=setTimeout(function(){return o.ds()},r)},s.prototype.pn=function(){return this.ds()},s.prototype.cancel=function(r){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new Q(V.CANCELLED,"Operation cancelled"+(r?": "+r:""))))},s.prototype.ds=function(){var r=this;this.cs.ws(function(){return null!==r.fs?(r.clearTimeout(),r.op().then(function(o){return r.ls.resolve(o)})):Promise.resolve()})},s.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},s}(),Te=function(){function s(){var r=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new wi(this,"async_queue_retry"),this.Vs=function(){var f=X();f&&se("AsyncQueue","Visibility state changed to  ",f.visibilityState),r.ys.Vn()};var o=X();o&&"function"==typeof o.addEventListener&&o.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(s.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),s.prototype.ws=function(r){this.enqueue(r)},s.prototype.bs=function(r){this.vs(),this.Ss(r)},s.prototype.Ds=function(){if(!this.Is){this.Is=!0;var r=X();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vs)}},s.prototype.enqueue=function(r){return this.vs(),this.Is?new Promise(function(o){}):this.Ss(r)},s.prototype.Cs=function(r){var o=this;this.ws(function(){return o.Es.push(r),o.Ns()})},s.prototype.Ns=function(){return d.__awaiter(this,void 0,void 0,function(){var r,o=this;return d.__generator(this,function(f){switch(f.label){case 0:if(0===this.Es.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return f.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!Ri(r=f.sent()))throw r;return se("AsyncQueue","Operation failed with retryable error: "+r),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return o.Ns()}),f.label=5;case 5:return[2]}})})},s.prototype.Ss=function(r){var o=this,f=this.Ts.then(function(){return o.gs=!0,r().catch(function(g){throw o.Rs=g,o.gs=!1,Le("INTERNAL UNHANDLED ERROR: ",(D=(w=g).message||"",w.stack&&(D=w.stack.includes(w.message)?w.stack:w.message+"\n"+w.stack),D)),g;var w,D}).then(function(g){return o.gs=!1,g})});return this.Ts=f,f},s.prototype.yn=function(r,o,f){var g=this;this.vs(),this.Ps.indexOf(r)>-1&&(o=0);var w=le._s(this,r,o,f,function(D){return g.Fs(D)});return this.As.push(w),w},s.prototype.vs=function(){this.Rs&&Re()},s.prototype.xs=function(){},s.prototype.$s=function(){return d.__awaiter(this,void 0,void 0,function(){var r;return d.__generator(this,function(o){switch(o.label){case 0:return[4,r=this.Ts];case 1:o.sent(),o.label=2;case 2:if(r!==this.Ts)return[3,0];o.label=3;case 3:return[2]}})})},s.prototype.ks=function(r){for(var o=0,f=this.As;o<f.length;o++)if(f[o].dn===r)return!0;return!1},s.prototype.Ms=function(r){var o=this;return this.$s().then(function(){o.As.sort(function(D,T){return D.us-T.us});for(var f=0,g=o.As;f<g.length;f++){var w=g[f];if(w.pn(),"all"!==r&&w.dn===r)break}return o.$s()})},s.prototype.Os=function(r){this.Ps.push(r)},s.prototype.Fs=function(r){var o=this.As.indexOf(r);this.As.splice(o,1)},s}();function Xe(s,r){if(Le("AsyncQueue",r+": "+s),Ri(s))return new Q(V.UNAVAILABLE,r+": "+s);throw s}var un=function(){this.Ls=void 0,this.listeners=[]},cn=function(){this.Bs=new jn(function(s){return Io(s)},Ut),this.onlineState="Unknown",this.qs=new Set};function Or(s,r){return d.__awaiter(this,void 0,void 0,function(){var o,f,g,w,D,T,R;return d.__generator(this,function(W){switch(W.label){case 0:if(o=ke(s),g=!1,(w=o.Bs.get(f=r.query))||(g=!0,w=new un),!g)return[3,4];W.label=1;case 1:return W.trys.push([1,3,,4]),D=w,[4,o.Us(f)];case 2:return D.Ls=W.sent(),[3,4];case 3:return T=W.sent(),R=Xe(T,"Initialization of query '"+pn(r.query)+"' failed"),[2,void r.onError(R)];case 4:return o.Bs.set(f,w),w.listeners.push(r),r.Qs(o.onlineState),w.Ls&&r.Ws(w.Ls)&&Jr(o),[2]}})})}function Gr(s,r){return d.__awaiter(this,void 0,void 0,function(){var o,f,g,w,D;return d.__generator(this,function(T){return o=ke(s),g=!1,(w=o.Bs.get(f=r.query))&&(D=w.listeners.indexOf(r))>=0&&(w.listeners.splice(D,1),g=0===w.listeners.length),g?[2,(o.Bs.delete(f),o.js(f))]:[2]})})}function Nr(s,r){for(var o=ke(s),f=!1,g=0,w=r;g<w.length;g++){var D=w[g],R=o.Bs.get(D.query);if(R){for(var W=0,ee=R.listeners;W<ee.length;W++)ee[W].Ws(D)&&(f=!0);R.Ls=D}}f&&Jr(o)}function Ha(s,r,o){var f=ke(s),g=f.Bs.get(r);if(g)for(var w=0,D=g.listeners;w<D.length;w++)D[w].onError(o);f.Bs.delete(r)}function Jr(s){s.qs.forEach(function(r){r.next()})}var xr=function(){function s(r,o,f){this.query=r,this.Ks=o,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=f||{}}return s.prototype.Ws=function(r){if(!this.options.includeMetadataChanges){for(var o=[],f=0,g=r.docChanges;f<g.length;f++){var w=g[f];3!==w.type&&o.push(w)}r=new Wr(r.query,r.docs,r.Qt,o,r.Wt,r.fromCache,r.jt,!0)}var D=!1;return this.Gs?this.Hs(r)&&(this.Ks.next(r),D=!0):this.Ys(r,this.onlineState)&&(this.Js(r),D=!0),this.zs=r,D},s.prototype.onError=function(r){this.Ks.error(r)},s.prototype.Qs=function(r){this.onlineState=r;var o=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,r)&&(this.Js(this.zs),o=!0),o},s.prototype.Ys=function(r,o){return!r.fromCache||!(this.options.Xs&&"Offline"!==o||r.docs.m()&&"Offline"!==o)},s.prototype.Hs=function(r){return r.docChanges.length>0||!!(r.jt||this.zs&&this.zs.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges},s.prototype.Js=function(r){r=Wr.Gt(r.query,r.docs,r.Wt,r.fromCache),this.Gs=!0,this.Ks.next(r)},s}(),$n=function(){function s(r){this.uid=r}return s.prototype.Zs=function(){return null!=this.uid},s.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},s.prototype.isEqual=function(r){return r.uid===this.uid},s}();$n.UNAUTHENTICATED=new $n(null),$n.ei=new $n("google-credentials-uid"),$n.ni=new $n("first-party-uid");var Qr=function(){function s(r,o){var f=this;this.previousValue=r,o&&(o.si=function(g){return f.ii(g)},this.ri=function(g){return o.oi(g)})}return s.prototype.ii=function(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue},s.prototype.next=function(){var r=++this.previousValue;return this.ri&&this.ri(r),r},s}();function ql(s,r){return"firestore_clients_"+s+"_"+r}function Ca(s,r,o){var f="firestore_mutations_"+s+"_"+o;return r.Zs()&&(f+="_"+r.uid),f}function Ki(s,r){return"firestore_targets_"+s+"_"+r}Qr.ai=-1;var ws=function(){function s(r,o,f,g){this.user=r,this.batchId=o,this.state=f,this.error=g}return s.ci=function(r,o,f){var g=JSON.parse(f),w="object"==typeof g&&-1!==["pending","acknowledged","rejected"].indexOf(g.state)&&(void 0===g.error||"object"==typeof g.error),D=void 0;return w&&g.error&&(w="string"==typeof g.error.message&&"string"==typeof g.error.code)&&(D=new Q(g.error.code,g.error.message)),w?new s(r,o,g.state,D):(Le("SharedClientState","Failed to parse mutation state for ID '"+o+"': "+f),null)},s.prototype.ui=function(){var r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)},s}(),Ia=function(){function s(r,o,f){this.targetId=r,this.state=o,this.error=f}return s.ci=function(r,o){var f=JSON.parse(o),g="object"==typeof f&&-1!==["not-current","current","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error),w=void 0;return g&&f.error&&(g="string"==typeof f.error.message&&"string"==typeof f.error.code)&&(w=new Q(f.error.code,f.error.message)),g?new s(r,f.state,w):(Le("SharedClientState","Failed to parse target state for ID '"+r+"': "+o),null)},s.prototype.ui=function(){var r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)},s}(),bs=function(){function s(r,o){this.clientId=r,this.activeTargetIds=o}return s.ci=function(r,o){for(var f=JSON.parse(o),g="object"==typeof f&&f.activeTargetIds instanceof Array,w=ni(),D=0;g&&D<f.activeTargetIds.length;++D)g=pe(f.activeTargetIds[D]),w=w.add(f.activeTargetIds[D]);return g?new s(r,w):(Le("SharedClientState","Failed to parse client data for instance '"+r+"': "+o),null)},s}(),Pr=function(){function s(r,o){this.clientId=r,this.onlineState=o}return s.ci=function(r){var o=JSON.parse(r);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new s(o.clientId,o.onlineState):(Le("SharedClientState","Failed to parse online state: "+r),null)},s}(),kn=function(){function s(){this.activeTargetIds=ni()}return s.prototype.hi=function(r){this.activeTargetIds=this.activeTargetIds.add(r)},s.prototype.li=function(r){this.activeTargetIds=this.activeTargetIds.delete(r)},s.prototype.ui=function(){var r={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(r)},s}(),Mu=function(){function s(r,o,f,g,w){this.window=r,this.fn=o,this.persistenceKey=f,this._i=g,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new $t(vt),this.Ei=!1,this.Ii=[];var D=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=w,this.Ai=ql(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new kn),this.gi=new RegExp("^firestore_clients_"+D+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+D+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+D+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}return s.Ln=function(r){return!(!r||!r.localStorage)},s.prototype.start=function(){return d.__awaiter(this,void 0,void 0,function(){var r,o,f,g,w,D,T,R,W,ee,ue=this;return d.__generator(this,function(Ee){switch(Ee.label){case 0:return[4,this.fi.pi()];case 1:for(r=Ee.sent(),o=0,f=r;o<f.length;o++)(g=f[o])!==this._i&&(w=this.getItem(ql(this.persistenceKey,g)))&&(D=bs.ci(g,w))&&(this.Ti=this.Ti.ot(D.clientId,D));for(this.bi(),(T=this.storage.getItem(this.Vi))&&(R=this.vi(T))&&this.Si(R),W=0,ee=this.Ii;W<ee.length;W++)this.mi(ee[W]);return this.Ii=[],this.window.addEventListener("unload",function(){return ue.Di()}),this.Ei=!0,[2]}})})},s.prototype.oi=function(r){this.setItem(this.Ri,JSON.stringify(r))},s.prototype.Ci=function(){return this.Ni(this.Ti)},s.prototype.Fi=function(r){var o=!1;return this.Ti.forEach(function(f,g){g.activeTargetIds.has(r)&&(o=!0)}),o},s.prototype.xi=function(r){this.$i(r,"pending")},s.prototype.ki=function(r,o,f){this.$i(r,o,f),this.Mi(r)},s.prototype.Oi=function(r){var o="not-current";if(this.Fi(r)){var f=this.storage.getItem(Ki(this.persistenceKey,r));if(f){var g=Ia.ci(r,f);g&&(o=g.state)}}return this.Li.hi(r),this.bi(),o},s.prototype.Bi=function(r){this.Li.li(r),this.bi()},s.prototype.qi=function(r){return this.Li.activeTargetIds.has(r)},s.prototype.Ui=function(r){this.removeItem(Ki(this.persistenceKey,r))},s.prototype.Qi=function(r,o,f){this.Wi(r,o,f)},s.prototype.ji=function(r,o,f){var g=this;o.forEach(function(w){g.Mi(w)}),this.currentUser=r,f.forEach(function(w){g.xi(w)})},s.prototype.Ki=function(r){this.Gi(r)},s.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},s.prototype.getItem=function(r){var o=this.storage.getItem(r);return se("SharedClientState","READ",r,o),o},s.prototype.setItem=function(r,o){se("SharedClientState","SET",r,o),this.storage.setItem(r,o)},s.prototype.removeItem=function(r){se("SharedClientState","REMOVE",r),this.storage.removeItem(r)},s.prototype.mi=function(r){var o=this,f=r;if(f.storageArea===this.storage){if(se("SharedClientState","EVENT",f.key,f.newValue),f.key===this.Ai)return void Le("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return d.__awaiter(o,void 0,void 0,function(){var g,w,D,T,R,W;return d.__generator(this,function(ee){if(this.Ei){if(null!==f.key)if(this.gi.test(f.key)){if(null==f.newValue)return g=this.zi(f.key),[2,this.Hi(g,null)];if(w=this.Yi(f.key,f.newValue))return[2,this.Hi(w.clientId,w)]}else if(this.Pi.test(f.key)){if(null!==f.newValue&&(D=this.Ji(f.key,f.newValue)))return[2,this.Xi(D)]}else if(this.yi.test(f.key)){if(null!==f.newValue&&(T=this.Zi(f.key,f.newValue)))return[2,this.tr(T)]}else if(f.key===this.Vi){if(null!==f.newValue&&(R=this.vi(f.newValue)))return[2,this.Si(R)]}else f.key===this.Ri&&(W=function(fe){var ue=Qr.ai;if(null!=fe)try{var Ee=JSON.parse(fe);Ue("number"==typeof Ee),ue=Ee}catch(Fe){Le("SharedClientState","Failed to read sequence number from WebStorage",Fe)}return ue}(f.newValue))!==Qr.ai&&this.si(W)}else this.Ii.push(f);return[2]})})})}},Object.defineProperty(s.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),s.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},s.prototype.$i=function(r,o,f){var g=new ws(this.currentUser,r,o,f),w=Ca(this.persistenceKey,this.currentUser,r);this.setItem(w,g.ui())},s.prototype.Mi=function(r){var o=Ca(this.persistenceKey,this.currentUser,r);this.removeItem(o)},s.prototype.Gi=function(r){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:r}))},s.prototype.Wi=function(r,o,f){var g=Ki(this.persistenceKey,r),w=new Ia(r,o,f);this.setItem(g,w.ui())},s.prototype.zi=function(r){var o=this.gi.exec(r);return o?o[1]:null},s.prototype.Yi=function(r,o){var f=this.zi(r);return bs.ci(f,o)},s.prototype.Ji=function(r,o){var f=this.Pi.exec(r),g=Number(f[1]);return ws.ci(new $n(void 0!==f[2]?f[2]:null),g,o)},s.prototype.Zi=function(r,o){var f=this.yi.exec(r),g=Number(f[1]);return Ia.ci(g,o)},s.prototype.vi=function(r){return Pr.ci(r)},s.prototype.Xi=function(r){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(o){return r.user.uid===this.currentUser.uid?[2,this.fi.er(r.batchId,r.state,r.error)]:(se("SharedClientState","Ignoring mutation for non-active user "+r.user.uid),[2])})})},s.prototype.tr=function(r){return this.fi.nr(r.targetId,r.state,r.error)},s.prototype.Hi=function(r,o){var f=this,g=o?this.Ti.ot(r,o):this.Ti.remove(r),w=this.Ni(this.Ti),D=this.Ni(g),T=[],R=[];return D.forEach(function(W){w.has(W)||T.push(W)}),w.forEach(function(W){D.has(W)||R.push(W)}),this.fi.sr(T,R).then(function(){f.Ti=g})},s.prototype.Si=function(r){this.Ti.get(r.clientId)&&this.di(r.onlineState)},s.prototype.Ni=function(r){var o=ni();return r.forEach(function(f,g){o=o.kt(g.activeTargetIds)}),o},s}(),Qs=function(){function s(){this.ir=new kn,this.rr={},this.di=null,this.si=null}return s.prototype.xi=function(r){},s.prototype.ki=function(r,o,f){},s.prototype.Oi=function(r){return this.ir.hi(r),this.rr[r]||"not-current"},s.prototype.Qi=function(r,o,f){this.rr[r]=o},s.prototype.Bi=function(r){this.ir.li(r)},s.prototype.qi=function(r){return this.ir.activeTargetIds.has(r)},s.prototype.Ui=function(r){delete this.rr[r]},s.prototype.Ci=function(){return this.ir.activeTargetIds},s.prototype.Fi=function(r){return this.ir.activeTargetIds.has(r)},s.prototype.start=function(){return this.ir=new kn,Promise.resolve()},s.prototype.ji=function(r,o,f){},s.prototype.Ki=function(r){},s.prototype.Di=function(){},s.prototype.oi=function(r){},s}(),gc=function(){function s(r,o,f,g){this.batchId=r,this.ar=o,this.baseMutations=f,this.mutations=g}return s.prototype.cr=function(r,o,f){for(var g=f.ur,w=0;w<this.mutations.length;w++){var D=this.mutations[w];D.key.isEqual(r)&&(o=P(D,o,g[w]))}return o},s.prototype.hr=function(r,o){for(var f=0,g=this.baseMutations;f<g.length;f++){var w=g[f];w.key.isEqual(r)&&(o=Z(w,o,o,this.ar))}for(var D=o,T=0,R=this.mutations;T<R.length;T++){var W=R[T];W.key.isEqual(r)&&(o=Z(W,o,D,this.ar))}return o},s.prototype.lr=function(r){var o=this,f=r;return this.mutations.forEach(function(g){var w=o.hr(g.key,r.get(g.key));w&&(f=f.ot(g.key,w))}),f},s.prototype.keys=function(){return this.mutations.reduce(function(r,o){return r.add(o.key)},rn())},s.prototype.isEqual=function(r){return this.batchId===r.batchId&&Wt(this.mutations,r.mutations,function(o,f){return Be(o,f)})&&Wt(this.baseMutations,r.baseMutations,function(o,f){return Be(o,f)})},s}(),Ga=function(){function s(r,o,f,g){this.batch=r,this._r=o,this.ur=f,this.dr=g}return s.from=function(r,o,f){Ue(r.mutations.length===f.length);for(var g=Bn,w=r.mutations,D=0;D<w.length;D++)g=g.ot(w[D].key,f[D].version);return new s(r,o,f,g)},s}(),qr=function(){function s(){this.wr=new jn(function(r){return r.toString()},function(r,o){return r.isEqual(o)}),this.mr=!1}return Object.defineProperty(s.prototype,"readTime",{get:function(){return this.Tr},set:function(r){this.Tr=r},enumerable:!1,configurable:!0}),s.prototype.Er=function(r,o){this.Ir(),this.readTime=o,this.wr.set(r.key,r)},s.prototype.Ar=function(r,o){this.Ir(),o&&(this.readTime=o),this.wr.set(r,null)},s.prototype.Rr=function(r,o){this.Ir();var f=this.wr.get(o);return void 0!==f?nt.resolve(f):this.gr(r,o)},s.prototype.getEntries=function(r,o){return this.Pr(r,o)},s.prototype.apply=function(r){return this.Ir(),this.mr=!0,this.yr(r)},s.prototype.Ir=function(){},s}(),Aa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ou=function(){function s(){this.Vr=[]}return s.prototype.pr=function(r){this.Vr.push(r)},s.prototype.br=function(){this.Vr.forEach(function(r){return r()})},s}(),So=function(){function s(r,o,f){this.vr=r,this.Sr=o,this.Dr=f}return s.prototype.Cr=function(r,o){var f=this;return this.Sr.Nr(r,o).next(function(g){return f.Fr(r,o,g)})},s.prototype.Fr=function(r,o,f){return this.vr.Rr(r,o).next(function(g){for(var w=0,D=f;w<D.length;w++)g=D[w].hr(o,g);return g})},s.prototype.$r=function(r,o,f){var g=gr();return o.forEach(function(w,D){for(var T=0,R=f;T<R.length;T++)D=R[T].hr(w,D);g=g.ot(w,D)}),g},s.prototype.kr=function(r,o){var f=this;return this.vr.getEntries(r,o).next(function(g){return f.Mr(r,g)})},s.prototype.Mr=function(r,o){var f=this;return this.Sr.Or(r,o).next(function(g){var w=f.$r(r,o,g),D=ur();return w.forEach(function(T,R){R||(R=new on(T,st.min())),D=D.ot(T,R)}),D})},s.prototype.Lr=function(r,o,f){return F.F((g=o).path)&&null===g.collectionGroup&&0===g.filters.length?this.Br(r,o.path):Ls(o)?this.qr(r,o,f):this.Ur(r,o,f);var g},s.prototype.Br=function(r,o){return this.Cr(r,new F(o)).next(function(f){var g=$r();return f instanceof xt&&(g=g.ot(f.key,f)),g})},s.prototype.qr=function(r,o,f){var g=this,w=o.collectionGroup,D=$r();return this.Dr.Qr(r,w).next(function(T){return nt.forEach(T,function(R){var ee,fe,W=(ee=o,fe=R.child(w),new Ni(fe,null,ee.on.slice(),ee.filters.slice(),ee.limit,ee.an,ee.startAt,ee.endAt));return g.Ur(r,W,f).next(function(ee){ee.forEach(function(fe,ue){D=D.ot(fe,ue)})})}).next(function(){return D})})},s.prototype.Ur=function(r,o,f){var g,w,D=this;return this.vr.Lr(r,o,f).next(function(T){return g=T,D.Sr.Wr(r,o)}).next(function(T){return D.jr(r,w=T,g).next(function(R){g=R;for(var W=0,ee=w;W<ee.length;W++)for(var fe=ee[W],ue=0,Ee=fe.mutations;ue<Ee.length;ue++){var Fe=Ee[ue],qe=Fe.key,yt=g.get(qe),gt=Z(Fe,yt,yt,fe.ar);g=gt instanceof xt?g.ot(qe,gt):g.remove(qe)}})}).next(function(){return g.forEach(function(T,R){wn(o,R)||(g=g.remove(T))}),g})},s.prototype.jr=function(r,o,f){for(var g=rn(),w=0,D=o;w<D.length;w++)for(var T=0,R=D[w].mutations;T<R.length;T++){var W=R[T];W instanceof ot&&null===f.get(W.key)&&(g=g.add(W.key))}var ee=f;return this.vr.getEntries(r,g).next(function(fe){return fe.forEach(function(ue,Ee){null!==Ee&&Ee instanceof xt&&(ee=ee.ot(ue,Ee))}),ee})},s}(),Es=function(){function s(r,o,f,g){this.targetId=r,this.fromCache=o,this.Kr=f,this.Gr=g}return s.zr=function(r,o){for(var f=rn(),g=rn(),w=0,D=o.docChanges;w<D.length;w++){var T=D[w];switch(T.type){case 0:f=f.add(T.doc.key);break;case 1:g=g.add(T.doc.key)}}return new s(r,o.fromCache,f,g)},s}();function Zc(s,r){var f=s[1],w=r[1],D=vt(s[0],r[0]);return 0===D?vt(f,w):D}var qa=function(){function s(r){this.Hr=r,this.buffer=new Un(Zc),this.Yr=0}return s.prototype.Jr=function(){return++this.Yr},s.prototype.Xr=function(r){var o=[r,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(o);else{var f=this.buffer.last();Zc(o,f)<0&&(this.buffer=this.buffer.delete(f).add(o))}},Object.defineProperty(s.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),s}(),Xs={Zr:!1,eo:0,no:0,so:0},zn=function(){function s(r,o,f){this.io=r,this.ro=o,this.oo=f}return s.ao=function(r){return new s(r,s.co,s.uo)},s}();zn.ho=-1,zn.lo=1048576,zn._o=41943040,zn.co=10,zn.uo=1e3,zn.fo=new zn(zn._o,zn.co,zn.uo),zn.do=new zn(zn.ho,0,0);var Nu=function(){function s(r,o){this.wo=r,this.cs=o,this.mo=!1,this.To=null}return s.prototype.start=function(r){this.wo.params.io!==zn.ho&&this.Eo(r)},s.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(s.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),s.prototype.Eo=function(r){var o=this,f=this.mo?3e5:6e4;se("LruGarbageCollector","Garbage collection scheduled in "+f+"ms"),this.To=this.cs.yn("lru_garbage_collection",f,function(){return d.__awaiter(o,void 0,void 0,function(){var g;return d.__generator(this,function(w){switch(w.label){case 0:this.To=null,this.mo=!0,w.label=1;case 1:return w.trys.push([1,3,,7]),[4,r.Io(this.wo)];case 2:return w.sent(),[3,7];case 3:return Ri(g=w.sent())?(se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",g),[3,6]):[3,4];case 4:return[4,li(g)];case 5:w.sent(),w.label=6;case 6:return[3,7];case 7:return[4,this.Eo(r)];case 8:return w.sent(),[2]}})})})},s}(),xu=function(){function s(r,o){this.Ao=r,this.params=o}return s.prototype.Ro=function(r,o){return this.Ao.Po(r).next(function(f){return Math.floor(o/100*f)})},s.prototype.yo=function(r,o){var f=this;if(0===o)return nt.resolve(Qr.ai);var g=new qa(o);return this.Ao.Ce(r,function(w){return g.Xr(w.sequenceNumber)}).next(function(){return f.Ao.Vo(r,function(w){return g.Xr(w)})}).next(function(){return g.maxValue})},s.prototype.po=function(r,o,f){return this.Ao.po(r,o,f)},s.prototype.bo=function(r,o){return this.Ao.bo(r,o)},s.prototype.vo=function(r,o){var f=this;return this.params.io===zn.ho?(se("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(Xs)):this.So(r).next(function(g){return g<f.params.io?(se("LruGarbageCollector","Garbage collection skipped; Cache size "+g+" is lower than threshold "+f.params.io),Xs):f.Do(r,o)})},s.prototype.So=function(r){return this.Ao.So(r)},s.prototype.Do=function(r,o){var f,g,w,D,T,R,W,ee=this,fe=Date.now();return this.Ro(r,this.params.ro).next(function(ue){return ue>ee.params.oo?(se("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+ee.params.oo+" from "+ue),g=ee.params.oo):g=ue,D=Date.now(),ee.yo(r,g)}).next(function(ue){return f=ue,T=Date.now(),ee.po(r,f,o)}).next(function(ue){return w=ue,R=Date.now(),ee.bo(r,f)}).next(function(ue){return W=Date.now(),De()<=Ae.LogLevel.DEBUG&&se("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(D-fe)+"ms\n\tDetermined least recently used "+g+" in "+(T-D)+"ms\n\tRemoved "+w+" targets in "+(R-T)+"ms\n\tRemoved "+ue+" documents in "+(W-R)+"ms\nTotal Duration: "+(W-fe)+"ms"),nt.resolve({Zr:!0,eo:g,no:w,so:ue})})},s}();function Yi(s){for(var r="",o=0;o<s.length;o++)r.length>0&&(r=Jc(r)),r=Pu(s.get(o),r);return Jc(r)}function Pu(s,r){for(var o=r,f=s.length,g=0;g<f;g++){var w=s.charAt(g);switch(w){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=w}}return o}function Jc(s){return s+"\x01\x01"}function Mo(s){var r=s.length;if(Ue(r>=2),2===r)return Ue("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),B.P();for(var o=r-2,f=[],g="",w=0;w<r;){var D=s.indexOf("\x01",w);switch((D<0||D>o)&&Re(),s.charAt(D+1)){case"\x01":var T=s.substring(w,D),R=void 0;0===g.length?R=T:(R=g+=T,g=""),f.push(R);break;case"\x10":g+=s.substring(w,D),g+="\0";break;case"\x11":g+=s.substring(w,D+1);break;default:Re()}w=D+2}return new B(f)}var $l=function(s){this.Co=s};function ea(s,r){if(r.document)return R=!!r.hasCommittedMutations,W=Rn(s.Co,(T=r.document).name),ee=an(T.updateTime),fe=new Sn({mapValue:{fields:T.fields}}),new xt(W,ee,fe,{hasCommittedMutations:!!R});var T,R,W,ee,fe;if(r.noDocument){var o=F.$(r.noDocument.path),f=Oo(r.noDocument.readTime);return new on(o,f,{hasCommittedMutations:!!r.hasCommittedMutations})}if(r.unknownDocument){var g=F.$(r.unknownDocument.path),w=Oo(r.unknownDocument.version);return new lo(g,w)}return Re()}function Ru(s,r,o){var ue,Ee,f=$a(o),g=r.key.path.h().A();if(r instanceof xt){var w={name:Vt(ue=s.Co,(Ee=r).key),fields:Ee.rn().mapValue.fields,updateTime:Rt(ue,Ee.version.Z())};return new Er(null,null,w,r.hasCommittedMutations,f,g)}if(r instanceof on){var T=r.key.path.A(),R=Rr(r.version),W=r.hasCommittedMutations;return new Er(null,new Fr(T,R),null,W,f,g)}if(r instanceof lo){var ee=r.key.path.A(),fe=Rr(r.version);return new Er(new Wl(ee,fe),null,null,!0,f,g)}return Re()}function $a(s){var r=s.Z();return[r.seconds,r.nanoseconds]}function _t(s){var r=new On(s[0],s[1]);return st.J(r)}function Rr(s){var r=s.Z();return new zl(r.seconds,r.nanoseconds)}function Oo(s){var r=new On(s.seconds,s.nanoseconds);return st.J(r)}function za(s,r){var o=(r.baseMutations||[]).map(function(w){return Tn(s.Co,w)}),f=r.mutations.map(function(w){return Tn(s.Co,w)}),g=On.fromMillis(r.localWriteTimeMs);return new gc(r.batchId,g,o,f)}function Wa(s){var r,o,f=Oo(s.readTime),g=void 0!==s.lastLimboFreeSnapshotVersion?Oo(s.lastLimboFreeSnapshotVersion):st.min();return void 0!==s.query.documents?(Ue(1===(o=s.query).documents.length),r=lr(Wo(si(o.documents[0])))):r=Fs(s.query),new sr(r,s.targetId,0,s.lastListenSequenceNumber,f,g,Bt.fromBase64String(s.resumeToken))}function Ta(s,r){var o,f=Rr(r.nt),g=Rr(r.lastLimboFreeSnapshotVersion);o=Zt(r.target)?Eu(s.Co,r.target):Ba(s.Co,r.target);var w=r.resumeToken.toBase64();return new Jo(r.targetId,lt(r.target),f,w,r.sequenceNumber,g,o)}var Qc=function(){function s(r,o,f,g){this.userId=r,this.serializer=o,this.Dr=f,this.No=g,this.Fo={}}return s.xo=function(r,o,f,g){return Ue(""!==r.uid),new s(r.Zs()?r.uid:"",o,f,g)},s.prototype.$o=function(r){var o=!0,f=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return No(r).rs({index:Xn.userMutationsIndex,range:f},function(g,w,D){o=!1,D.done()}).next(function(){return o})},s.prototype.ko=function(r,o,f,g){var w=this,D=Fi(r),T=No(r);return T.add({}).next(function(R){Ue("number"==typeof R);for(var W=new gc(R,o,f,g),ee=function(gt,Nt,Yt){var gn=Yt.baseMutations.map(function(Wn){return bt(gt.Co,Wn)}),Gn=Yt.mutations.map(function(Wn){return bt(gt.Co,Wn)});return new Xn(Nt,Yt.batchId,Yt.ar.toMillis(),gn,Gn)}(w.serializer,w.userId,W),fe=[],ue=new Un(function(gt,Nt){return vt(gt.R(),Nt.R())}),Ee=0,Fe=g;Ee<Fe.length;Ee++){var qe=Fe[Ee],yt=Li.key(w.userId,qe.key.path,R);ue=ue.add(qe.key.path.h()),fe.push(T.put(ee)),fe.push(D.put(yt,Li.PLACEHOLDER))}return ue.forEach(function(gt){fe.push(w.Dr.Mo(r,gt))}),r.pr(function(){w.Fo[R]=W.keys()}),nt.$n(fe).next(function(){return W})})},s.prototype.Oo=function(r,o){var f=this;return No(r).get(o).next(function(g){return g?(Ue(g.userId===f.userId),za(f.serializer,g)):null})},s.prototype.Lo=function(r,o){var f=this;return this.Fo[o]?nt.resolve(this.Fo[o]):this.Oo(r,o).next(function(g){if(g){var w=g.keys();return f.Fo[o]=w,w}return null})},s.prototype.Bo=function(r,o){var f=this,g=o+1,w=IDBKeyRange.lowerBound([this.userId,g]),D=null;return No(r).rs({index:Xn.userMutationsIndex,range:w},function(T,R,W){R.userId===f.userId&&(Ue(R.batchId>=g),D=za(f.serializer,R)),W.done()}).next(function(){return D})},s.prototype.qo=function(r){var o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),f=-1;return No(r).rs({index:Xn.userMutationsIndex,range:o,reverse:!0},function(g,w,D){f=w.batchId,D.done()}).next(function(){return f})},s.prototype.Uo=function(r){var o=this,f=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return No(r).ts(Xn.userMutationsIndex,f).next(function(g){return g.map(function(w){return za(o.serializer,w)})})},s.prototype.Nr=function(r,o){var f=this,g=Li.prefixForPath(this.userId,o.path),w=IDBKeyRange.lowerBound(g),D=[];return Fi(r).rs({range:w},function(T,R,W){var ee=T[0],ue=T[2],Ee=Mo(T[1]);if(ee===f.userId&&o.path.isEqual(Ee))return No(r).get(ue).next(function(Fe){if(!Fe)throw Re();Ue(Fe.userId===f.userId),D.push(za(f.serializer,Fe))});W.done()}).next(function(){return D})},s.prototype.Or=function(r,o){var f=this,g=new Un(vt),w=[];return o.forEach(function(D){var T=Li.prefixForPath(f.userId,D.path),R=IDBKeyRange.lowerBound(T),W=Fi(r).rs({range:R},function(ee,fe,ue){var Ee=ee[0],qe=ee[2],yt=Mo(ee[1]);Ee===f.userId&&D.path.isEqual(yt)?g=g.add(qe):ue.done()});w.push(W)}),nt.$n(w).next(function(){return f.Qo(r,g)})},s.prototype.Wr=function(r,o){var f=this,g=o.path,w=g.length+1,D=Li.prefixForPath(this.userId,g),T=IDBKeyRange.lowerBound(D),R=new Un(vt);return Fi(r).rs({range:T},function(W,ee,fe){var ue=W[0],Fe=W[2],qe=Mo(W[1]);ue===f.userId&&g.T(qe)?qe.length===w&&(R=R.add(Fe)):fe.done()}).next(function(){return f.Qo(r,R)})},s.prototype.Qo=function(r,o){var f=this,g=[],w=[];return o.forEach(function(D){w.push(No(r).get(D).next(function(T){if(null===T)throw Re();Ue(T.userId===f.userId),g.push(za(f.serializer,T))}))}),nt.$n(w).next(function(){return g})},s.prototype.Wo=function(r,o){var f=this;return Fu(r.jo,this.userId,o).next(function(g){return r.pr(function(){f.Ko(o.batchId)}),nt.forEach(g,function(w){return f.No.Go(r,w)})})},s.prototype.Ko=function(r){delete this.Fo[r]},s.prototype.zo=function(r){var o=this;return this.$o(r).next(function(f){if(!f)return nt.resolve();var g=IDBKeyRange.lowerBound(Li.prefixForUser(o.userId)),w=[];return Fi(r).rs({range:g},function(D,T,R){if(D[0]===o.userId){var W=Mo(D[1]);w.push(W)}else R.done()}).next(function(){Ue(0===w.length)})})},s.prototype.Ho=function(r,o){return Xc(r,this.userId,o)},s.prototype.Yo=function(r){var o=this;return el(r).get(this.userId).next(function(f){return f||new ho(o.userId,-1,"")})},s}();function Xc(s,r,o){var f=Li.prefixForPath(r,o.path),g=f[1],w=IDBKeyRange.lowerBound(f),D=!1;return Fi(s).rs({range:w,ss:!0},function(T,R,W){T[0]===r&&T[1]===g&&(D=!0),W.done()}).next(function(){return D})}function Fu(s,r,o){var f=s.store(Xn.store),g=s.store(Li.store),w=[],D=IDBKeyRange.only(o.batchId),T=0,R=f.rs({range:D},function(Fe,qe,yt){return T++,yt.delete()});w.push(R.next(function(){Ue(1===T)}));for(var W=[],ee=0,fe=o.mutations;ee<fe.length;ee++){var ue=fe[ee],Ee=Li.key(r,ue.key.path,o.batchId);w.push(g.delete(Ee)),W.push(ue.key)}return nt.$n(w).next(function(){return W})}function No(s){return Ei.Qn(s,Xn.store)}function Fi(s){return Ei.Qn(s,Li.store)}function el(s){return Ei.Qn(s,ho.store)}var ku=function(){function s(r,o){this.serializer=r,this.Dr=o}return s.prototype.Er=function(r,o,f){return Zo(r).put(Us(o),f)},s.prototype.Ar=function(r,o){var f=Zo(r),g=Us(o);return f.delete(g)},s.prototype.updateMetadata=function(r,o){var f=this;return this.getMetadata(r).next(function(g){return g.byteSize+=o,f.Jo(r,g)})},s.prototype.Rr=function(r,o){var f=this;return Zo(r).get(Us(o)).next(function(g){return f.Xo(g)})},s.prototype.Zo=function(r,o){var f=this;return Zo(r).get(Us(o)).next(function(g){var w=f.Xo(g);return w?{ta:w,size:Vu(g)}:null})},s.prototype.getEntries=function(r,o){var f=this,g=gr();return this.ea(r,o,function(w,D){var T=f.Xo(D);g=g.ot(w,T)}).next(function(){return g})},s.prototype.na=function(r,o){var f=this,g=gr(),w=new $t(F.i);return this.ea(r,o,function(D,T){var R=f.Xo(T);R?(g=g.ot(D,R),w=w.ot(D,Vu(T))):(g=g.ot(D,null),w=w.ot(D,0))}).next(function(){return{sa:g,ia:w}})},s.prototype.ea=function(r,o,f){if(o.m())return nt.resolve();var g=IDBKeyRange.bound(o.first().path.A(),o.last().path.A()),w=o._t(),D=w.It();return Zo(r).rs({range:g},function(T,R,W){for(var ee=F.$(T);D&&F.i(D,ee)<0;)f(D,null),D=w.It();D&&D.isEqual(ee)&&(f(D,R),D=w.At()?w.It():null),D?W.Xn(D.path.A()):W.done()}).next(function(){for(;D;)f(D,null),D=w.At()?w.It():null})},s.prototype.Lr=function(r,o,f){var g=this,w=$r(),D=o.path.length+1,T={};if(f.isEqual(st.min())){var R=o.path.A();T.range=IDBKeyRange.lowerBound(R)}else{var W=o.path.A(),ee=$a(f);T.range=IDBKeyRange.lowerBound([W,ee],!0),T.index=Er.collectionReadTimeIndex}return Zo(r).rs(T,function(fe,ue,Ee){if(fe.length===D){var Fe=ea(g.serializer,ue);o.path.T(Fe.key.path)?Fe instanceof xt&&wn(o,Fe)&&(w=w.ot(Fe.key,Fe)):Ee.done()}}).next(function(){return w})},s.prototype.ra=function(r){return new Lu(this,!!r&&r.oa)},s.prototype.aa=function(r){return this.getMetadata(r).next(function(o){return o.byteSize})},s.prototype.getMetadata=function(r){return ta(r).get(Ds.key).next(function(o){return Ue(!!o),o})},s.prototype.Jo=function(r,o){return ta(r).put(Ds.key,o)},s.prototype.Xo=function(r){if(r){var o=ea(this.serializer,r);return o instanceof on&&o.version.isEqual(st.min())?null:o}return null},s}(),Lu=function(s){function r(o,f){var g=this;return(g=s.call(this)||this).ca=o,g.oa=f,g.ua=new jn(function(w){return w.toString()},function(w,D){return w.isEqual(D)}),g}return d.__extends(r,s),r.prototype.yr=function(o){var f=this,g=[],w=0,D=new Un(function(T,R){return vt(T.R(),R.R())});return this.wr.forEach(function(T,R){var W=f.ua.get(T);if(R){var ee=Ru(f.ca.serializer,R,f.readTime);D=D.add(T.path.h());var fe=Vu(ee);w+=fe-W,g.push(f.ca.Er(o,T,ee))}else if(w-=W,f.oa){var ue=Ru(f.ca.serializer,new on(T,st.min()),f.readTime);g.push(f.ca.Er(o,T,ue))}else g.push(f.ca.Ar(o,T))}),D.forEach(function(T){g.push(f.ca.Dr.Mo(o,T))}),g.push(this.ca.updateMetadata(o,w)),nt.$n(g)},r.prototype.gr=function(o,f){var g=this;return this.ca.Zo(o,f).next(function(w){return null===w?(g.ua.set(f,0),null):(g.ua.set(f,w.size),w.ta)})},r.prototype.Pr=function(o,f){var g=this;return this.ca.na(o,f).next(function(w){var D=w.sa;return w.ia.forEach(function(T,R){g.ua.set(T,R)}),D})},r}(qr);function ta(s){return Ei.Qn(s,Ds.store)}function Zo(s){return Ei.Qn(s,Er.store)}function Us(s){return s.path.A()}function Vu(s){var r;if(s.document)r=s.document;else if(s.unknownDocument)r=s.unknownDocument;else{if(!s.noDocument)throw Re();r=s.noDocument}return JSON.stringify(r).length}var ju=function(){function s(){this.ha=new Sa}return s.prototype.Mo=function(r,o){return this.ha.add(o),nt.resolve()},s.prototype.Qr=function(r,o){return nt.resolve(this.ha.getEntries(o))},s}(),Sa=function(){function s(){this.index={}}return s.prototype.add=function(r){var o=r._(),f=r.h(),g=this.index[o]||new Un(B.i),w=!g.has(f);return this.index[o]=g.add(f),w},s.prototype.has=function(r){var o=r._(),f=r.h(),g=this.index[o];return g&&g.has(f)},s.prototype.getEntries=function(r){return(this.index[r]||new Un(B.i)).A()},s}(),Uu=function(){function s(r){this.serializer=r}return s.prototype.createOrUpgrade=function(r,o,f,g){var w=this;Ue(f<g&&f>=0&&g<=10);var R,D=new Su("createOrUpgrade",o);f<1&&g>=1&&(r.createObjectStore(ki.store),(R=r).createObjectStore(ho.store,{keyPath:ho.keyPath}),R.createObjectStore(Xn.store,{keyPath:Xn.keyPath,autoIncrement:!0}).createIndex(Xn.userMutationsIndex,Xn.userMutationsKeyPath,{unique:!0}),R.createObjectStore(Li.store),Ya(r),function(R){R.createObjectStore(Er.store)}(r));var T=nt.resolve();return f<3&&g>=3&&(0!==f&&(function(R){R.deleteObjectStore(bi.store),R.deleteObjectStore(Jo.store),R.deleteObjectStore(po.store)}(r),Ya(r)),T=T.next(function(){return function(R){var W=R.store(po.store),ee=new po(0,0,st.min().Z(),0);return W.put(po.key,ee)}(D)})),f<4&&g>=4&&(0!==f&&(T=T.next(function(){return function(R,W){return W.store(Xn.store).ts().next(function(ee){R.deleteObjectStore(Xn.store),R.createObjectStore(Xn.store,{keyPath:Xn.keyPath,autoIncrement:!0}).createIndex(Xn.userMutationsIndex,Xn.userMutationsKeyPath,{unique:!0});var fe=W.store(Xn.store),ue=ee.map(function(Ee){return fe.put(Ee)});return nt.$n(ue)})}(r,D)})),T=T.next(function(){!function(R){R.createObjectStore(na.store,{keyPath:na.keyPath})}(r)})),f<5&&g>=5&&(T=T.next(function(){return w.removeAcknowledgedMutations(D)})),f<6&&g>=6&&(T=T.next(function(){return function(R){R.createObjectStore(Ds.store)}(r),w.addDocumentGlobal(D)})),f<7&&g>=7&&(T=T.next(function(){return w.ensureSequenceNumbers(D)})),f<8&&g>=8&&(T=T.next(function(){return w.createCollectionParentIndex(r,D)})),f<9&&g>=9&&(T=T.next(function(){(function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")})(r),function(R){var W=R.objectStore(Er.store);W.createIndex(Er.readTimeIndex,Er.readTimeIndexPath,{unique:!1}),W.createIndex(Er.collectionReadTimeIndex,Er.collectionReadTimeIndexPath,{unique:!1})}(o)})),f<10&&g>=10&&(T=T.next(function(){return w.rewriteCanonicalIds(D)})),T},s.prototype.addDocumentGlobal=function(r){var o=0;return r.store(Er.store).rs(function(f,g){o+=Vu(g)}).next(function(){var f=new Ds(o);return r.store(Ds.store).put(Ds.key,f)})},s.prototype.removeAcknowledgedMutations=function(r){var o=this,f=r.store(ho.store),g=r.store(Xn.store);return f.ts().next(function(w){return nt.forEach(w,function(D){var T=IDBKeyRange.bound([D.userId,-1],[D.userId,D.lastAcknowledgedBatchId]);return g.ts(Xn.userMutationsIndex,T).next(function(R){return nt.forEach(R,function(W){Ue(W.userId===D.userId);var ee=za(o.serializer,W);return Fu(r,D.userId,ee).next(function(){})})})})})},s.prototype.ensureSequenceNumbers=function(r){var o=r.store(bi.store),f=r.store(Er.store);return r.store(po.store).get(po.key).next(function(g){var w=[];return f.rs(function(D,T){var R=new B(D),W=[0,Yi(R)];w.push(o.get(W).next(function(ee){return ee?nt.resolve():o.put(new bi(0,Yi(R),g.highestListenSequenceNumber))}))}).next(function(){return nt.$n(w)})})},s.prototype.createCollectionParentIndex=function(r,o){r.createObjectStore(Ka.store,{keyPath:Ka.keyPath});var f=o.store(Ka.store),g=new Sa,w=function(D){if(g.add(D)){var T=D._(),R=D.h();return f.put({collectionId:T,parent:Yi(R)})}};return o.store(Er.store).rs({ss:!0},function(D,T){var R=new B(D);return w(R.h())}).next(function(){return o.store(Li.store).rs({ss:!0},function(D,T){var W=Mo(D[1]);return w(W.h())})})},s.prototype.rewriteCanonicalIds=function(r){var o=this,f=r.store(Jo.store);return f.rs(function(g,w){var D=Wa(w),T=Ta(o.serializer,D);return f.put(T)})},s}(),zl=function(s,r){this.seconds=s,this.nanoseconds=r},ki=function(s,r,o){this.ownerId=s,this.allowTabSynchronization=r,this.leaseTimestampMs=o};ki.store="owner",ki.key="owner";var ho=function(s,r,o){this.userId=s,this.lastAcknowledgedBatchId=r,this.lastStreamToken=o};ho.store="mutationQueues",ho.keyPath="userId";var Xn=function(s,r,o,f,g){this.userId=s,this.batchId=r,this.localWriteTimeMs=o,this.baseMutations=f,this.mutations=g};Xn.store="mutations",Xn.keyPath="batchId",Xn.userMutationsIndex="userMutationsIndex",Xn.userMutationsKeyPath=["userId","batchId"];var Li=function(){function s(){}return s.prefixForUser=function(r){return[r]},s.prefixForPath=function(r,o){return[r,Yi(o)]},s.key=function(r,o,f){return[r,Yi(o),f]},s}();Li.store="documentMutations",Li.PLACEHOLDER=new Li;var Fr=function(s,r){this.path=s,this.readTime=r},Wl=function(s,r){this.path=s,this.version=r},Er=function(s,r,o,f,g,w){this.unknownDocument=s,this.noDocument=r,this.document=o,this.hasCommittedMutations=f,this.readTime=g,this.parentPath=w};Er.store="remoteDocuments",Er.readTimeIndex="readTimeIndex",Er.readTimeIndexPath="readTime",Er.collectionReadTimeIndex="collectionReadTimeIndex",Er.collectionReadTimeIndexPath=["parentPath","readTime"];var Ds=function(s){this.byteSize=s};Ds.store="remoteDocumentGlobal",Ds.key="remoteDocumentGlobalKey";var Jo=function(s,r,o,f,g,w,D){this.targetId=s,this.canonicalId=r,this.readTime=o,this.resumeToken=f,this.lastListenSequenceNumber=g,this.lastLimboFreeSnapshotVersion=w,this.query=D};Jo.store="targets",Jo.keyPath="targetId",Jo.queryTargetsIndexName="queryTargetsIndex",Jo.queryTargetsKeyPath=["canonicalId","targetId"];var bi=function(s,r,o){this.targetId=s,this.path=r,this.sequenceNumber=o};bi.store="targetDocuments",bi.keyPath=["targetId","path"],bi.documentTargetsIndex="documentTargetsIndex",bi.documentTargetsKeyPath=["path","targetId"];var po=function(s,r,o,f){this.highestTargetId=s,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=o,this.targetCount=f};po.key="targetGlobalKey",po.store="targetGlobal";var Ka=function(s,r){this.collectionId=s,this.parent=r};function Ya(s){s.createObjectStore(bi.store,{keyPath:bi.keyPath}).createIndex(bi.documentTargetsIndex,bi.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(Jo.store,{keyPath:Jo.keyPath}).createIndex(Jo.queryTargetsIndexName,Jo.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(po.store)}Ka.store="collectionParents",Ka.keyPath=["collectionId","parent"];var na=function(s,r,o,f){this.clientId=s,this.updateTimeMs=r,this.networkEnabled=o,this.inForeground=f};na.store="clientMetadata",na.keyPath="clientId";var Dr=d.__spreadArrays(d.__spreadArrays(d.__spreadArrays([ho.store,Xn.store,Li.store,Er.store,Jo.store,ki.store,po.store,bi.store],[na.store]),[Ds.store]),[Ka.store]),tl=function(){function s(){this.la=new Sa}return s.prototype.Mo=function(r,o){var f=this;if(!this.la.has(o)){var g=o._(),w=o.h();r.pr(function(){f.la.add(o)});var D={collectionId:g,parent:Yi(w)};return Za(r).put(D)}return nt.resolve()},s.prototype.Qr=function(r,o){var f=[],g=IDBKeyRange.bound([o,""],[_n(o),""],!1,!0);return Za(r).ts(g).next(function(w){for(var D=0,T=w;D<T.length;D++){var R=T[D];if(R.collectionId!==o)break;f.push(Mo(R.parent))}return f})},s}();function Za(s){return Ei.Qn(s,Ka.store)}var Bu=function(){function s(r){this._a=r}return s.prototype.next=function(){return this._a+=2,this._a},s.fa=function(){return new s(0)},s.da=function(){return new s(-1)},s}(),Of=function(){function s(r,o){this.No=r,this.serializer=o}return s.prototype.wa=function(r){var o=this;return this.ma(r).next(function(f){var g=new Bu(f.highestTargetId);return f.highestTargetId=g.next(),o.Ta(r,f).next(function(){return f.highestTargetId})})},s.prototype.Ea=function(r){return this.ma(r).next(function(o){return st.J(new On(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds))})},s.prototype.Ia=function(r){return this.ma(r).next(function(o){return o.highestListenSequenceNumber})},s.prototype.Aa=function(r,o,f){var g=this;return this.ma(r).next(function(w){return w.highestListenSequenceNumber=o,f&&(w.lastRemoteSnapshotVersion=f.Z()),o>w.highestListenSequenceNumber&&(w.highestListenSequenceNumber=o),g.Ta(r,w)})},s.prototype.Ra=function(r,o){var f=this;return this.ga(r,o).next(function(){return f.ma(r).next(function(g){return g.targetCount+=1,f.Pa(o,g),f.Ta(r,g)})})},s.prototype.ya=function(r,o){return this.ga(r,o)},s.prototype.Va=function(r,o){var f=this;return this.pa(r,o.targetId).next(function(){return Xr(r).delete(o.targetId)}).next(function(){return f.ma(r)}).next(function(g){return Ue(g.targetCount>0),g.targetCount-=1,f.Ta(r,g)})},s.prototype.po=function(r,o,f){var g=this,w=0,D=[];return Xr(r).rs(function(T,R){var W=Wa(R);W.sequenceNumber<=o&&null===f.get(W.targetId)&&(w++,D.push(g.Va(r,W)))}).next(function(){return nt.$n(D)}).next(function(){return w})},s.prototype.Ce=function(r,o){return Xr(r).rs(function(f,g){var w=Wa(g);o(w)})},s.prototype.ma=function(r){return Qo(r).get(po.key).next(function(o){return Ue(null!==o),o})},s.prototype.Ta=function(r,o){return Qo(r).put(po.key,o)},s.prototype.ga=function(r,o){return Xr(r).put(Ta(this.serializer,o))},s.prototype.Pa=function(r,o){var f=!1;return r.targetId>o.highestTargetId&&(o.highestTargetId=r.targetId,f=!0),r.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=r.sequenceNumber,f=!0),f},s.prototype.ba=function(r){return this.ma(r).next(function(o){return o.targetCount})},s.prototype.va=function(r,o){var f=lt(o),g=IDBKeyRange.bound([f,Number.NEGATIVE_INFINITY],[f,Number.POSITIVE_INFINITY]),w=null;return Xr(r).rs({range:g,index:Jo.queryTargetsIndexName},function(D,T,R){var W=Wa(T);dt(o,W.target)&&(w=W,R.done())}).next(function(){return w})},s.prototype.Sa=function(r,o,f){var g=this,w=[],D=Bs(r);return o.forEach(function(T){var R=Yi(T.path);w.push(D.put(new bi(f,R))),w.push(g.No.Da(r,f,T))}),nt.$n(w)},s.prototype.Ca=function(r,o,f){var g=this,w=Bs(r);return nt.forEach(o,function(D){var T=Yi(D.path);return nt.$n([w.delete([f,T]),g.No.Na(r,f,D)])})},s.prototype.pa=function(r,o){var f=Bs(r),g=IDBKeyRange.bound([o],[o+1],!1,!0);return f.delete(g)},s.prototype.Fa=function(r,o){var f=IDBKeyRange.bound([o],[o+1],!1,!0),g=Bs(r),w=rn();return g.rs({range:f,ss:!0},function(D,T,R){var W=Mo(D[1]),ee=new F(W);w=w.add(ee)}).next(function(){return w})},s.prototype.Ho=function(r,o){var f=Yi(o.path),g=IDBKeyRange.bound([f],[_n(f)],!1,!0),w=0;return Bs(r).rs({index:bi.documentTargetsIndex,ss:!0,range:g},function(D,T,R){0!==D[0]&&(w++,R.done())}).next(function(){return w>0})},s.prototype.Ue=function(r,o){return Xr(r).get(o).next(function(f){return f?Wa(f):null})},s}();function Xr(s){return Ei.Qn(s,Jo.store)}function Qo(s){return Ei.Qn(s,po.store)}function Bs(s){return Ei.Qn(s,bi.store)}var Ja="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Hs=function(s){function r(o,f){var g=this;return(g=s.call(this)||this).jo=o,g.xa=f,g}return d.__extends(r,s),r}(Ou),Ei=function(){function s(r,o,f,g,w,D,T,R,W,ee){if(this.allowTabSynchronization=r,this.persistenceKey=o,this.clientId=f,this.fn=w,this.window=D,this.document=T,this.$a=W,this.ka=ee,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(fe){return Promise.resolve()},!s.Ln())throw new Q(V.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new Kh(this,g),this.Wa=o+"main",this.serializer=new $l(R),this.ja=new To(this.Wa,10,new Uu(this.serializer)),this.Ka=new Of(this.No,this.serializer),this.Dr=new tl,this.vr=new ku(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===ee&&Le("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return s.Qn=function(r,o){if(r instanceof Hs)return To.Qn(r.jo,o);throw Re()},s.prototype.start=function(){var r=this;return this.za().then(function(){if(!r.isPrimary&&!r.allowTabSynchronization)throw new Q(V.FAILED_PRECONDITION,Ja);return r.Ha(),r.Ya(),r.Ja(),r.runTransaction("getHighestListenSequenceNumber","readonly",function(o){return r.Ka.Ia(o)})}).then(function(o){r.Ma=new Qr(o,r.$a)}).then(function(){r.Oa=!0}).catch(function(o){return r.ja&&r.ja.close(),Promise.reject(o)})},s.prototype.Xa=function(r){var o=this;return this.Qa=function(f){return d.__awaiter(o,void 0,void 0,function(){return d.__generator(this,function(g){return this.Ei?[2,r(f)]:[2]})})},r(this.isPrimary)},s.prototype.Za=function(r){var o=this;this.ja.Kn(function(f){return d.__awaiter(o,void 0,void 0,function(){return d.__generator(this,function(g){switch(g.label){case 0:return null===f.newVersion?[4,r()]:[3,2];case 1:g.sent(),g.label=2;case 2:return[2]}})})})},s.prototype.tc=function(r){var o=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.fn.ws(function(){return d.__awaiter(o,void 0,void 0,function(){return d.__generator(this,function(f){switch(f.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:f.sent(),f.label=2;case 2:return[2]}})})}))},s.prototype.za=function(){var r=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(o){return Ma(o).put(new na(r.clientId,Date.now(),r.networkEnabled,r.inForeground)).next(function(){if(r.isPrimary)return r.ec(o).next(function(f){f||(r.isPrimary=!1,r.fn.Cs(function(){return r.Qa(!1)}))})}).next(function(){return r.nc(o)}).next(function(f){return r.isPrimary&&!f?r.sc(o).next(function(){return!1}):!!f&&r.ic(o).next(function(){return!0})})}).catch(function(o){if(Ri(o))return se("IndexedDbPersistence","Failed to extend owner lease: ",o),r.isPrimary;if(!r.allowTabSynchronization)throw o;return se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",o),!1}).then(function(o){r.isPrimary!==o&&r.fn.Cs(function(){return r.Qa(o)}),r.isPrimary=o})},s.prototype.ec=function(r){var o=this;return mc(r).get(ki.key).next(function(f){return nt.resolve(o.rc(f))})},s.prototype.oc=function(r){return Ma(r).delete(this.clientId)},s.prototype.ac=function(){return d.__awaiter(this,void 0,void 0,function(){var r,o,f,w=this;return d.__generator(this,function(D){switch(D.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(T){var R=s.Qn(T,na.store);return R.ts().next(function(W){var ee=w.uc(W,18e5),fe=W.filter(function(ue){return-1===ee.indexOf(ue)});return nt.forEach(fe,function(ue){return R.delete(ue.clientId)}).next(function(){return fe})})}).catch(function(){return[]})]);case 1:if(r=D.sent(),this.Ga)for(o=0,f=r;o<f.length;o++)this.Ga.removeItem(this.hc(f[o].clientId));D.label=2;case 2:return[2]}})})},s.prototype.Ja=function(){var r=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return r.za().then(function(){return r.ac()}).then(function(){return r.Ja()})})},s.prototype.rc=function(r){return!!r&&r.ownerId===this.clientId},s.prototype.nc=function(r){var o=this;return this.ka?nt.resolve(!0):mc(r).get(ki.key).next(function(f){if(null!==f&&o.cc(f.leaseTimestampMs,5e3)&&!o.lc(f.ownerId)){if(o.rc(f)&&o.networkEnabled)return!0;if(!o.rc(f)){if(!f.allowTabSynchronization)throw new Q(V.FAILED_PRECONDITION,Ja);return!1}}return!(!o.networkEnabled||!o.inForeground)||Ma(r).ts().next(function(g){return void 0===o.uc(g,5e3).find(function(w){return!(o.clientId===w.clientId||!(!o.networkEnabled&&w.networkEnabled||!o.inForeground&&w.inForeground&&o.networkEnabled===w.networkEnabled))})})}).next(function(f){return o.isPrimary!==f&&se("IndexedDbPersistence","Client "+(f?"is":"is not")+" eligible for a primary lease."),f})},s.prototype.Di=function(){return d.__awaiter(this,void 0,void 0,function(){var r=this;return d.__generator(this,function(o){switch(o.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[ki.store,na.store],function(f){var g=new Hs(f,Qr.ai);return r.sc(g).next(function(){return r.oc(g)})})];case 1:return o.sent(),this.ja.close(),this.wc(),[2]}})})},s.prototype.uc=function(r,o){var f=this;return r.filter(function(g){return f.cc(g.updateTimeMs,o)&&!f.lc(g.clientId)})},s.prototype.pi=function(){var r=this;return this.runTransaction("getActiveClients","readonly",function(o){return Ma(o).ts().next(function(f){return r.uc(f,18e5).map(function(g){return g.clientId})})})},Object.defineProperty(s.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),s.prototype.mc=function(r){return Qc.xo(r,this.serializer,this.Dr,this.No)},s.prototype.Tc=function(){return this.Ka},s.prototype.Ec=function(){return this.vr},s.prototype.Ic=function(){return this.Dr},s.prototype.runTransaction=function(r,o,f){var w,g=this;return se("IndexedDbPersistence","Starting transaction:",r),this.ja.runTransaction(r,"readonly"===o?"readonly":"readwrite",Dr,function(T){return w=new Hs(T,g.Ma?g.Ma.next():Qr.ai),"readwrite-primary"===o?g.ec(w).next(function(R){return!!R||g.nc(w)}).next(function(R){if(!R)throw Le("Failed to obtain primary lease for action '"+r+"'."),g.isPrimary=!1,g.fn.Cs(function(){return g.Qa(!1)}),new Q(V.FAILED_PRECONDITION,Aa);return f(w)}).next(function(R){return g.ic(w).next(function(){return R})}):g.Ac(w).next(function(){return f(w)})}).then(function(T){return w.br(),T})},s.prototype.Ac=function(r){var o=this;return mc(r).get(ki.key).next(function(f){if(null!==f&&o.cc(f.leaseTimestampMs,5e3)&&!o.lc(f.ownerId)&&!o.rc(f)&&!(o.ka||o.allowTabSynchronization&&f.allowTabSynchronization))throw new Q(V.FAILED_PRECONDITION,Ja)})},s.prototype.ic=function(r){var o=new ki(this.clientId,this.allowTabSynchronization,Date.now());return mc(r).put(ki.key,o)},s.Ln=function(){return To.Ln()},s.prototype.sc=function(r){var o=this,f=mc(r);return f.get(ki.key).next(function(g){return o.rc(g)?(se("IndexedDbPersistence","Releasing primary lease."),f.delete(ki.key)):nt.resolve()})},s.prototype.cc=function(r,o){var f=Date.now();return!(r<f-o||r>f&&(Le("Detected an update time that is in the future: "+r+" > "+f),1))},s.prototype.Ha=function(){var r=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){r.fn.ws(function(){return r.inForeground="visible"===r.document.visibilityState,r.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},s.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},s.prototype.Ya=function(){var r,o=this;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.La=function(){o._c(),o.fn.ws(function(){return o.Di()})},this.window.addEventListener("unload",this.La))},s.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},s.prototype.lc=function(r){var o;try{var f=null!==(null===(o=this.Ga)||void 0===o?void 0:o.getItem(this.hc(r)));return se("IndexedDbPersistence","Client '"+r+"' "+(f?"is":"is not")+" zombied in LocalStorage"),f}catch(g){return Le("IndexedDbPersistence","Failed to get zombied client id.",g),!1}},s.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(r){Le("Failed to set zombie client id.",r)}},s.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(r){}},s.prototype.hc=function(r){return"firestore_zombie_"+this.persistenceKey+"_"+r},s}();function mc(s){return Ei.Qn(s,ki.store)}function Ma(s){return Ei.Qn(s,na.store)}var Kh=function(){function s(r,o){this.db=r,this.wo=new xu(this,o)}return s.prototype.Po=function(r){var o=this.Rc(r);return this.db.Tc().ba(r).next(function(f){return o.next(function(g){return f+g})})},s.prototype.Rc=function(r){var o=0;return this.Vo(r,function(f){o++}).next(function(){return o})},s.prototype.Ce=function(r,o){return this.db.Tc().Ce(r,o)},s.prototype.Vo=function(r,o){return this.gc(r,function(f,g){return o(g)})},s.prototype.Da=function(r,o,f){return Kl(r,f)},s.prototype.Na=function(r,o,f){return Kl(r,f)},s.prototype.po=function(r,o,f){return this.db.Tc().po(r,o,f)},s.prototype.Go=function(r,o){return Kl(r,o)},s.prototype.Pc=function(r,o){return g=o,w=!1,el(f=r).os(function(D){return Xc(f,D,g).next(function(T){return T&&(w=!0),nt.resolve(!T)})}).next(function(){return w});var f,g,w},s.prototype.bo=function(r,o){var f=this,g=this.db.Ec().ra(),w=[],D=0;return this.gc(r,function(T,R){if(R<=o){var W=f.Pc(r,T).next(function(ee){if(!ee)return D++,g.Rr(r,T).next(function(){return g.Ar(T),Bs(r).delete([0,Yi(T.path)])})});w.push(W)}}).next(function(){return nt.$n(w)}).next(function(){return g.apply(r)}).next(function(){return D})},s.prototype.removeTarget=function(r,o){var f=o.st(r.xa);return this.db.Tc().ya(r,f)},s.prototype.yc=function(r,o){return Kl(r,o)},s.prototype.gc=function(r,o){var f,g=Bs(r),w=Qr.ai;return g.rs({index:bi.documentTargetsIndex},function(D,T){var W=T.path,ee=T.sequenceNumber;0===D[0]?(w!==Qr.ai&&o(new F(Mo(f)),w),w=ee,f=W):w=Qr.ai}).next(function(){w!==Qr.ai&&o(new F(Mo(f)),w)})},s.prototype.So=function(r){return this.db.Ec().aa(r)},s}();function Kl(s,r){return Bs(s).put((f=s.xa,new bi(0,Yi(r.path),f)));var f}function vc(s,r){var o=s.projectId;return s.j||(o+="."+s.database),"firestore/"+r+"/"+o+"/"}var Vi=function(){function s(r,o,f){this.persistence=r,this.Vc=o,this.bc=new $t(vt),this.vc=new jn(function(g){return lt(g)},dt),this.Sc=st.min(),this.Sr=r.mc(f),this.Dc=r.Ec(),this.Ka=r.Tc(),this.Cc=new So(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return s.prototype.Io=function(r){var o=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(f){return r.vo(f,o.bc)})},s}();function Hu(s,r){var o=ke(s);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(f){var D,T,R,W,ee,fe,ue,g=r.batch.keys(),w=o.Dc.ra({oa:!0});return(D=o,T=f,R=r,W=w,ee=R.batch,fe=ee.keys(),ue=nt.resolve(),fe.forEach(function(Ee){ue=ue.next(function(){return W.Rr(T,Ee)}).next(function(Fe){var qe=Fe,yt=R.dr.get(Ee);Ue(null!==yt),(!qe||qe.version.L(yt)<0)&&(qe=ee.cr(Ee,qe,R))&&W.Er(qe,R._r)})}),ue.next(function(){return D.Sr.Wo(T,ee)})).next(function(){return w.apply(f)}).next(function(){return o.Sr.zo(f)}).next(function(){return o.Cc.kr(f,g)})})}function Jn(s){var r=ke(s);return r.persistence.runTransaction("Get last remote snapshot version","readonly",function(o){return r.Ka.Ea(o)})}function ch(s,r){var o=ke(s),f=r.nt,g=o.bc;return o.persistence.runTransaction("Apply remote event","readwrite-primary",function(w){var D=o.Dc.ra({oa:!0});g=o.bc;var T=[];r.zt.forEach(function(fe,ue){var yt,gt,Nt,Ee=g.get(ue);if(Ee){T.push(o.Ka.Ca(w,fe.se,ue).next(function(){return o.Ka.Sa(w,fe.ee,ue)}));var Fe=fe.resumeToken;if(Fe.O()>0){var qe=Ee.it(Fe,f).st(w.xa);g=g.ot(ue,qe),yt=Ee,Nt=fe,Ue((gt=qe).resumeToken.O()>0),(0===yt.resumeToken.O()||gt.nt.X()-yt.nt.X()>=3e8||Nt.ee.size+Nt.ne.size+Nt.se.size>0)&&T.push(o.Ka.ya(w,qe))}}});var R=ur(),W=rn();if(r.Yt.forEach(function(fe,ue){W=W.add(fe)}),T.push(D.getEntries(w,W).next(function(fe){r.Yt.forEach(function(ue,Ee){var Fe=fe.get(ue);Ee instanceof on&&Ee.version.isEqual(st.min())?(D.Ar(ue,f),R=R.ot(ue,Ee)):null==Fe||Ee.version.L(Fe.version)>0||0===Ee.version.L(Fe.version)&&Fe.hasPendingWrites?(D.Er(Ee,f),R=R.ot(ue,Ee)):se("LocalStore","Ignoring outdated watch update for ",ue,". Current version:",Fe.version," Watch version:",Ee.version),r.Jt.has(ue)&&T.push(o.persistence.No.yc(w,ue))})})),!f.isEqual(st.min())){var ee=o.Ka.Ea(w).next(function(fe){return o.Ka.Aa(w,w.xa,f)});T.push(ee)}return nt.$n(T).next(function(){return D.apply(w)}).next(function(){return o.Cc.Mr(w,R)})}).then(function(w){return o.bc=g,w})}function Gu(s,r){var o=ke(s);return o.persistence.runTransaction("Get next mutation batch","readonly",function(f){return void 0===r&&(r=-1),o.Sr.Bo(f,r)})}function Oa(s,r){var o=ke(s);return o.persistence.runTransaction("Allocate target","readwrite",function(f){var g;return o.Ka.va(f,r).next(function(w){return w?nt.resolve(g=w):o.Ka.wa(f).next(function(D){return g=new sr(r,D,0,f.xa),o.Ka.Ra(f,g).next(function(){return g})})})}).then(function(f){var g=o.bc.get(f.targetId);return(null===g||f.nt.L(g.nt)>0)&&(o.bc=o.bc.ot(f.targetId,f),o.vc.set(r,f.targetId)),f})}function xo(s,r,o){return d.__awaiter(this,void 0,void 0,function(){var f,g,w,D;return d.__generator(this,function(T){switch(T.label){case 0:f=ke(s),g=f.bc.get(r),w=o?"readwrite":"readwrite-primary",T.label=1;case 1:return T.trys.push([1,4,,5]),o?[3,3]:[4,f.persistence.runTransaction("Release target",w,function(R){return f.persistence.No.removeTarget(R,g)})];case 2:T.sent(),T.label=3;case 3:return[3,5];case 4:if(!Ri(D=T.sent()))throw D;return se("LocalStore","Failed to update sequence numbers for target "+r+": "+D),[3,5];case 5:return f.bc=f.bc.remove(r),f.vc.delete(g.target),[2]}})})}function Gs(s,r,o){var f=ke(s),g=st.min(),w=rn();return f.persistence.runTransaction("Execute query","readonly",function(D){return(T=f,R=D,W=lr(r),ee=ke(T),fe=ee.vc.get(W),void 0!==fe?nt.resolve(ee.bc.get(fe)):ee.Ka.va(R,W)).next(function(T){if(T)return g=T.lastLimboFreeSnapshotVersion,f.Ka.Fa(D,T.targetId).next(function(R){w=R})}).next(function(){return f.Vc.Lr(D,r,o?g:st.min(),o?w:rn())}).next(function(T){return{documents:T,Fc:w}});var T,R,W,ee,fe})}function nl(s,r){var o=ke(s),f=ke(o.Ka),g=o.bc.get(r);return g?Promise.resolve(g.target):o.persistence.runTransaction("Get target data","readonly",function(w){return f.Ue(w,r).next(function(D){return D?D.target:null})})}function Nf(s){var r=ke(s);return r.persistence.runTransaction("Get new document changes","readonly",function(o){return g=o,w=r.Sc,D=ke(r.Dc),T=ur(),R=$a(w),W=Zo(g),ee=IDBKeyRange.lowerBound(R,!0),W.rs({index:Er.readTimeIndex,range:ee},function(fe,ue){var Ee=ea(D.serializer,ue);T=T.ot(Ee.key,Ee),R=ue.readTime}).next(function(){return{xc:T,readTime:_t(R)}});var g,w,D,T,R,W,ee}).then(function(o){var f=o.xc;return r.Sc=o.readTime,f})}function yc(s){return d.__awaiter(this,void 0,void 0,function(){var r;return d.__generator(this,function(o){return[2,(r=ke(s)).persistence.runTransaction("Synchronize last document change read time","readonly",function(f){return w=Zo(f),D=st.min(),w.rs({index:Er.readTimeIndex,reverse:!0},function(T,R,W){R.readTime&&(D=_t(R.readTime)),W.done()}).next(function(){return D});var w,D}).then(function(f){r.Sc=f})]})})}function li(s){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(r){if(s.code!==V.FAILED_PRECONDITION||s.message!==Aa)throw s;return se("LocalStore","Unexpectedly lost primary lease"),[2]})})}var Na=function(){function s(){this.$c=new Un(ei.kc),this.Mc=new Un(ei.Oc)}return s.prototype.m=function(){return this.$c.m()},s.prototype.Da=function(r,o){var f=new ei(r,o);this.$c=this.$c.add(f),this.Mc=this.Mc.add(f)},s.prototype.Lc=function(r,o){var f=this;r.forEach(function(g){return f.Da(g,o)})},s.prototype.Na=function(r,o){this.Bc(new ei(r,o))},s.prototype.qc=function(r,o){var f=this;r.forEach(function(g){return f.Na(g,o)})},s.prototype.Uc=function(r){var o=this,f=new F(new B([])),g=new ei(f,r),w=new ei(f,r+1),D=[];return this.Mc.Ft([g,w],function(T){o.Bc(T),D.push(T.key)}),D},s.prototype.Qc=function(){var r=this;this.$c.forEach(function(o){return r.Bc(o)})},s.prototype.Bc=function(r){this.$c=this.$c.delete(r),this.Mc=this.Mc.delete(r)},s.prototype.Wc=function(r){var o=new F(new B([])),f=new ei(o,r),g=new ei(o,r+1),w=rn();return this.Mc.Ft([f,g],function(D){w=w.add(D.key)}),w},s.prototype.Ho=function(r){var o=new ei(r,0),f=this.$c.$t(o);return null!==f&&r.isEqual(f.key)},s}(),ei=function(){function s(r,o){this.key=r,this.jc=o}return s.kc=function(r,o){return F.i(r.key,o.key)||vt(r.jc,o.jc)},s.Oc=function(r,o){return vt(r.jc,o.jc)||F.i(r.key,o.key)},s}(),xa=function(s,r){this.user=r,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+s},rl=function(){function s(){this.Gc=null}return s.prototype.getToken=function(){return Promise.resolve(null)},s.prototype.zc=function(){},s.prototype.Hc=function(r){this.Gc=r,r($n.UNAUTHENTICATED)},s.prototype.Yc=function(){this.Gc=null},s}(),Cs=function(){function s(r){var o=this;this.Jc=null,this.currentUser=$n.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){o.Zc++,o.currentUser=o.tu(),o.Xc=!0,o.Gc&&o.Gc(o.currentUser)},this.Zc=0,this.auth=r.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),r.get().then(function(f){o.auth=f,o.Jc&&o.auth.addAuthTokenListener(o.Jc)},function(){}))}return s.prototype.getToken=function(){var r=this,o=this.Zc,f=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(f).then(function(g){return r.Zc!==o?(se("FirebaseCredentialsProvider","getToken aborted due to token change."),r.getToken()):g?(Ue("string"==typeof g.accessToken),new xa(g.accessToken,r.currentUser)):null}):Promise.resolve(null)},s.prototype.zc=function(){this.forceRefresh=!0},s.prototype.Hc=function(r){this.Gc=r,this.Xc&&r(this.currentUser)},s.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},s.prototype.tu=function(){var r=this.auth&&this.auth.getUid();return Ue(null===r||"string"==typeof r),new $n(r)},s}(),_c=function(){function s(r,o){this.eu=r,this.nu=o,this.type="FirstParty",this.user=$n.ni}return Object.defineProperty(s.prototype,"Kc",{get:function(){var r={"X-Goog-AuthUser":this.nu},o=this.eu.auth.getAuthHeaderValueForFirstParty([]);return o&&(r.Authorization=o),r},enumerable:!1,configurable:!0}),s}(),wc=function(){function s(r,o){this.eu=r,this.nu=o}return s.prototype.getToken=function(){return Promise.resolve(new _c(this.eu,this.nu))},s.prototype.Hc=function(r){r($n.ni)},s.prototype.Yc=function(){},s.prototype.zc=function(){},s}(),bc=function(){function s(r,o,f,g,w,D){this.fn=r,this.su=f,this.iu=g,this.ru=w,this.listener=D,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new wi(r,o)}return s.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},s.prototype.uu=function(){return 2===this.state},s.prototype.start=function(){3!==this.state?this.auth():this.hu()},s.prototype.stop=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(r){switch(r.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},s.prototype.lu=function(){this.state=0,this.ys.reset()},s.prototype._u=function(){var r=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return r.fu()}))},s.prototype.du=function(r){this.wu(),this.stream.send(r)},s.prototype.fu=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(r){return this.uu()?[2,this.close(0)]:[2]})})},s.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},s.prototype.close=function(r,o){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(f){switch(f.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==r?this.ys.reset():o&&o.code===V.RESOURCE_EXHAUSTED?(Le(o.toString()),Le("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):o&&o.code===V.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=r,[4,this.listener.Tu(o)];case 1:return f.sent(),[2]}})})},s.prototype.mu=function(){},s.prototype.auth=function(){var r=this;this.state=1;var o=this.Eu(this.ou),f=this.ou;this.ru.getToken().then(function(g){r.ou===f&&r.Iu(g)},function(g){o(function(){var w=new Q(V.UNKNOWN,"Fetching auth token failed: "+g.message);return r.Au(w)})})},s.prototype.Iu=function(r){var o=this,f=this.Eu(this.ou);this.stream=this.Ru(r),this.stream.gu(function(){f(function(){return o.state=2,o.listener.gu()})}),this.stream.Tu(function(g){f(function(){return o.Au(g)})}),this.stream.onMessage(function(g){f(function(){return o.onMessage(g)})})},s.prototype.hu=function(){var r=this;this.state=4,this.ys.gn(function(){return d.__awaiter(r,void 0,void 0,function(){return d.__generator(this,function(o){return this.state=0,this.start(),[2]})})})},s.prototype.Au=function(r){return se("PersistentStream","close with error: "+r),this.stream=null,this.close(3,r)},s.prototype.Eu=function(r){var o=this;return function(f){o.fn.ws(function(){return o.ou===r?f():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},s}(),ra=function(s){function r(o,f,g,w,D){var T=this;return(T=s.call(this,o,"listen_stream_connection_backoff","listen_stream_idle",f,g,D)||this).serializer=w,T}return d.__extends(r,s),r.prototype.Ru=function(o){return this.iu.Pu("Listen",o)},r.prototype.onMessage=function(o){this.ys.reset();var f=function(w,D){var T,ss;if("targetChange"in D){var R="NO_CHANGE"===(ss=D.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ss?1:"REMOVE"===ss?2:"CURRENT"===ss?3:"RESET"===ss?4:Re(),W=D.targetChange.targetIds||[],ee=function(ss,as){return ss.Qe?(Ue(void 0===as||"string"==typeof as),Bt.fromBase64String(as||"")):(Ue(void 0===as||as instanceof Uint8Array),Bt.fromUint8Array(as||new Uint8Array))}(w,D.targetChange.resumeToken),fe=D.targetChange.cause,ue=fe&&function(ss){var as=void 0===ss.code?V.UNKNOWN:ar(ss.code);return new Q(as,ss.message||"")}(fe);T=new Ft(R,W,ee,ue||null)}else if("documentChange"in D){var Ee=D.documentChange,Fe=Rn(w,Ee.document.name),qe=an(Ee.document.updateTime),yt=new Sn({mapValue:{fields:Ee.document.fields}}),gt=new xt(Fe,qe,yt,{});T=new oo(Ee.targetIds||[],Ee.removedTargetIds||[],gt.key,gt)}else if("documentDelete"in D){var gn=D.documentDelete,Gn=Rn(w,gn.document),Wn=gn.readTime?an(gn.readTime):st.min(),Gt=new on(Gn,Wn);T=new oo([],gn.removedTargetIds||[],Gt.key,Gt)}else if("documentRemove"in D){var ga=D.documentRemove,fu=Rn(w,ga.document);T=new oo([],ga.removedTargetIds||[],fu,null)}else{if(!("filter"in D))return Re();var ac=D.filter,Cl=new Tt(ac.count||0);T=new so(ac.targetId,Cl)}return T}(this.serializer,o),g=function(w){if(!("targetChange"in w))return st.min();var D=w.targetChange;return D.targetIds&&D.targetIds.length?st.min():D.readTime?an(D.readTime):st.min()}(o);return this.listener.yu(f,g)},r.prototype.Vu=function(o){var w,D,T,R,f={};f.database=ai(this.serializer),f.addTarget=(w=this.serializer,(T=Zt(R=(D=o).target)?{documents:Eu(w,R)}:{query:Ba(w,R)}).targetId=D.targetId,D.resumeToken.O()>0&&(T.resumeToken=oi(w,D.resumeToken)),T);var g=function(w,D){var T=function(R,W){switch(W){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Re()}}(0,D.et);return null==T?null:{"goog-listen-tags":T}}(0,o);g&&(f.labels=g),this.du(f)},r.prototype.pu=function(o){var f={};f.database=ai(this.serializer),f.removeTarget=o,this.du(f)},r}(bc),qu=function(s){function r(o,f,g,w,D){var T=this;return(T=s.call(this,o,"write_stream_connection_backoff","write_stream_idle",f,g,D)||this).serializer=w,T.bu=!1,T}return d.__extends(r,s),Object.defineProperty(r.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),r.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,s.prototype.start.call(this)},r.prototype.mu=function(){this.bu&&this.Su([])},r.prototype.Ru=function(o){return this.iu.Pu("Write",o)},r.prototype.onMessage=function(o){if(Ue(!!o.streamToken),this.lastStreamToken=o.streamToken,this.bu){this.ys.reset();var f=(D=o.commitTime,(w=o.writeResults)&&w.length>0?(Ue(void 0!==D),w.map(function(T){return function(R,W){var ee=an(R.updateTime?R.updateTime:W);ee.isEqual(st.min())&&(ee=an(W));var fe=null;return R.transformResults&&R.transformResults.length>0&&(fe=R.transformResults),new Oi(ee,fe)}(T,D)})):[]),g=an(o.commitTime);return this.listener.Du(g,f)}var w,D;return Ue(!o.writeResults||0===o.writeResults.length),this.bu=!0,this.listener.Cu()},r.prototype.Nu=function(){var o={};o.database=ai(this.serializer),this.du(o)},r.prototype.Su=function(o){var f=this,g={streamToken:this.lastStreamToken,writes:o.map(function(w){return bt(f.serializer,w)})};this.du(g)},r}(bc),Is=function(s){function r(o,f,g){var w=this;return(w=s.call(this)||this).credentials=o,w.iu=f,w.serializer=g,w.Fu=!1,w}return d.__extends(r,s),r.prototype.xu=function(){if(this.Fu)throw new Q(V.FAILED_PRECONDITION,"The client has already been terminated.")},r.prototype.$u=function(o,f,g){var w=this;return this.xu(),this.credentials.getToken().then(function(D){return w.iu.$u(o,f,g,D)}).catch(function(D){throw D.code===V.UNAUTHENTICATED&&w.credentials.zc(),D})},r.prototype.ku=function(o,f,g){var w=this;return this.xu(),this.credentials.getToken().then(function(D){return w.iu.ku(o,f,g,D)}).catch(function(D){throw D.code===V.UNAUTHENTICATED&&w.credentials.zc(),D})},r.prototype.terminate=function(){this.Fu=!1},r}(function(){}),il=function(){function s(r,o){this.cs=r,this.di=o,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return s.prototype.Bu=function(){var r=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return r.Ou=null,r.Uu("Backend didn't respond within 10 seconds."),r.qu("Offline"),Promise.resolve()}))},s.prototype.Qu=function(r){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+r.toString()),this.qu("Offline")))},s.prototype.set=function(r){this.Wu(),this.Mu=0,"Online"===r&&(this.Lu=!1),this.qu(r)},s.prototype.qu=function(r){r!==this.state&&(this.state=r,this.di(r))},s.prototype.Uu=function(r){var o="Could not reach Cloud Firestore backend. "+r+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(Le(o),this.Lu=!1):se("OnlineStateTracker",o)},s.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},s}(),xf=function(s,r,o,f,g){var w=this;this.ju=s,this.Ku=r,this.cs=o,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=g,this.Xu.Zu(function(D){o.ws(function(){return d.__awaiter(w,void 0,void 0,function(){return d.__generator(this,function(T){switch(T.label){case 0:return Po(this)?(se("RemoteStore","Restarting streams for network reachability change."),[4,function(R){return d.__awaiter(this,void 0,void 0,function(){var W;return d.__generator(this,function(ee){switch(ee.label){case 0:return(W=ke(R)).Yu.add(4),[4,ia(W)];case 1:return ee.sent(),W.th.set("Unknown"),W.Yu.delete(4),[4,xn(W)];case 2:return ee.sent(),[2]}})})}(this)]):[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})})})}),this.th=new il(o,f)};function xn(s){return d.__awaiter(this,void 0,void 0,function(){var r,o;return d.__generator(this,function(f){switch(f.label){case 0:if(!Po(s))return[3,4];r=0,o=s.Ju,f.label=1;case 1:return r<o.length?[4,(0,o[r])(!0)]:[3,4];case 2:f.sent(),f.label=3;case 3:return r++,[3,1];case 4:return[2]}})})}function ia(s){return d.__awaiter(this,void 0,void 0,function(){var r,o;return d.__generator(this,function(f){switch(f.label){case 0:r=0,o=s.Ju,f.label=1;case 1:return r<o.length?[4,(0,o[r])(!1)]:[3,4];case 2:f.sent(),f.label=3;case 3:return r++,[3,1];case 4:return[2]}})})}function Pf(s){return d.__awaiter(this,void 0,void 0,function(){var r;return d.__generator(this,function(o){switch(o.label){case 0:return r=ke(s),se("RemoteStore","RemoteStore shutting down."),r.Yu.add(5),[4,ia(r)];case 1:return o.sent(),r.Xu.Di(),r.th.set("Unknown"),[2]}})})}function go(s,r){var o=ke(s);o.Hu.has(r.targetId)||(o.Hu.set(r.targetId,r),As(o)?ol(o):Pa(o).uu()&&Zi(o,r))}function qs(s,r){var o=ke(s),f=Pa(o);o.Hu.delete(r),f.uu()&&oa(o,r),0===o.Hu.size&&(f.uu()?f._u():Po(o)&&o.th.set("Unknown"))}function Zi(s,r){s.eh.Ie(r.targetId),Pa(s).Vu(r)}function oa(s,r){s.eh.Ie(r),Pa(s).pu(r)}function ol(s){s.eh=new _o({qe:function(r){return s.Gu.qe(r)},Ue:function(r){return s.Hu.get(r)||null}}),Pa(s).start(),s.th.Bu()}function As(s){return Po(s)&&!Pa(s).cu()&&s.Hu.size>0}function Po(s){return 0===ke(s).Yu.size}function sa(s){s.eh=void 0}function Qa(s){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(r){return s.Hu.forEach(function(o,f){Zi(s,o)}),[2]})})}function Xo(s,r){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(o){return sa(s),As(s)?(s.th.Qu(r),ol(s)):s.th.set("Unknown"),[2]})})}function es(s,r,o){return d.__awaiter(this,void 0,void 0,function(){var f,g,w;return d.__generator(this,function(D){switch(D.label){case 0:if(s.th.set("Online"),!(r instanceof Ft&&2===r.state&&r.cause))return[3,6];D.label=1;case 1:return D.trys.push([1,3,,5]),[4,function(T,R){return d.__awaiter(this,void 0,void 0,function(){var W,ee,fe,ue;return d.__generator(this,function(Ee){switch(Ee.label){case 0:W=R.cause,ee=0,fe=R.targetIds,Ee.label=1;case 1:return ee<fe.length?T.Hu.has(ue=fe[ee])?[4,T.Gu.nh(ue,W)]:[3,3]:[3,5];case 2:Ee.sent(),T.Hu.delete(ue),T.eh.removeTarget(ue),Ee.label=3;case 3:Ee.label=4;case 4:return ee++,[3,1];case 5:return[2]}})})}(s,r)];case 2:return D.sent(),[3,5];case 3:return f=D.sent(),se("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),f),[4,Ro(s,f)];case 4:return D.sent(),[3,5];case 5:return[3,13];case 6:if(r instanceof oo?s.eh.be(r):r instanceof so?s.eh.$e(r):s.eh.De(r),o.isEqual(st.min()))return[3,13];D.label=7;case 7:return D.trys.push([7,11,,13]),[4,Jn(s.ju)];case 8:return g=D.sent(),o.L(g)>=0?[4,(T=s,R=o,W=T.eh.Oe(R),W.zt.forEach(function(ee,fe){if(ee.resumeToken.O()>0){var ue=T.Hu.get(fe);ue&&T.Hu.set(fe,ue.it(ee.resumeToken,R))}}),W.Ht.forEach(function(ee){var fe=T.Hu.get(ee);if(fe){T.Hu.set(ee,fe.it(Bt.B,fe.nt)),oa(T,ee);var ue=new sr(fe.target,ee,1,fe.sequenceNumber);Zi(T,ue)}}),T.Gu.sh(W))]:[3,10];case 9:D.sent(),D.label=10;case 10:return[3,13];case 11:return se("RemoteStore","Failed to raise snapshot:",w=D.sent()),[4,Ro(s,w)];case 12:return D.sent(),[3,13];case 13:return[2]}var T,R,W})})}function Ro(s,r,o){return d.__awaiter(this,void 0,void 0,function(){var f=this;return d.__generator(this,function(g){switch(g.label){case 0:if(!Ri(r))throw r;return s.Yu.add(1),[4,ia(s)];case 1:return g.sent(),s.th.set("Offline"),o||(o=function(){return Jn(s.ju)}),s.cs.Cs(function(){return d.__awaiter(f,void 0,void 0,function(){return d.__generator(this,function(w){switch(w.label){case 0:return se("RemoteStore","Retrying IndexedDB access"),[4,o()];case 1:return w.sent(),s.Yu.delete(1),[4,xn(s)];case 2:return w.sent(),[2]}})})}),[2]}})})}function $u(s,r){return r().catch(function(o){return Ro(s,o,r)})}function fi(s){return d.__awaiter(this,void 0,void 0,function(){var r,o,f,g,w;return d.__generator(this,function(D){switch(D.label){case 0:r=ke(s),o=hi(r),f=r.zu.length>0?r.zu[r.zu.length-1].batchId:-1,D.label=1;case 1:if(!(Po(T=r)&&T.zu.length<10))return[3,7];D.label=2;case 2:return D.trys.push([2,4,,6]),[4,Gu(r.ju,f)];case 3:return null===(g=D.sent())?(0===r.zu.length&&o._u(),[3,7]):(f=g.batchId,function(T,R){T.zu.push(R);var W=hi(T);W.uu()&&W.vu&&W.Su(R.mutations)}(r,g),[3,6]);case 4:return w=D.sent(),[4,Ro(r,w)];case 5:return D.sent(),[3,6];case 6:return[3,1];case 7:return Yl(r)&&sl(r),[2]}var T})})}function Yl(s){return Po(s)&&!hi(s).cu()&&s.zu.length>0}function sl(s){hi(s).start()}function Di(s){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(r){return hi(s).Nu(),[2]})})}function ts(s){return d.__awaiter(this,void 0,void 0,function(){var r,o,f;return d.__generator(this,function(w){for(r=hi(s),o=0,f=s.zu;o<f.length;o++)r.Su(f[o].mutations);return[2]})})}function zu(s,r,o){return d.__awaiter(this,void 0,void 0,function(){var f,g;return d.__generator(this,function(w){switch(w.label){case 0:return f=s.zu.shift(),g=Ga.from(f,r,o),[4,$u(s,function(){return s.Gu.ih(g)})];case 1:return w.sent(),[4,fi(s)];case 2:return w.sent(),[2]}})})}function fr(s,r){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(o){switch(o.label){case 0:return r&&hi(s).vu?[4,function(f,g){return d.__awaiter(this,void 0,void 0,function(){var w,D;return d.__generator(this,function(T){switch(T.label){case 0:return Qn(D=g.code)&&D!==V.ABORTED?(w=f.zu.shift(),hi(f).lu(),[4,$u(f,function(){return f.Gu.rh(w.batchId,g)})]):[3,3];case 1:return T.sent(),[4,fi(f)];case 2:T.sent(),T.label=3;case 3:return[2]}})})}(s,r)]:[3,2];case 1:o.sent(),o.label=2;case 2:return Yl(s)&&sl(s),[2]}})})}function ns(s,r){return d.__awaiter(this,void 0,void 0,function(){var o;return d.__generator(this,function(g){switch(g.label){case 0:return o=ke(s),r?(o.Yu.delete(2),[4,xn(o)]):[3,2];case 1:return g.sent(),[3,5];case 2:return r?[3,4]:(o.Yu.add(2),[4,ia(o)]);case 3:g.sent(),o.th.set("Unknown"),g.label=4;case 4:g.label=5;case 5:return[2]}})})}function Pa(s){var o,f,g,w,r=this;return s.oh||(s.oh=(o=s.Ku,f=s.cs,g={gu:Qa.bind(null,s),Tu:Xo.bind(null,s),yu:es.bind(null,s)},(w=ke(o)).xu(),new ra(f,w.iu,w.credentials,w.serializer,g)),s.Ju.push(function(o){return d.__awaiter(r,void 0,void 0,function(){return d.__generator(this,function(f){switch(f.label){case 0:return o?(s.oh.lu(),As(s)?ol(s):s.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,s.oh.stop()];case 2:f.sent(),sa(s),f.label=3;case 3:return[2]}})})})),s.oh}function hi(s){var o,f,g,w,r=this;return s.ah||(s.ah=(o=s.Ku,f=s.cs,g={gu:Di.bind(null,s),Tu:fr.bind(null,s),Cu:ts.bind(null,s),Du:zu.bind(null,s)},(w=ke(o)).xu(),new qu(f,w.iu,w.credentials,w.serializer,g)),s.Ju.push(function(o){return d.__awaiter(r,void 0,void 0,function(){return d.__generator(this,function(f){switch(f.label){case 0:return o?(s.ah.lu(),[4,fi(s)]):[3,2];case 1:return f.sent(),[3,4];case 2:return[4,s.ah.stop()];case 3:f.sent(),s.zu.length>0&&(se("RemoteStore","Stopping write stream with "+s.zu.length+" pending writes"),s.zu=[]),f.label=4;case 4:return[2]}})})})),s.ah}var Fo=function(s){this.key=s},al=function(s){this.key=s},Zl=function(){function s(r,o){this.query=r,this.uh=o,this.hh=null,this.te=!1,this.lh=rn(),this.Wt=rn(),this._h=Mr(r),this.fh=new Ps(this._h)}return Object.defineProperty(s.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),s.prototype.wh=function(r,o){var f=this,g=o?o.mh:new io,w=o?o.fh:this.fh,D=o?o.Wt:this.Wt,T=w,R=!1,W=fo(this.query)&&w.size===this.query.limit?w.last():null,ee=Mt(this.query)&&w.size===this.query.limit?w.first():null;if(r.ht(function(ue,Ee){var Fe=w.get(ue),qe=Ee instanceof xt?Ee:null;qe&&(qe=wn(f.query,qe)?qe:null);var yt=!!Fe&&f.Wt.has(Fe.key),gt=!!qe&&(qe.Je||f.Wt.has(qe.key)&&qe.hasCommittedMutations),Nt=!1;Fe&&qe?Fe.data().isEqual(qe.data())?yt!==gt&&(g.track({type:3,doc:qe}),Nt=!0):f.Th(Fe,qe)||(g.track({type:2,doc:qe}),Nt=!0,(W&&f._h(qe,W)>0||ee&&f._h(qe,ee)<0)&&(R=!0)):!Fe&&qe?(g.track({type:0,doc:qe}),Nt=!0):Fe&&!qe&&(g.track({type:1,doc:Fe}),Nt=!0,(W||ee)&&(R=!0)),Nt&&(qe?(T=T.add(qe),D=gt?D.add(ue):D.delete(ue)):(T=T.delete(ue),D=D.delete(ue)))}),fo(this.query)||Mt(this.query))for(;T.size>this.query.limit;){var fe=fo(this.query)?T.last():T.first();T=T.delete(fe.key),D=D.delete(fe.key),g.track({type:1,doc:fe})}return{fh:T,mh:g,Eh:R,Wt:D}},s.prototype.Th=function(r,o){return r.Je&&o.hasCommittedMutations&&!o.Je},s.prototype.yr=function(r,o,f){var g=this,w=this.fh;this.fh=r.fh,this.Wt=r.Wt;var D=r.mh.Ut();D.sort(function(ee,fe){return Ee=fe.type,(Fe=function(qe){switch(qe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}})(ee.type)-Fe(Ee)||g._h(ee.doc,fe.doc);var Ee,Fe}),this.Ih(f);var T=o?this.Ah():[],R=0===this.lh.size&&this.te?1:0,W=R!==this.hh;return this.hh=R,0!==D.length||W?{snapshot:new Wr(this.query,r.fh,w,D,r.Wt,0===R,W,!1),Rh:T}:{Rh:T}},s.prototype.Qs=function(r){return this.te&&"Offline"===r?(this.te=!1,this.yr({fh:this.fh,mh:new io,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},s.prototype.gh=function(r){return!this.uh.has(r)&&!!this.fh.has(r)&&!this.fh.get(r).Je},s.prototype.Ih=function(r){var o=this;r&&(r.ee.forEach(function(f){return o.uh=o.uh.add(f)}),r.ne.forEach(function(f){}),r.se.forEach(function(f){return o.uh=o.uh.delete(f)}),this.te=r.te)},s.prototype.Ah=function(){var r=this;if(!this.te)return[];var o=this.lh;this.lh=rn(),this.fh.forEach(function(g){r.gh(g.key)&&(r.lh=r.lh.add(g.key))});var f=[];return o.forEach(function(g){r.lh.has(g)||f.push(new al(g))}),this.lh.forEach(function(g){o.has(g)||f.push(new Fo(g))}),f},s.prototype.Ph=function(r){this.uh=r.Fc,this.lh=rn();var o=this.wh(r.documents);return this.yr(o,!0)},s.prototype.yh=function(){return Wr.Gt(this.query,this.fh,this.Wt,0===this.hh)},s}(),Xa=function(s,r,o){this.query=s,this.targetId=r,this.view=o},ul=function(s){this.key=s,this.Vh=!1},aa=function(){function s(r,o,f,g,w,D){this.ju=r,this.ph=o,this.bh=f,this.Sh=g,this.currentUser=w,this.Dh=D,this.Ch={},this.Nh=new jn(function(T){return Io(T)},Ut),this.Fh=new Map,this.xh=[],this.$h=new $t(F.i),this.kh=new Map,this.Mh=new Na,this.Oh={},this.Lh=new Map,this.Bh=Bu.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(s.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),s}();function Wu(s,r){return d.__awaiter(this,void 0,void 0,function(){var o,g,w,D,T;return d.__generator(this,function(R){switch(R.label){case 0:return o=Ju(s),(w=o.Nh.get(r))?(o.Sh.Oi(w.targetId),g=w.view.yh(),[3,4]):[3,1];case 1:return[4,Oa(o.ju,lr(r))];case 2:return D=R.sent(),T=o.Sh.Oi(D.targetId),[4,eu(o,r,D.targetId,"current"===T)];case 3:g=R.sent(),o.Uh&&go(o.ph,D),R.label=4;case 4:return[2,g]}})})}function eu(s,r,o,f){return d.__awaiter(this,void 0,void 0,function(){var g,w,D,T,R,W;return d.__generator(this,function(ee){switch(ee.label){case 0:return s.Qh=function(fe,ue,Ee){return function(Fe,qe,yt,gt){return d.__awaiter(this,void 0,void 0,function(){var Nt,Yt,gn;return d.__generator(this,function(Gn){switch(Gn.label){case 0:return(Nt=qe.view.wh(yt)).Eh?[4,Gs(Fe.ju,qe.query,!1).then(function(Wn){return qe.view.wh(Wn.documents,Nt)})]:[3,2];case 1:Nt=Gn.sent(),Gn.label=2;case 2:return Yt=gt&&gt.zt.get(qe.targetId),gn=qe.view.yr(Nt,Fe.Uh,Yt),[2,(iu(Fe,qe.targetId,gn.Rh),gn.snapshot)]}})})}(s,fe,ue,Ee)},[4,Gs(s.ju,r,!0)];case 1:return g=ee.sent(),w=new Zl(r,g.Fc),D=w.wh(g.documents),T=ds.Zt(o,f&&"Offline"!==s.onlineState),R=w.yr(D,s.Uh,T),iu(s,o,R.Rh),W=new Xa(r,o,w),[2,(s.Nh.set(r,W),s.Fh.has(o)?s.Fh.get(o).push(r):s.Fh.set(o,[r]),R.snapshot)]}})})}function tu(s,r){return d.__awaiter(this,void 0,void 0,function(){var o,f,g;return d.__generator(this,function(w){switch(w.label){case 0:return o=ke(s),f=o.Nh.get(r),(g=o.Fh.get(f.targetId)).length>1?[2,(o.Fh.set(f.targetId,g.filter(function(D){return!Ut(D,r)})),void o.Nh.delete(r))]:o.Uh?(o.Sh.Bi(f.targetId),o.Sh.Fi(f.targetId)?[3,2]:[4,xo(o.ju,f.targetId,!1).then(function(){o.Sh.Ui(f.targetId),qs(o.ph,f.targetId),$s(o,f.targetId)}).catch(li)]):[3,3];case 1:w.sent(),w.label=2;case 2:return[3,5];case 3:return $s(o,f.targetId),[4,xo(o.ju,f.targetId,!0)];case 4:w.sent(),w.label=5;case 5:return[2]}})})}function nu(s,r){return d.__awaiter(this,void 0,void 0,function(){var o,f;return d.__generator(this,function(g){switch(g.label){case 0:o=ke(s),g.label=1;case 1:return g.trys.push([1,4,,6]),[4,ch(o.ju,r)];case 2:return f=g.sent(),r.zt.forEach(function(w,D){var T=o.kh.get(D);T&&(Ue(w.ee.size+w.ne.size+w.se.size<=1),w.ee.size>0?T.Vh=!0:w.ne.size>0?Ue(T.Vh):w.se.size>0&&(Ue(T.Vh),T.Vh=!1))}),[4,Ji(o,f,r)];case 3:return g.sent(),[3,6];case 4:return[4,li(g.sent())];case 5:return g.sent(),[3,6];case 6:return[2]}})})}function ru(s,r,o){var f=ke(s);if(f.Uh&&0===o||!f.Uh&&1===o){var g=[];f.Nh.forEach(function(w,D){var T=D.view.Qs(r);T.snapshot&&g.push(T.snapshot)}),function(w,D){var T=ke(w);T.onlineState=D;var R=!1;T.Bs.forEach(function(W,ee){for(var fe=0,ue=ee.listeners;fe<ue.length;fe++)ue[fe].Qs(D)&&(R=!0)}),R&&Jr(T)}(f.bh,r),g.length&&f.Ch.yu(g),f.onlineState=r,f.Uh&&f.Sh.Ki(r)}}function Ku(s,r,o){return d.__awaiter(this,void 0,void 0,function(){var f,g,w,D,T,R;return d.__generator(this,function(W){switch(W.label){case 0:return(f=ke(s)).Sh.Qi(r,"rejected",o),g=f.kh.get(r),(w=g&&g.key)?(D=(D=new $t(F.i)).ot(w,new on(w,st.min())),T=rn().add(w),R=new Rs(st.min(),new Map,new Un(vt),D,T),[4,nu(f,R)]):[3,2];case 1:return W.sent(),f.$h=f.$h.remove(w),f.kh.delete(r),ko(f),[3,4];case 2:return[4,xo(f.ju,r,!1).then(function(){return $s(f,r,o)}).catch(li)];case 3:W.sent(),W.label=4;case 4:return[2]}})})}function cl(s,r){return d.__awaiter(this,void 0,void 0,function(){var o,f,g;return d.__generator(this,function(w){switch(w.label){case 0:o=ke(s),f=r.batch.batchId,w.label=1;case 1:return w.trys.push([1,4,,6]),[4,Hu(o.ju,r)];case 2:return g=w.sent(),Yu(o,f,null),Ts(o,f),o.Sh.ki(f,"acknowledged"),[4,Ji(o,g)];case 3:return w.sent(),[3,6];case 4:return[4,li(w.sent())];case 5:return w.sent(),[3,6];case 6:return[2]}})})}function Ec(s,r,o){return d.__awaiter(this,void 0,void 0,function(){var f,g;return d.__generator(this,function(w){switch(w.label){case 0:f=ke(s),w.label=1;case 1:return w.trys.push([1,4,,6]),[4,(D=f.ju,T=r,R=ke(D),R.persistence.runTransaction("Reject batch","readwrite-primary",function(W){var ee;return R.Sr.Oo(W,T).next(function(fe){return Ue(null!==fe),ee=fe.keys(),R.Sr.Wo(W,fe)}).next(function(){return R.Sr.zo(W)}).next(function(){return R.Cc.kr(W,ee)})}))];case 2:return g=w.sent(),Yu(f,r,o),Ts(f,r),f.Sh.ki(r,"rejected",o),[4,Ji(f,g)];case 3:return w.sent(),[3,6];case 4:return[4,li(w.sent())];case 5:return w.sent(),[3,6];case 6:return[2]}var D,T,R})})}function Ts(s,r){(s.Lh.get(r)||[]).forEach(function(o){o.resolve()}),s.Lh.delete(r)}function Yu(s,r,o){var f=ke(s),g=f.Oh[f.currentUser.ti()];if(g){var w=g.get(r);w&&(o?w.reject(o):w.resolve(),g=g.remove(r)),f.Oh[f.currentUser.ti()]=g}}function $s(s,r,o){void 0===o&&(o=null),s.Sh.Bi(r);for(var f=0,g=s.Fh.get(r);f<g.length;f++){var w=g[f];s.Nh.delete(w),o&&s.Ch.Wh(w,o)}s.Fh.delete(r),s.Uh&&s.Mh.Uc(r).forEach(function(D){s.Mh.Ho(D)||Jl(s,D)})}function Jl(s,r){var o=s.$h.get(r);null!==o&&(qs(s.ph,o),s.$h=s.$h.remove(r),s.kh.delete(o),ko(s))}function iu(s,r,o){for(var f=0,g=o;f<g.length;f++){var w=g[f];w instanceof Fo?(s.Mh.Da(w.key,r),Zu(s,w)):w instanceof al?(se("SyncEngine","Document no longer in limbo: "+w.key),s.Mh.Na(w.key,r),s.Mh.Ho(w.key)||Jl(s,w.key)):Re()}}function Zu(s,r){var o=r.key;s.$h.get(o)||(se("SyncEngine","New document in limbo: "+o),s.xh.push(o),ko(s))}function ko(s){for(;s.xh.length>0&&s.$h.size<s.Dh;){var r=s.xh.shift(),o=s.Bh.next();s.kh.set(o,new ul(r)),s.$h=s.$h.ot(r,o),go(s.ph,new sr(lr(Wo(r.path)),o,2,Qr.ai))}}function Ji(s,r,o){return d.__awaiter(this,void 0,void 0,function(){var f,g,w,D;return d.__generator(this,function(T){switch(T.label){case 0:return f=ke(s),g=[],w=[],D=[],f.Nh.m()?[3,3]:(f.Nh.forEach(function(R,W){D.push(f.Qh(W,r,o).then(function(ee){if(ee){f.Uh&&f.Sh.Qi(W.targetId,ee.fromCache?"not-current":"current"),g.push(ee);var fe=Es.zr(W.targetId,ee);w.push(fe)}}))}),[4,Promise.all(D)]);case 1:return T.sent(),f.Ch.yu(g),[4,function(R,W){return d.__awaiter(this,void 0,void 0,function(){var ee,fe,ue,Ee,Fe,qe,yt,Nt;return d.__generator(this,function(Yt){switch(Yt.label){case 0:ee=ke(R),Yt.label=1;case 1:return Yt.trys.push([1,3,,4]),[4,ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(gn){return nt.forEach(W,function(Gn){return nt.forEach(Gn.Kr,function(Wn){return ee.persistence.No.Da(gn,Gn.targetId,Wn)}).next(function(){return nt.forEach(Gn.Gr,function(Wn){return ee.persistence.No.Na(gn,Gn.targetId,Wn)})})})})];case 2:return Yt.sent(),[3,4];case 3:if(!Ri(fe=Yt.sent()))throw fe;return se("LocalStore","Failed to update sequence numbers: "+fe),[3,4];case 4:for(ue=0,Ee=W;ue<Ee.length;ue++)qe=(Fe=Ee[ue]).targetId,Fe.fromCache||(yt=ee.bc.get(qe),Nt=yt.rt(yt.nt),ee.bc=ee.bc.ot(qe,Nt));return[2]}})})}(f.ju,w)];case 2:T.sent(),T.label=3;case 3:return[2]}})})}function ll(s,r){return d.__awaiter(this,void 0,void 0,function(){var o,f;return d.__generator(this,function(g){switch(g.label){case 0:return(o=ke(s)).currentUser.isEqual(r)?[3,3]:(se("SyncEngine","User change. New user:",r.ti()),[4,function(w,D){return d.__awaiter(this,void 0,void 0,function(){var T,R,W,ee;return d.__generator(this,function(fe){switch(fe.label){case 0:return T=ke(w),R=T.Sr,W=T.Cc,[4,T.persistence.runTransaction("Handle user change","readonly",function(ue){var Ee;return T.Sr.Uo(ue).next(function(Fe){return Ee=Fe,R=T.persistence.mc(D),W=new So(T.Dc,R,T.persistence.Ic()),R.Uo(ue)}).next(function(Fe){for(var qe=[],yt=[],gt=rn(),Nt=0,Yt=Ee;Nt<Yt.length;Nt++){var gn=Yt[Nt];qe.push(gn.batchId);for(var Gn=0,Wn=gn.mutations;Gn<Wn.length;Gn++)gt=gt.add(Wn[Gn].key)}for(var Uo=0,ga=Fe;Uo<ga.length;Uo++){var fu=ga[Uo];yt.push(fu.batchId);for(var Ns=0,ac=fu.mutations;Ns<ac.length;Ns++)gt=gt.add(ac[Ns].key)}return W.kr(ue,gt).next(function(Cl){return{jh:Cl,Kh:qe,Gh:yt}})})})];case 1:return ee=fe.sent(),[2,(T.Sr=R,T.Cc=W,T.Vc.Nc(T.Cc),ee)]}})})}(o.ju,r)]);case 1:return f=g.sent(),o.currentUser=r,(w=o).Lh.forEach(function(T){T.forEach(function(R){R.reject(new Q(V.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),w.Lh.clear(),o.Sh.ji(r,f.Kh,f.Gh),[4,Ji(o,f.jh)];case 2:g.sent(),g.label=3;case 3:return[2]}var w})})}function fl(s,r){var o=ke(s),f=o.kh.get(r);if(f&&f.Vh)return rn().add(f.key);var g=rn(),w=o.Fh.get(r);if(!w)return g;for(var D=0,T=w;D<T.length;D++){var W=o.Nh.get(T[D]);g=g.kt(W.view.dh)}return g}function Ql(s,r){return d.__awaiter(this,void 0,void 0,function(){var o,f,g;return d.__generator(this,function(w){switch(w.label){case 0:return[4,Gs((o=ke(s)).ju,r.query,!0)];case 1:return f=w.sent(),g=r.view.Ph(f),[2,(o.Uh&&iu(o,r.targetId,g.Rh),g)]}})})}function hl(s,r,o,f){return d.__awaiter(this,void 0,void 0,function(){var g,w;return d.__generator(this,function(D){switch(D.label){case 0:return[4,(T=(g=ke(s)).ju,R=r,W=ke(T),ee=ke(W.Sr),W.persistence.runTransaction("Lookup mutation documents","readonly",function(fe){return ee.Lo(fe,R).next(function(ue){return ue?W.Cc.kr(fe,ue):nt.resolve(null)})}))];case 1:return null===(w=D.sent())?[3,6]:"pending"!==o?[3,3]:[4,fi(g.ph)];case 2:return D.sent(),[3,4];case 3:"acknowledged"===o||"rejected"===o?(Yu(g,r,f||null),Ts(g,r),function(T,R){ke(ke(T).Sr).Ko(R)}(g.ju,r)):Re(),D.label=4;case 4:return[4,Ji(g,w)];case 5:return D.sent(),[3,7];case 6:se("SyncEngine","Cannot apply mutation batch with id: "+r),D.label=7;case 7:return[2]}var T,R,W,ee})})}function Dc(s,r){return d.__awaiter(this,void 0,void 0,function(){var o,f,g,w,D,R,W;return d.__generator(this,function(ee){switch(ee.label){case 0:return Ju(o=ke(s)),Ra(o),!0!==r||!0===o.qh?[3,3]:(f=o.Sh.Ci(),[4,Ss(o,f.A())]);case 1:return g=ee.sent(),o.qh=!0,[4,ns(o.ph,!0)];case 2:for(ee.sent(),w=0,D=g;w<D.length;w++)go(o.ph,D[w]);return[3,7];case 3:return!1!==r||!1===o.qh?[3,7]:(R=[],W=Promise.resolve(),o.Fh.forEach(function(fe,ue){o.Sh.qi(ue)?R.push(ue):W=W.then(function(){return $s(o,ue),xo(o.ju,ue,!0)}),qs(o.ph,ue)}),[4,W]);case 4:return ee.sent(),[4,Ss(o,R)];case 5:return ee.sent(),(ue=ke(o)).kh.forEach(function(Ee,Fe){qs(ue.ph,Fe)}),ue.Mh.Qc(),ue.kh=new Map,ue.$h=new $t(F.i),o.qh=!1,[4,ns(o.ph,!1)];case 6:ee.sent(),ee.label=7;case 7:return[2]}var ue})})}function Ss(s,r,o){return d.__awaiter(this,void 0,void 0,function(){var f,g,w,D,T,R,W,ee,fe,ue,Fe,qe,yt;return d.__generator(this,function(gt){switch(gt.label){case 0:f=ke(s),g=[],w=[],D=0,T=r,gt.label=1;case 1:return D<T.length?(W=void 0,(ee=f.Fh.get(R=T[D]))&&0!==ee.length?[4,Oa(f.ju,lr(ee[0]))]:[3,7]):[3,13];case 2:W=gt.sent(),fe=0,ue=ee,gt.label=3;case 3:return fe<ue.length?(Fe=f.Nh.get(ue[fe]),[4,Ql(f,Fe)]):[3,6];case 4:(qe=gt.sent()).snapshot&&w.push(qe.snapshot),gt.label=5;case 5:return fe++,[3,3];case 6:return[3,11];case 7:return[4,nl(f.ju,R)];case 8:return yt=gt.sent(),[4,Oa(f.ju,yt)];case 9:return W=gt.sent(),[4,eu(f,Hn(yt),R,!1)];case 10:gt.sent(),gt.label=11;case 11:g.push(W),gt.label=12;case 12:return D++,[3,1];case 13:return[2,(f.Ch.yu(w),g)]}})})}function Hn(s){return xi(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function Cc(s){var r=ke(s);return ke(ke(r.ju).persistence).pi()}function Rf(s,r,o,f){return d.__awaiter(this,void 0,void 0,function(){var g,w,D;return d.__generator(this,function(T){switch(T.label){case 0:return(g=ke(s)).qh?(se("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!g.Fh.has(r))return[3,8];switch(o){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Nf(g.ju)];case 3:return w=T.sent(),D=Rs.Xt(r,"current"===o),[4,Ji(g,w,D)];case 4:return T.sent(),[3,8];case 5:return[4,xo(g.ju,r,!0)];case 6:return T.sent(),$s(g,r,f),[3,8];case 7:Re(),T.label=8;case 8:return[2]}})})}function Ff(s,r,o){return d.__awaiter(this,void 0,void 0,function(){var f,g,w,D,T,R,W,ee,fe;return d.__generator(this,function(Ee){switch(Ee.label){case 0:if(!(f=Ju(s)).qh)return[3,10];g=0,w=r,Ee.label=1;case 1:return g<w.length?f.Fh.has(D=w[g])?(se("SyncEngine","Adding an already active target "+D),[3,5]):[4,nl(f.ju,D)]:[3,6];case 2:return T=Ee.sent(),[4,Oa(f.ju,T)];case 3:return R=Ee.sent(),[4,eu(f,Hn(T),R.targetId,!1)];case 4:Ee.sent(),go(f.ph,R),Ee.label=5;case 5:return g++,[3,1];case 6:W=function(Fe){return d.__generator(this,function(qe){switch(qe.label){case 0:return f.Fh.has(Fe)?[4,xo(f.ju,Fe,!1).then(function(){qs(f.ph,Fe),$s(f,Fe)}).catch(li)]:[3,2];case 1:qe.sent(),qe.label=2;case 2:return[2]}})},ee=0,fe=o,Ee.label=7;case 7:return ee<fe.length?[5,W(fe[ee])]:[3,10];case 8:Ee.sent(),Ee.label=9;case 9:return ee++,[3,7];case 10:return[2]}})})}function Ju(s){var r=ke(s);return r.ph.Gu.sh=nu.bind(null,r),r.ph.Gu.qe=fl.bind(null,r),r.ph.Gu.nh=Ku.bind(null,r),r.Ch.yu=Nr.bind(null,r.bh),r.Ch.Wh=Ha.bind(null,r.bh),r}function Ra(s){var r=ke(s);return r.ph.Gu.ih=cl.bind(null,r),r.ph.Gu.rh=Ec.bind(null,r),r}var ou=function(){function s(){}return s.prototype.Nc=function(r){this.zh=r},s.prototype.Lr=function(r,o,f,g){var D,w=this;return 0===(D=o).filters.length&&null===D.limit&&null==D.startAt&&null==D.endAt&&(0===D.on.length||1===D.on.length&&D.on[0].field.p())||f.isEqual(st.min())?this.Hh(r,o):this.zh.kr(r,g).next(function(D){var T=w.Yh(o,D);return(fo(o)||Mt(o))&&w.Eh(o.an,T,g,f)?w.Hh(r,o):(De()<=Ae.LogLevel.DEBUG&&se("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),pn(o)),w.zh.Lr(r,o,f).next(function(R){return T.forEach(function(W){R=R.ot(W.key,W)}),R}))})},s.prototype.Yh=function(r,o){var f=new Un(Mr(r));return o.forEach(function(g,w){w instanceof xt&&wn(r,w)&&(f=f.add(w))}),f},s.prototype.Eh=function(r,o,f,g){if(f.size!==o.size)return!0;var w="F"===r?o.last():o.first();return!!w&&(w.hasPendingWrites||w.version.L(g)>0)},s.prototype.Hh=function(r,o){return De()<=Ae.LogLevel.DEBUG&&se("IndexFreeQueryEngine","Using full collection scan to execute query:",pn(o)),this.zh.Lr(r,o,st.min())},s}(),rs=function(){function s(r,o){this.Dr=r,this.No=o,this.Sr=[],this.Jh=1,this.Xh=new Un(ei.kc)}return s.prototype.$o=function(r){return nt.resolve(0===this.Sr.length)},s.prototype.ko=function(r,o,f,g){var w=this.Jh;this.Jh++;var D=new gc(w,o,f,g);this.Sr.push(D);for(var T=0,R=g;T<R.length;T++){var W=R[T];this.Xh=this.Xh.add(new ei(W.key,w)),this.Dr.Mo(r,W.key.path.h())}return nt.resolve(D)},s.prototype.Oo=function(r,o){return nt.resolve(this.Zh(o))},s.prototype.Bo=function(r,o){var g=this.tl(o+1),w=g<0?0:g;return nt.resolve(this.Sr.length>w?this.Sr[w]:null)},s.prototype.qo=function(){return nt.resolve(0===this.Sr.length?-1:this.Jh-1)},s.prototype.Uo=function(r){return nt.resolve(this.Sr.slice())},s.prototype.Nr=function(r,o){var f=this,g=new ei(o,0),w=new ei(o,Number.POSITIVE_INFINITY),D=[];return this.Xh.Ft([g,w],function(T){var R=f.Zh(T.jc);D.push(R)}),nt.resolve(D)},s.prototype.Or=function(r,o){var f=this,g=new Un(vt);return o.forEach(function(w){var D=new ei(w,0),T=new ei(w,Number.POSITIVE_INFINITY);f.Xh.Ft([D,T],function(R){g=g.add(R.jc)})}),nt.resolve(this.el(g))},s.prototype.Wr=function(r,o){var f=o.path,g=f.length+1,w=f;F.F(w)||(w=w.child(""));var D=new ei(new F(w),0),T=new Un(vt);return this.Xh.xt(function(R){var W=R.key.path;return!!f.T(W)&&(W.length===g&&(T=T.add(R.jc)),!0)},D),nt.resolve(this.el(T))},s.prototype.el=function(r){var o=this,f=[];return r.forEach(function(g){var w=o.Zh(g);null!==w&&f.push(w)}),f},s.prototype.Wo=function(r,o){var f=this;Ue(0===this.nl(o.batchId,"removed")),this.Sr.shift();var g=this.Xh;return nt.forEach(o.mutations,function(w){var D=new ei(w.key,o.batchId);return g=g.delete(D),f.No.Go(r,w.key)}).next(function(){f.Xh=g})},s.prototype.Ko=function(r){},s.prototype.Ho=function(r,o){var f=new ei(o,0),g=this.Xh.$t(f);return nt.resolve(o.isEqual(g&&g.key))},s.prototype.zo=function(r){return nt.resolve()},s.prototype.nl=function(r,o){return this.tl(r)},s.prototype.tl=function(r){return 0===this.Sr.length?0:r-this.Sr[0].batchId},s.prototype.Zh=function(r){var o=this.tl(r);return o<0||o>=this.Sr.length?null:this.Sr[o]},s}(),Xl=function(){function s(r,o){this.Dr=r,this.sl=o,this.docs=new $t(F.i),this.size=0}return s.prototype.Er=function(r,o,f){var g=o.key,w=this.docs.get(g),D=w?w.size:0,T=this.sl(o);return this.docs=this.docs.ot(g,{ta:o,size:T,readTime:f}),this.size+=T-D,this.Dr.Mo(r,g.path.h())},s.prototype.Ar=function(r){var o=this.docs.get(r);o&&(this.docs=this.docs.remove(r),this.size-=o.size)},s.prototype.Rr=function(r,o){var f=this.docs.get(o);return nt.resolve(f?f.ta:null)},s.prototype.getEntries=function(r,o){var f=this,g=gr();return o.forEach(function(w){var D=f.docs.get(w);g=g.ot(w,D?D.ta:null)}),nt.resolve(g)},s.prototype.Lr=function(r,o,f){for(var g=$r(),w=new F(o.path.child("")),D=this.docs.ft(w);D.At();){var T=D.It(),W=T.value,ee=W.ta,fe=W.readTime;if(!o.path.T(T.key.path))break;fe.L(f)<=0||ee instanceof xt&&wn(o,ee)&&(g=g.ot(ee.key,ee))}return nt.resolve(g)},s.prototype.il=function(r,o){return nt.forEach(this.docs,function(f){return o(f)})},s.prototype.ra=function(r){return new is(this)},s.prototype.aa=function(r){return nt.resolve(this.size)},s}(),is=function(s){function r(o){var f=this;return(f=s.call(this)||this).ca=o,f}return d.__extends(r,s),r.prototype.yr=function(o){var f=this,g=[];return this.wr.forEach(function(w,D){D?g.push(f.ca.Er(o,D,f.readTime)):f.ca.Ar(w)}),nt.$n(g)},r.prototype.gr=function(o,f){return this.ca.Rr(o,f)},r.prototype.Pr=function(o,f){return this.ca.getEntries(o,f)},r}(qr),Ic=function(){function s(r){this.persistence=r,this.rl=new jn(function(o){return lt(o)},dt),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.ol=0,this.al=new Na,this.targetCount=0,this.cl=Bu.fa()}return s.prototype.Ce=function(r,o){return this.rl.forEach(function(f,g){return o(g)}),nt.resolve()},s.prototype.Ea=function(r){return nt.resolve(this.lastRemoteSnapshotVersion)},s.prototype.Ia=function(r){return nt.resolve(this.ol)},s.prototype.wa=function(r){return this.highestTargetId=this.cl.next(),nt.resolve(this.highestTargetId)},s.prototype.Aa=function(r,o,f){return f&&(this.lastRemoteSnapshotVersion=f),o>this.ol&&(this.ol=o),nt.resolve()},s.prototype.ga=function(r){this.rl.set(r.target,r);var o=r.targetId;o>this.highestTargetId&&(this.cl=new Bu(o),this.highestTargetId=o),r.sequenceNumber>this.ol&&(this.ol=r.sequenceNumber)},s.prototype.Ra=function(r,o){return this.ga(o),this.targetCount+=1,nt.resolve()},s.prototype.ya=function(r,o){return this.ga(o),nt.resolve()},s.prototype.Va=function(r,o){return this.rl.delete(o.target),this.al.Uc(o.targetId),this.targetCount-=1,nt.resolve()},s.prototype.po=function(r,o,f){var g=this,w=0,D=[];return this.rl.forEach(function(T,R){R.sequenceNumber<=o&&null===f.get(R.targetId)&&(g.rl.delete(T),D.push(g.pa(r,R.targetId)),w++)}),nt.$n(D).next(function(){return w})},s.prototype.ba=function(r){return nt.resolve(this.targetCount)},s.prototype.va=function(r,o){var f=this.rl.get(o)||null;return nt.resolve(f)},s.prototype.Sa=function(r,o,f){return this.al.Lc(o,f),nt.resolve()},s.prototype.Ca=function(r,o,f){this.al.qc(o,f);var g=this.persistence.No,w=[];return g&&o.forEach(function(D){w.push(g.Go(r,D))}),nt.$n(w)},s.prototype.pa=function(r,o){return this.al.Uc(o),nt.resolve()},s.prototype.Fa=function(r,o){var f=this.al.Wc(o);return nt.resolve(f)},s.prototype.Ho=function(r,o){return nt.resolve(this.al.Ho(o))},s}(),lh=function(){function s(r){var o=this;this.ul={},this.Ma=new Qr(0),this.Oa=!1,this.Oa=!0,this.No=r(this),this.Ka=new Ic(this),this.Dr=new ju,this.vr=new Xl(this.Dr,function(w){return o.No.hl(w)})}return s.prototype.start=function(){return Promise.resolve()},s.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(s.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),s.prototype.Za=function(){},s.prototype.tc=function(){},s.prototype.Ic=function(){return this.Dr},s.prototype.mc=function(r){var o=this.ul[r.ti()];return o||(o=new rs(this.Dr,this.No),this.ul[r.ti()]=o),o},s.prototype.Tc=function(){return this.Ka},s.prototype.Ec=function(){return this.vr},s.prototype.runTransaction=function(r,o,f){var g=this;se("MemoryPersistence","Starting transaction:",r);var w=new fh(this.Ma.next());return this.No.ll(),f(w).next(function(D){return g.No._l(w).next(function(){return D})}).Fn().then(function(D){return w.br(),D})},s.prototype.fl=function(r,o){return nt.kn(Object.values(this.ul).map(function(f){return function(){return f.Ho(r,o)}}))},s}(),fh=function(s){function r(o){var f=this;return(f=s.call(this)||this).xa=o,f}return d.__extends(r,s),r}(Ou),hh=function(){function s(r){this.persistence=r,this.dl=new Na,this.wl=null}return s.ml=function(r){return new s(r)},Object.defineProperty(s.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw Re()},enumerable:!1,configurable:!0}),s.prototype.Da=function(r,o,f){return this.dl.Da(f,o),this.Tl.delete(f.toString()),nt.resolve()},s.prototype.Na=function(r,o,f){return this.dl.Na(f,o),this.Tl.add(f.toString()),nt.resolve()},s.prototype.Go=function(r,o){return this.Tl.add(o.toString()),nt.resolve()},s.prototype.removeTarget=function(r,o){var f=this;this.dl.Uc(o.targetId).forEach(function(w){return f.Tl.add(w.toString())});var g=this.persistence.Tc();return g.Fa(r,o.targetId).next(function(w){w.forEach(function(D){return f.Tl.add(D.toString())})}).next(function(){return g.Va(r,o)})},s.prototype.ll=function(){this.wl=new Set},s.prototype._l=function(r){var o=this,f=this.persistence.Ec().ra();return nt.forEach(this.Tl,function(g){var w=F.D(g);return o.El(r,w).next(function(D){D||f.Ar(w)})}).next(function(){return o.wl=null,f.apply(r)})},s.prototype.yc=function(r,o){var f=this;return this.El(r,o).next(function(g){g?f.Tl.delete(o.toString()):f.Tl.add(o.toString())})},s.prototype.hl=function(r){return 0},s.prototype.El=function(r,o){var f=this;return nt.kn([function(){return nt.resolve(f.dl.Ho(o))},function(){return f.persistence.Tc().Ho(r,o)},function(){return f.persistence.fl(r,o)}])},s}(),Yh=function(){function s(r){this.Il=r.Il,this.Al=r.Al}return s.prototype.gu=function(r){this.Rl=r},s.prototype.Tu=function(r){this.gl=r},s.prototype.onMessage=function(r){this.Pl=r},s.prototype.close=function(){this.Al()},s.prototype.send=function(r){this.Il(r)},s.prototype.yl=function(){this.Rl()},s.prototype.Vl=function(r){this.gl(r)},s.prototype.pl=function(r){this.Pl(r)},s}(),Zh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Jh=function(s){function r(o){var f=this;return(f=s.call(this,o)||this).forceLongPolling=o.forceLongPolling,f.W=o.W,f}return d.__extends(r,s),r.prototype.Nl=function(o,f,g,w){return new Promise(function(D,T){var R=new je.XhrIo;R.listenOnce(je.EventType.COMPLETE,function(){try{switch(R.getLastErrorCode()){case je.ErrorCode.NO_ERROR:var ee=R.getResponseJson();se("Connection","XHR received:",JSON.stringify(ee)),D(ee);break;case je.ErrorCode.TIMEOUT:se("Connection",'RPC "'+o+'" timed out'),T(new Q(V.DEADLINE_EXCEEDED,"Request time out"));break;case je.ErrorCode.HTTP_ERROR:var fe=R.getStatus();if(se("Connection",'RPC "'+o+'" failed with status:',fe,"response text:",R.getResponseText()),fe>0){var ue=R.getResponseJson().error;if(ue&&ue.status&&ue.message){var Ee=(qe=ue.status.toLowerCase().replace("_","-"),Object.values(V).indexOf(qe)>=0?qe:V.UNKNOWN);T(new Q(Ee,ue.message))}else T(new Q(V.UNKNOWN,"Server responded with status "+R.getStatus()))}else T(new Q(V.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{se("Connection",'RPC "'+o+'" completed.')}var qe});var W=JSON.stringify(w);R.send(f,"POST",W,g,15)})},r.prototype.Pu=function(o,f){var g=[this.vl,"/","google.firestore.v1.Firestore","/",o,"/channel"],w=je.createWebChannelTransport(),D={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(D.initMessageHeaders,f),ae.isMobileCordova()||ae.isReactNative()||ae.isElectron()||ae.isIE()||ae.isUWP()||ae.isBrowserExtension()||(D.httpHeadersOverwriteParam="$httpHeaders");var T=g.join("");se("Connection","Creating WebChannel: "+T,D);var R=w.createWebChannel(T,D),W=!1,ee=!1,fe=new Yh({Il:function(Ee){ee?se("Connection","Not sending because WebChannel is closed:",Ee):(W||(se("Connection","Opening WebChannel transport."),R.open(),W=!0),se("Connection","WebChannel sending:",Ee),R.send(Ee))},Al:function(){return R.close()}}),ue=function(Ee,Fe){R.listen(Ee,function(qe){try{Fe(qe)}catch(yt){setTimeout(function(){throw yt},0)}})};return ue(je.WebChannel.EventType.OPEN,function(){ee||se("Connection","WebChannel transport opened.")}),ue(je.WebChannel.EventType.CLOSE,function(){ee||(ee=!0,se("Connection","WebChannel transport closed"),fe.Vl())}),ue(je.WebChannel.EventType.ERROR,function(Ee){ee||(ee=!0,ze("Connection","WebChannel transport errored:",Ee),fe.Vl(new Q(V.UNAVAILABLE,"The operation could not be completed")))}),ue(je.WebChannel.EventType.MESSAGE,function(Ee){var Fe;if(!ee){var qe=Ee.data[0];Ue(!!qe);var gt=qe.error||(null===(Fe=qe[0])||void 0===Fe?void 0:Fe.error);if(gt){se("Connection","WebChannel received error:",gt);var Nt=gt.status,Yt=function(Gn){var Wn=Pt[Gn];if(void 0!==Wn)return ar(Wn)}(Nt),gn=gt.message;void 0===Yt&&(Yt=V.INTERNAL,gn="Unknown error status: "+Nt+" with message "+gt.message),ee=!0,fe.Vl(new Q(Yt,gn)),R.close()}else se("Connection","WebChannel received:",qe),fe.pl(qe)}}),setTimeout(function(){fe.yl()},0),fe},r}(function(){function s(r){this.bl=r,this.U=r.U,this.vl=(r.ssl?"https":"http")+"://"+r.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return s.prototype.$u=function(r,o,f,g){var w=this.Dl(r,o);se("RestConnection","Sending: ",w,f);var D={};return this.Cl(D,g),this.Nl(r,w,D,f).then(function(T){return se("RestConnection","Received: ",T),T},function(T){throw ze("RestConnection",r+" failed with error: ",T,"url: ",w,"request:",f),T})},s.prototype.ku=function(r,o,f,g){return this.$u(r,o,f,g)},s.prototype.Cl=function(r,o){if(r["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",r["Content-Type"]="text/plain",o)for(var f in o.Kc)o.Kc.hasOwnProperty(f)&&(r[f]=o.Kc[f])},s.prototype.Dl=function(r,o){return this.vl+"/v1/"+o+":"+Zh[r]},s}()),su=function(){function s(){var r=this;this.Fl=function(){return r.xl()},this.$l=function(){return r.kl()},this.Ml=[],this.Ol()}return s.prototype.Zu=function(r){this.Ml.push(r)},s.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},s.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},s.prototype.xl=function(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var r=0,o=this.Ml;r<o.length;r++)(0,o[r])(0)},s.prototype.kl=function(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var r=0,o=this.Ml;r<o.length;r++)(0,o[r])(1)},s.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},s}(),Ac=function(){function s(){}return s.prototype.Zu=function(r){},s.prototype.Di=function(){},s}();function ua(s){return new yr(s,!0)}var dl="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",ef=function(){function s(){}return s.prototype.initialize=function(r){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(o){switch(o.label){case 0:return this.Sh=this.Ll(r),this.persistence=this.Bl(r),[4,this.persistence.start()];case 1:return o.sent(),this.ql=this.Ul(r),this.ju=this.Ql(r),[2]}})})},s.prototype.Ul=function(r){return null},s.prototype.Ql=function(r){return o=this.persistence,f=new ou,new Vi(o,f,r.Wl);var o,f},s.prototype.Bl=function(r){if(r.persistenceSettings.jl)throw new Q(V.FAILED_PRECONDITION,dl);return new lh(hh.ml)},s.prototype.Ll=function(r){return new Qs},s.prototype.terminate=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(r){switch(r.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return r.sent(),[4,this.persistence.Di()];case 2:return r.sent(),[2]}})})},s.prototype.clearPersistence=function(r,o){throw new Q(V.FAILED_PRECONDITION,dl)},s}(),Lo=function(s){function r(){return null!==s&&s.apply(this,arguments)||this}return d.__extends(r,s),r.prototype.initialize=function(o){return d.__awaiter(this,void 0,void 0,function(){var f,g=this;return d.__generator(this,function(w){switch(w.label){case 0:return[4,s.prototype.initialize.call(this,o)];case 1:return w.sent(),f=this.Kl.fi,this.Sh instanceof Mu?(this.Sh.fi={er:hl.bind(null,f),nr:Rf.bind(null,f),sr:Ff.bind(null,f),pi:Cc.bind(null,f)},[4,this.Sh.start()]):[3,3];case 2:w.sent(),w.label=3;case 3:return[4,this.persistence.Xa(function(D){return d.__awaiter(g,void 0,void 0,function(){return d.__generator(this,function(T){switch(T.label){case 0:return[4,Dc(this.Kl.fi,D)];case 1:return T.sent(),this.ql&&(D&&!this.ql.Ei?this.ql.start(this.ju):D||this.ql.stop()),[2]}})})})];case 4:return w.sent(),[2]}})})},r.prototype.Ll=function(o){if(o.persistenceSettings.jl&&o.persistenceSettings.synchronizeTabs){var f=L();if(!Mu.Ln(f))throw new Q(V.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var g=vc(o.bl.U,o.bl.persistenceKey);return new Mu(f,o.cs,g,o.clientId,o.Wl)}return new Qs},r}(function(s){function r(o){var f=this;return(f=s.call(this)||this).Kl=o,f}return d.__extends(r,s),r.prototype.initialize=function(o){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(f){switch(f.label){case 0:return[4,s.prototype.initialize.call(this,o)];case 1:return f.sent(),[4,yc(this.ju)];case 2:return f.sent(),[4,this.Kl.initialize(this,o)];case 3:return f.sent(),[4,Ra(this.Kl.fi)];case 4:return f.sent(),[4,fi(this.Kl.ph)];case 5:return f.sent(),[2]}})})},r.prototype.Ul=function(o){return new Nu(this.persistence.No.wo,o.cs)},r.prototype.Bl=function(o){var f=vc(o.bl.U,o.bl.persistenceKey),g=ua(o.bl.U);return new Ei(o.persistenceSettings.synchronizeTabs,f,o.clientId,zn.ao(o.persistenceSettings.cacheSizeBytes),o.cs,L(),X(),g,this.Sh,o.persistenceSettings.ka)},r.prototype.Ll=function(o){return new Qs},r.prototype.clearPersistence=function(o,f){return function(g){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(D){switch(D.label){case 0:return To.Ln()?[4,To.delete(g+"main")]:[2,Promise.resolve()];case 1:return D.sent(),[2]}})})}(vc(o,f))},r}(ef)),mo=function(){function s(){}return s.prototype.initialize=function(r,o){return d.__awaiter(this,void 0,void 0,function(){var f=this;return d.__generator(this,function(g){switch(g.label){case 0:return this.ju?[3,2]:(this.ju=r.ju,this.Sh=r.Sh,this.Ku=this.Gl(o),this.ph=this.zl(o),this.bh=this.Hl(o),this.fi=this.Yl(o),this.Sh.di=function(w){return ru(f.fi,w,1)},this.ph.Gu.Jl=ll.bind(null,this.fi),[4,ns(this.ph,this.fi.Uh)]);case 1:g.sent(),g.label=2;case 2:return[2]}})})},s.prototype.Hl=function(r){return new cn},s.prototype.Gl=function(r){var f=ua(r.bl.U),g=new Jh(r.bl);return new Is(r.credentials,g,f)},s.prototype.zl=function(r){var o,f,g,w,D,T=this;return o=this.ju,f=this.Ku,g=r.cs,w=function(R){return ru(T.fi,R,0)},D=su.Ln()?new su:new Ac,new xf(o,f,g,w,D)},s.prototype.Yl=function(r){return R=!r.persistenceSettings.jl||!r.persistenceSettings.synchronizeTabs,W=new aa(this.ju,this.ph,this.bh,this.Sh,r.Wl,r.Dh),R&&(W.qh=!0),W;var R,W},s.prototype.terminate=function(){return Pf(this.ph)},s}(),Ms=function(){function s(r){this.observer=r,this.muted=!1}return s.prototype.next=function(r){this.observer.next&&this.Xl(this.observer.next,r)},s.prototype.error=function(r){this.observer.error?this.Xl(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)},s.prototype.Zl=function(){this.muted=!0},s.prototype.Xl=function(r,o){var f=this;this.muted||setTimeout(function(){f.muted||r(o)},0)},s}(),ca=function(s){!function(o,f,g,w){if(!(f instanceof Array)||f.length<1)throw new Q(V.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+no(1,"element")+".")}(0,s);for(var r=0;r<s.length;++r)if(He("FieldPath","string",r,s[r]),0===s[r].length)throw new Q(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new A(s)},au=function(s){function r(){for(var o=[],f=0;f<arguments.length;f++)o[f]=arguments[f];return s.call(this,o)||this}return d.__extends(r,s),r.documentId=function(){return new r(A.v().R())},r.prototype.isEqual=function(o){if(!(o instanceof r))throw mn("isEqual","FieldPath",1,o);return this.t_.isEqual(o.t_)},r}(ca),Qu=new RegExp("[~\\*/\\[\\]]"),vo=function(s){this.e_=s},uu=function(s){function r(){return null!==s&&s.apply(this,arguments)||this}return d.__extends(r,s),r.prototype.n_=function(o){if(2!==o.s_)throw o.i_(1===o.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return o.We.push(o.path),null},r.prototype.isEqual=function(o){return o instanceof r},r}(vo);function cu(s,r,o){return new Vo({s_:3,r_:r.settings.r_,methodName:s.e_,o_:o},r.U,r.serializer,r.ignoreUndefinedProperties)}var Xu=function(s){function r(){return null!==s&&s.apply(this,arguments)||this}return d.__extends(r,s),r.prototype.n_=function(o){return new co(o.path,new qi)},r.prototype.isEqual=function(o){return o instanceof r},r}(vo),Cr=function(s){function r(o,f){var g=this;return(g=s.call(this,o)||this).a_=f,g}return d.__extends(r,s),r.prototype.n_=function(o){var f=cu(this,o,!0),g=this.a_.map(function(D){return jo(D,f)}),w=new Co(g);return new co(o.path,w)},r.prototype.isEqual=function(o){return this===o},r}(vo),ec=function(s){function r(o,f){var g=this;return(g=s.call(this,o)||this).a_=f,g}return d.__extends(r,s),r.prototype.n_=function(o){var f=cu(this,o,!0),g=this.a_.map(function(D){return jo(D,f)}),w=new zo(g);return new co(o.path,w)},r.prototype.isEqual=function(o){return this===o},r}(vo),tf=function(s){function r(o,f){var g=this;return(g=s.call(this,o)||this).c_=f,g}return d.__extends(r,s),r.prototype.n_=function(o){var f=new vs(o.serializer,tr(o.serializer,this.c_));return new co(o.path,f)},r.prototype.isEqual=function(o){return this===o},r}(vo),Tc=function(){function s(r,o){if(j("GeoPoint",arguments,2),He("GeoPoint","number",1,r),He("GeoPoint","number",2,o),!isFinite(r)||r<-90||r>90)throw new Q(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(o)||o<-180||o>180)throw new Q(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this.u_=r,this.h_=o}return Object.defineProperty(s.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(r){return this.u_===r.u_&&this.h_===r.h_},s.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},s.prototype.Y=function(r){return vt(this.u_,r.u_)||vt(this.h_,r.h_)},s}(),Sc=function(s){this.l_=s},Mc=/^__.*__$/,pl=function(s,r,o){this.__=s,this.f_=r,this.d_=o},nf=function(){function s(r,o,f){this.data=r,this.We=o,this.fieldTransforms=f}return s.prototype.w_=function(r,o){var f=[];return f.push(null!==this.We?new ot(r,this.data,this.We,o):new ct(r,this.data,o)),this.fieldTransforms.length>0&&f.push(new fn(r,this.fieldTransforms)),f},s}(),gl=function(){function s(r,o,f){this.data=r,this.We=o,this.fieldTransforms=f}return s.prototype.w_=function(r,o){var f=[new ot(r,this.data,this.We,o)];return this.fieldTransforms.length>0&&f.push(new fn(r,this.fieldTransforms)),f},s}();function tc(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}var Vo=function(){function s(r,o,f,g,w,D){this.settings=r,this.U=o,this.serializer=f,this.ignoreUndefinedProperties=g,void 0===w&&this.m_(),this.fieldTransforms=w||[],this.We=D||[]}return Object.defineProperty(s.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),s.prototype.T_=function(r){return new s(Object.assign(Object.assign({},this.settings),r),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},s.prototype.E_=function(r){var o,f=null===(o=this.path)||void 0===o?void 0:o.child(r),g=this.T_({path:f,o_:!1});return g.I_(r),g},s.prototype.A_=function(r){var o,f=null===(o=this.path)||void 0===o?void 0:o.child(r),g=this.T_({path:f,o_:!1});return g.m_(),g},s.prototype.R_=function(r){return this.T_({path:void 0,o_:!0})},s.prototype.i_=function(r){return Oc(r,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},s.prototype.contains=function(r){return void 0!==this.We.find(function(o){return r.T(o)})||void 0!==this.fieldTransforms.find(function(o){return r.T(o.field)})},s.prototype.m_=function(){if(this.path)for(var r=0;r<this.path.length;r++)this.I_(this.path.get(r))},s.prototype.I_=function(r){if(0===r.length)throw this.i_("Document fields must not be empty");if(tc(this.s_)&&Mc.test(r))throw this.i_('Document fields cannot begin and end with "__"')},s}(),ml=function(){function s(r,o,f){this.U=r,this.ignoreUndefinedProperties=o,this.serializer=f||ua(r)}return s.prototype.P_=function(r,o,f,g){return void 0===g&&(g=!1),new Vo({s_:r,methodName:o,r_:f,path:A.P(),o_:!1,g_:g},this.U,this.serializer,this.ignoreUndefinedProperties)},s}();function ji(s,r,o,f,g,w){void 0===w&&(w={});var D=s.P_(w.merge||w.mergeFields?2:0,r,o,g);fa("Data must be an object, but it was:",D,f);var T,R,W=Ir(f,D);if(w.merge)T=new Fn(D.We),R=D.fieldTransforms;else if(w.mergeFields){for(var ee=[],fe=0,ue=w.mergeFields;fe<ue.length;fe++){var Ee=ue[fe],Fe=void 0;if(Ee instanceof ca)Fe=Ee.t_;else{if("string"!=typeof Ee)throw Re();Fe=rc(r,Ee,o)}if(!D.contains(Fe))throw new Q(V.INVALID_ARGUMENT,"Field '"+Fe+"' is specified in your field mask but missing from your input data.");ic(ee,Fe)||ee.push(Fe)}T=new Fn(ee),R=D.fieldTransforms.filter(function(qe){return T.Ye(qe.field)})}else T=null,R=D.fieldTransforms;return new nf(new Sn(W),T,R)}function ti(s,r,o,f){var g=s.P_(1,r,o);fa("Data must be an object, but it was:",g,f);var w=[],D=new ci;$e(f,function(R,W){var ee=rc(r,R,o),fe=g.A_(ee);if(W instanceof uu||W instanceof Sc&&W.l_ instanceof uu)w.push(ee);else{var ue=jo(W,fe);null!=ue&&(w.push(ee),D.set(ee,ue))}});var T=new Fn(w);return new gl(D.Xe(),T,g.fieldTransforms)}function la(s,r,o,f,g,w){var D=s.P_(1,r,o),T=[lu(r,f,o)],R=[g];if(w.length%2!=0)throw new Q(V.INVALID_ARGUMENT,"Function "+r+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var W=0;W<w.length;W+=2)T.push(lu(r,w[W])),R.push(w[W+1]);for(var ee=[],fe=new ci,ue=T.length-1;ue>=0;--ue)if(!ic(ee,T[ue])){var Ee=T[ue],Fe=R[ue],qe=D.A_(Ee);if(Fe instanceof uu||Fe instanceof Sc&&Fe.l_ instanceof uu)ee.push(Ee);else{var yt=jo(Fe,qe);null!=yt&&(ee.push(Ee),fe.set(Ee,yt))}}var gt=new Fn(ee);return new gl(fe.Xe(),gt,D.fieldTransforms)}function nc(s,r,o,f){return void 0===f&&(f=!1),jo(o,s.P_(f?4:3,r))}function jo(s,r){if(s instanceof Sc&&(s=s.l_),Os(s))return fa("Unsupported field value:",r,s),Ir(s,r);if(s instanceof vo)return function(o,f){if(!tc(f.s_))throw f.i_(o.e_+"() can only be used with update() and set()");if(!f.path)throw f.i_(o.e_+"() is not currently supported inside arrays");var g=o.n_(f);g&&f.fieldTransforms.push(g)}(s,r),null;if(r.path&&r.We.push(r.path),s instanceof Array){if(r.settings.o_&&4!==r.s_)throw r.i_("Nested arrays are not supported");return function(o,f){for(var g=[],w=0,D=0,T=o;D<T.length;D++){var R=jo(T[D],f.R_(w));null==R&&(R={nullValue:"NULL_VALUE"}),g.push(R),w++}return{arrayValue:{values:g}}}(s,r)}return function(o,f){if(null===o)return{nullValue:"NULL_VALUE"};if("number"==typeof o)return tr(f.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){var g=On.fromDate(o);return{timestampValue:Rt(f.serializer,g)}}if(o instanceof On){var w=new On(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Rt(f.serializer,w)}}if(o instanceof Tc)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof dr)return{bytesValue:oi(f.serializer,o.q)};if(o instanceof pl){var D=f.U,T=o.__;if(!T.isEqual(D))throw f.i_("Document reference is for database "+T.projectId+"/"+T.database+" but should be for database "+D.projectId+"/"+D.database);return{referenceValue:Vr(o.__||f.U,o.f_.path)}}if(void 0===o&&f.ignoreUndefinedProperties)return null;throw f.i_("Unsupported field value: "+bn(o))}(s,r)}function Ir(s,r){var o={};return Ne(s)?r.path&&r.path.length>0&&r.We.push(r.path):$e(s,function(f,g){var w=jo(g,r.E_(f));null!=w&&(o[f]=w)}),{mapValue:{fields:o}}}function Os(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof On||s instanceof Tc||s instanceof dr||s instanceof pl||s instanceof vo)}function fa(s,r,o){if(!Os(o)||!Vn(o)){var f=bn(o);throw r.i_("an object"===f?s+" a custom object":s+" "+f)}}function lu(s,r,o){if(r instanceof ca)return r.t_;if("string"==typeof r)return rc(s,r);throw Oc("Field path arguments must be of type string or FieldPath.",s,!1,void 0,o)}function rc(s,r,o){try{return function(g){if(g.search(Qu)>=0)throw new Q(V.INVALID_ARGUMENT,"Invalid field path ("+g+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(au.bind.apply(au,d.__spreadArrays([void 0],g.split("."))))}catch(w){throw new Q(V.INVALID_ARGUMENT,"Invalid field path ("+g+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(r).t_}catch(g){throw Oc((f=g)instanceof Error?f.message:f.toString(),s,!1,void 0,o)}var f}function Oc(s,r,o,f,g){var w=f&&!f.m(),D=void 0!==g,T="Function "+r+"() called with invalid data";o&&(T+=" (via `toFirestore()`)");var R="";return(w||D)&&(R+=" (found",w&&(R+=" in field "+f),D&&(R+=" in document "+g),R+=")"),new Q(V.INVALID_ARGUMENT,(T+=". ")+s+R)}function ic(s,r){return s.some(function(o){return o.isEqual(r)})}var vl=function(){function s(r){this.Ku=r,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return s.prototype.v_=function(r){return d.__awaiter(this,void 0,void 0,function(){var o,f=this;return d.__generator(this,function(g){switch(g.label){case 0:if(this.S_(),this.mutations.length>0)throw new Q(V.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(w,D){return d.__awaiter(this,void 0,void 0,function(){var T,R,W,ee,fe,ue;return d.__generator(this,function(Ee){switch(Ee.label){case 0:return T=ke(w),R=ai(T.serializer)+"/documents",W={documents:D.map(function(Fe){return Vt(T.serializer,Fe)})},[4,T.ku("BatchGetDocuments",R,W)];case 1:return ee=Ee.sent(),fe=new Map,ee.forEach(function(Fe){var yt,gt,qe=(yt=T.serializer,"found"in(gt=Fe)?function(Nt,Yt){Ue(!!Yt.found);var gn=Rn(Nt,Yt.found.name),Gn=an(Yt.found.updateTime),Wn=new Sn({mapValue:{fields:Yt.found.fields}});return new xt(gn,Gn,Wn,{})}(yt,gt):"missing"in gt?function(Nt,Yt){Ue(!!Yt.missing),Ue(!!Yt.readTime);var gn=Rn(Nt,Yt.missing),Gn=an(Yt.readTime);return new on(gn,Gn)}(yt,gt):Re());fe.set(qe.key.toString(),qe)}),ue=[],[2,(D.forEach(function(Fe){var qe=fe.get(Fe.toString());Ue(!!qe),ue.push(qe)}),ue)]}})})}(this.Ku,r)];case 1:return[2,((o=g.sent()).forEach(function(w){w instanceof on||w instanceof xt?f.D_(w):Re()}),o)]}})})},s.prototype.set=function(r,o){this.write(o.w_(r,this.Ge(r))),this.b_.add(r.toString())},s.prototype.update=function(r,o){try{this.write(o.w_(r,this.C_(r)))}catch(f){this.p_=f}this.b_.add(r.toString())},s.prototype.delete=function(r){this.write([new Cn(r,this.Ge(r))]),this.b_.add(r.toString())},s.prototype.commit=function(){return d.__awaiter(this,void 0,void 0,function(){var r,o=this;return d.__generator(this,function(f){switch(f.label){case 0:if(this.S_(),this.p_)throw this.p_;return r=this.y_,this.mutations.forEach(function(g){r.delete(g.key.toString())}),r.forEach(function(g,w){var D=F.D(w);o.mutations.push(new Zn(D,o.Ge(D)))}),[4,function(g,w){return d.__awaiter(this,void 0,void 0,function(){var D,T,R;return d.__generator(this,function(W){switch(W.label){case 0:return D=ke(g),T=ai(D.serializer)+"/documents",R={writes:w.map(function(ee){return bt(D.serializer,ee)})},[4,D.$u("Commit",T,R)];case 1:return W.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return f.sent(),this.V_=!0,[2]}})})},s.prototype.D_=function(r){var o;if(r instanceof xt)o=r.version;else{if(!(r instanceof on))throw Re();o=st.min()}var f=this.y_.get(r.key.toString());if(f){if(!o.isEqual(f))throw new Q(V.ABORTED,"Document version changed between two reads.")}else this.y_.set(r.key.toString(),o)},s.prototype.Ge=function(r){var o=this.y_.get(r.toString());return!this.b_.has(r.toString())&&o?nr.updateTime(o):nr.ze()},s.prototype.C_=function(r){var o=this.y_.get(r.toString());if(!this.b_.has(r.toString())&&o){if(o.isEqual(st.min()))throw new Q(V.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nr.updateTime(o)}return nr.exists(!0)},s.prototype.write=function(r){this.S_(),this.mutations=this.mutations.concat(r)},s.prototype.S_=function(){},s}(),yl=function(){function s(r,o,f,g){this.cs=r,this.Ku=o,this.updateFunction=f,this.ls=g,this.N_=5,this.ys=new wi(this.cs,"transaction_retry")}return s.prototype.run=function(){this.F_()},s.prototype.F_=function(){var r=this;this.ys.gn(function(){return d.__awaiter(r,void 0,void 0,function(){var o,f,g=this;return d.__generator(this,function(w){return o=new vl(this.Ku),(f=this.x_(o))&&f.then(function(D){g.cs.ws(function(){return o.commit().then(function(){g.ls.resolve(D)}).catch(function(T){g.k_(T)})})}).catch(function(D){g.k_(D)}),[2]})})})},s.prototype.x_=function(r){try{var o=this.updateFunction(r);return!ve(o)&&o.catch&&o.then?o:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(f){return this.ls.reject(f),null}},s.prototype.k_=function(r){var o=this;this.N_>0&&this.M_(r)?(this.N_-=1,this.cs.ws(function(){return o.F_(),Promise.resolve()})):this.ls.reject(r)},s.prototype.M_=function(r){if("FirebaseError"===r.name){var o=r.code;return"aborted"===o||"failed-precondition"===o||!Qn(o)}return!1},s}(),_l=function(){function s(r,o){this.credentials=r,this.cs=o,this.clientId=An.k(),this.O_=new br}return s.prototype.start=function(r,o,f,g){var w=this;this.L_(),this.bl=r;var D=new br,T=!1;return this.credentials.Hc(function(R){if(!T)return T=!0,se("FirestoreClient","Initializing. user=",R.uid),w.B_(o,f,g,R,D).then(w.O_.resolve,w.O_.reject);w.cs.Cs(function(){return function(W,ee){return d.__awaiter(this,void 0,void 0,function(){var fe,ue;return d.__generator(this,function(Ee){switch(Ee.label){case 0:return(fe=ke(W)).cs.xs(),se("RemoteStore","RemoteStore received new credentials"),ue=Po(fe),fe.Yu.add(3),[4,ia(fe)];case 1:return Ee.sent(),ue&&fe.th.set("Unknown"),[4,fe.Gu.Jl(ee)];case 2:return Ee.sent(),fe.Yu.delete(3),[4,xn(fe)];case 3:return Ee.sent(),[2]}})})}(w.ph,R)})}),this.cs.ws(function(){return w.O_.promise}),D.promise},s.prototype.enableNetwork=function(){var r=this;return this.L_(),this.cs.enqueue(function(){return r.persistence.tc(!0),(f=ke(r.ph)).Yu.delete(0),xn(f);var f})},s.prototype.B_=function(r,o,f,g,w){return d.__awaiter(this,void 0,void 0,function(){var D,T,R=this;return d.__generator(this,function(W){switch(W.label){case 0:return W.trys.push([0,3,,4]),[4,r.initialize(D={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:g,Dh:100,persistenceSettings:f})];case 1:return W.sent(),[4,o.initialize(r,D)];case 2:return W.sent(),this.persistence=r.persistence,this.Sh=r.Sh,this.ju=r.ju,this.ql=r.ql,this.Ku=o.Ku,this.ph=o.ph,this.fi=o.fi,this.q_=o.bh,this.q_.Us=Wu.bind(null,this.fi),this.q_.js=tu.bind(null,this.fi),this.persistence.Za(function(){return d.__awaiter(R,void 0,void 0,function(){return d.__generator(this,function(ee){switch(ee.label){case 0:return[4,this.terminate()];case 1:return ee.sent(),[2]}})})}),w.resolve(),[3,4];case 3:if(T=W.sent(),w.reject(T),!this.U_(T))throw T;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+T),this.B_(new ef,new mo,{jl:!1},g,w))];case 4:return[2]}})})},s.prototype.U_=function(r){return"FirebaseError"===r.name?r.code===V.FAILED_PRECONDITION||r.code===V.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code},s.prototype.L_=function(){if(this.cs.ps)throw new Q(V.FAILED_PRECONDITION,"The client has already been terminated.")},s.prototype.disableNetwork=function(){var r=this;return this.L_(),this.cs.enqueue(function(){return r.persistence.tc(!1),function(o){return d.__awaiter(this,void 0,void 0,function(){var f;return d.__generator(this,function(g){switch(g.label){case 0:return(f=ke(o)).Yu.add(0),[4,ia(f)];case 1:return g.sent(),f.th.set("Offline"),[2]}})})}(r.ph)})},s.prototype.terminate=function(){var r=this;this.cs.Ds();var o=new br;return this.cs.bs(function(){return d.__awaiter(r,void 0,void 0,function(){var f,g;return d.__generator(this,function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Pf(this.ph)];case 1:return w.sent(),[4,this.Sh.Di()];case 2:return w.sent(),[4,this.persistence.Di()];case 3:return w.sent(),this.credentials.Yc(),o.resolve(),[3,5];case 4:return f=w.sent(),g=Xe(f,"Failed to shutdown persistence"),o.reject(g),[3,5];case 5:return[2]}})})}),o.promise},s.prototype.waitForPendingWrites=function(){var r=this;this.L_();var o=new br;return this.cs.ws(function(){return function(f,g){return d.__awaiter(this,void 0,void 0,function(){var w,D,T,R,W;return d.__generator(this,function(ee){switch(ee.label){case 0:Po((w=ke(f)).ph)||se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),ee.label=1;case 1:return ee.trys.push([1,3,,4]),[4,(fe=w.ju,ue=ke(fe),ue.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(Ee){return ue.Sr.qo(Ee)}))];case 2:return-1===(D=ee.sent())?[2,void g.resolve()]:((T=w.Lh.get(D)||[]).push(g),w.Lh.set(D,T),[3,4]);case 3:return R=ee.sent(),W=Xe(R,"Initialization of waitForPendingWrites() operation failed"),g.reject(W),[3,4];case 4:return[2]}var fe,ue})})}(r.fi,o)}),o.promise},s.prototype.listen=function(r,o,f){var g=this;this.L_();var w=new Ms(f),D=new xr(r,w,o);return this.cs.ws(function(){return Or(g.q_,D)}),function(){w.Zl(),g.cs.ws(function(){return Gr(g.q_,D)})}},s.prototype.Q_=function(r){return d.__awaiter(this,void 0,void 0,function(){var o,f=this;return d.__generator(this,function(g){switch(g.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return g.sent(),o=new br,[2,(this.cs.ws(function(){return function(w,D,T){return d.__awaiter(this,void 0,void 0,function(){var R,W,ee;return d.__generator(this,function(fe){switch(fe.label){case 0:return fe.trys.push([0,2,,3]),[4,(ue=w,Ee=D,Fe=ke(ue),Fe.persistence.runTransaction("read document","readonly",function(qe){return Fe.Cc.Cr(qe,Ee)}))];case 1:return(R=fe.sent())instanceof xt?T.resolve(R):R instanceof on?T.resolve(null):T.reject(new Q(V.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return W=fe.sent(),ee=Xe(W,"Failed to get document '"+D+" from cache"),T.reject(ee),[3,3];case 3:return[2]}var ue,Ee,Fe})})}(f.ju,r,o)}),o.promise)]}})})},s.prototype.W_=function(r,o){return void 0===o&&(o={}),d.__awaiter(this,void 0,void 0,function(){var f,g=this;return d.__generator(this,function(w){switch(w.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return w.sent(),f=new br,[2,(this.cs.ws(function(){return D=g.q_,T=g.cs,R=r,W=o,ee=f,fe=new Ms({next:function(Ee){T.ws(function(){return Gr(D,ue)});var Fe=Ee.docs.has(R);!Fe&&Ee.fromCache?ee.reject(new Q(V.UNAVAILABLE,"Failed to get document because the client is offline.")):Fe&&Ee.fromCache&&W&&"server"===W.source?ee.reject(new Q(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ee.resolve(Ee)},error:function(Ee){return ee.reject(Ee)}}),ue=new xr(Wo(R.path),fe,{includeMetadataChanges:!0,Xs:!0}),Or(D,ue);var D,T,R,W,ee,fe,ue}),f.promise)]}})})},s.prototype.j_=function(r){return d.__awaiter(this,void 0,void 0,function(){var o,f=this;return d.__generator(this,function(g){switch(g.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return g.sent(),o=new br,[2,(this.cs.ws(function(){return function(w,D,T){return d.__awaiter(this,void 0,void 0,function(){var R,W,ee,fe,ue,Ee;return d.__generator(this,function(Fe){switch(Fe.label){case 0:return Fe.trys.push([0,2,,3]),[4,Gs(w,D,!0)];case 1:return R=Fe.sent(),W=new Zl(D,R.Fc),ee=W.wh(R.documents),fe=W.yr(ee,!1),T.resolve(fe.snapshot),[3,3];case 2:return ue=Fe.sent(),Ee=Xe(ue,"Failed to execute query '"+D+" against cache"),T.reject(Ee),[3,3];case 3:return[2]}})})}(f.ju,r,o)}),o.promise)]}})})},s.prototype.K_=function(r,o){return void 0===o&&(o={}),d.__awaiter(this,void 0,void 0,function(){var f,g=this;return d.__generator(this,function(w){switch(w.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return w.sent(),f=new br,[2,(this.cs.ws(function(){return D=g.q_,T=g.cs,R=r,W=o,ee=f,fe=new Ms({next:function(Ee){T.ws(function(){return Gr(D,ue)}),Ee.fromCache&&"server"===W.source?ee.reject(new Q(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ee.resolve(Ee)},error:function(Ee){return ee.reject(Ee)}}),ue=new xr(R,fe,{includeMetadataChanges:!0,Xs:!0}),Or(D,ue);var D,T,R,W,ee,fe,ue}),f.promise)]}})})},s.prototype.write=function(r){var o=this;this.L_();var f=new br;return this.cs.ws(function(){return function(g,w,D){return d.__awaiter(this,void 0,void 0,function(){var T,R,W,ee;return d.__generator(this,function(fe){switch(fe.label){case 0:T=Ra(g),fe.label=1;case 1:return fe.trys.push([1,5,,6]),[4,(ue=T.ju,Ee=w,qe=ke(ue),yt=On.now(),gt=Ee.reduce(function(Nt,Yt){return Nt.add(Yt.key)},rn()),qe.persistence.runTransaction("Locally write mutations","readwrite",function(Nt){return qe.Cc.kr(Nt,gt).next(function(Yt){Fe=Yt;for(var gn=[],Gn=0,Wn=Ee;Gn<Wn.length;Gn++){var Gt=Wn[Gn],Uo=he(Gt,Fe.get(Gt.key));null!=Uo&&gn.push(new ot(Gt.key,Uo,dn(Uo.proto.mapValue),nr.exists(!0)))}return qe.Sr.ko(Nt,yt,gn,Ee)})}).then(function(Nt){var Yt=Nt.lr(Fe);return{batchId:Nt.batchId,wr:Yt}}))];case 2:return R=fe.sent(),T.Sh.xi(R.batchId),function(ue,Ee,Fe){var qe=ue.Oh[ue.currentUser.ti()];qe||(qe=new $t(vt)),qe=qe.ot(Ee,Fe),ue.Oh[ue.currentUser.ti()]=qe}(T,R.batchId,D),[4,Ji(T,R.wr)];case 3:return fe.sent(),[4,fi(T.ph)];case 4:return fe.sent(),[3,6];case 5:return W=fe.sent(),ee=Xe(W,"Failed to persist write"),D.reject(ee),[3,6];case 6:return[2]}var ue,Ee,Fe,qe,yt,gt})})}(o.fi,r,f)}),f.promise},s.prototype.U=function(){return this.bl.U},s.prototype.G_=function(r){var o=this;this.L_();var f=new Ms(r);return this.cs.ws(function(){return d.__awaiter(o,void 0,void 0,function(){return d.__generator(this,function(g){return[2,(w=this.q_,D=f,ke(w).qs.add(D),void D.next())];var w,D})})}),function(){f.Zl(),o.cs.ws(function(){return d.__awaiter(o,void 0,void 0,function(){return d.__generator(this,function(g){return[2,(w=this.q_,D=f,void ke(w).qs.delete(D))];var w,D})})})}},Object.defineProperty(s.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),s.prototype.transaction=function(r){var o=this;this.L_();var f=new br;return this.cs.ws(function(){return new yl(o.cs,o.Ku,r,f).run(),Promise.resolve()}),f.promise},s}();function os(s){return function(r,o){if("object"!=typeof r||null===r)return!1;for(var f=r,g=0,w=["next","error","complete"];g<w.length;g++){var D=w[g];if(D in f&&"function"==typeof f[D])return!0}return!1}(s)}var wl=function(){function s(r,o,f,g,w){this.U=r,this.timestampsInSnapshots=o,this.H_=f,this.Y_=g,this.J_=w}return s.prototype.X_=function(r){switch(Pn(r)){case 0:return null;case 1:return r.booleanValue;case 2:return Ht(r.integerValue||r.doubleValue);case 3:return this.Z_(r.timestampValue);case 4:return this.tf(r);case 5:return r.stringValue;case 6:return this.J_(mr(r.bytesValue));case 7:return this.ef(r.referenceValue);case 8:return this.nf(r.geoPointValue);case 9:return this.sf(r.arrayValue);case 10:return this.if(r.mapValue);default:throw Re()}},s.prototype.if=function(r){var o=this,f={};return $e(r.fields||{},function(g,w){f[g]=o.X_(w)}),f},s.prototype.nf=function(r){return new Tc(Ht(r.latitude),Ht(r.longitude))},s.prototype.sf=function(r){var o=this;return(r.values||[]).map(function(f){return o.X_(f)})},s.prototype.tf=function(r){switch(this.H_){case"previous":var o=Lr(r);return null==o?null:this.X_(o);case"estimate":return this.Z_(cr(r));default:return null}},s.prototype.Z_=function(r){var o=Sr(r),f=new On(o.seconds,o.nanos);return this.timestampsInSnapshots?f:f.toDate()},s.prototype.ef=function(r){var o=B.g(r);Ue(Nn(o));var f=new xs(o.get(1),o.get(3)),g=new F(o.u(5));return f.isEqual(this.U)||Le("Document "+g+" contains a document reference within a different database ("+f.projectId+"/"+f.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(g)},s}(),Nc=zn.ho,bl=function(){function s(r){var o,f,g,w,D;if(void 0===r.host){if(void 0!==r.ssl)throw new Q(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else rt("settings","non-empty string","host",r.host),this.host=r.host,Ge("settings","boolean","ssl",r.ssl),this.ssl=null===(o=r.ssl)||void 0===o||o;if(Kn("settings",r,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),Ge("settings","object","credentials",r.credentials),this.credentials=r.credentials,Ge("settings","boolean","timestampsInSnapshots",r.timestampsInSnapshots),Ge("settings","boolean","ignoreUndefinedProperties",r.ignoreUndefinedProperties),!0===r.timestampsInSnapshots?Le("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===r.timestampsInSnapshots&&Le("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(f=r.timestampsInSnapshots)||void 0===f||f,this.ignoreUndefinedProperties=null!==(g=r.ignoreUndefinedProperties)&&void 0!==g&&g,Ge("settings","number","cacheSizeBytes",r.cacheSizeBytes),void 0===r.cacheSizeBytes)this.cacheSizeBytes=zn._o;else{if(r.cacheSizeBytes!==Nc&&r.cacheSizeBytes<zn.lo)throw new Q(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+zn.lo);this.cacheSizeBytes=r.cacheSizeBytes}Ge("settings","boolean","experimentalForceLongPolling",r.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(w=r.experimentalForceLongPolling)&&void 0!==w&&w,Ge("settings","boolean","experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(D=r.experimentalAutoDetectLongPolling)&&void 0!==D&&D,function(T,R,W,ee){if(!0===R&&!0===ee)throw new Q(V.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,r.experimentalForceLongPolling,0,r.experimentalAutoDetectLongPolling)}return s.prototype.isEqual=function(r){return this.host===r.host&&this.ssl===r.ssl&&this.timestampsInSnapshots===r.timestampsInSnapshots&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties},s}(),di=function(){function s(r,o,f,g){var w=this;if(void 0===f&&(f=new ef),void 0===g&&(g=new mo),this.rf=f,this.af=g,this.cf=null,this.uf=new Te,this.INTERNAL={delete:function(){return d.__awaiter(w,void 0,void 0,function(){return d.__generator(this,function(R){switch(R.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return R.sent(),[2]}})})}},"object"==typeof r.options){var D=r;this.cf=D,this.__=s._f(D),this.ff=D.name,this.df=new Cs(o)}else{var T=r;if(!T.projectId)throw new Q(V.INVALID_ARGUMENT,"Must provide projectId");this.__=new xs(T.projectId,T.database),this.ff="[DEFAULT]",this.df=new rl}this.wf=new bl({})}return Object.defineProperty(s.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new ml(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),s.prototype.settings=function(r){j("Firestore.settings",arguments,1),He("Firestore.settings","object",1,r),r.merge&&delete(r=Object.assign(Object.assign({},this.wf),r)).merge;var o=new bl(r);if(this.lf&&!this.wf.isEqual(o))throw new Q(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=o,void 0!==o.credentials&&(this.df=function(f){if(!f)return new rl;switch(f.type){case"gapi":var g=f.client;return Ue(!("object"!=typeof g||null===g||!g.auth||!g.auth.getAuthHeaderValueForFirstParty)),new wc(g,f.sessionIndex||"0");case"provider":return f.client;default:throw new Q(V.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(o.credentials))},s.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},s.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},s.prototype.enablePersistence=function(r){var o,f;if(this.lf)throw new Q(V.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var g=!1,w=!1;if(r&&(void 0!==r.experimentalTabSynchronization&&Le("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),g=null!==(f=null!==(o=r.synchronizeTabs)&&void 0!==o?o:r.experimentalTabSynchronization)&&void 0!==f&&f,w=!!r.experimentalForceOwningTab&&r.experimentalForceOwningTab,g&&w))throw new Q(V.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:g,ka:w})},s.prototype.clearPersistence=function(){return d.__awaiter(this,void 0,void 0,function(){var r,o=this;return d.__generator(this,function(f){if(void 0!==this.lf&&!this.lf.z_)throw new Q(V.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return r=new br,[2,(this.uf.bs(function(){return d.__awaiter(o,void 0,void 0,function(){var g;return d.__generator(this,function(w){switch(w.label){case 0:return w.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return w.sent(),r.resolve(),[3,3];case 2:return g=w.sent(),r.reject(g),[3,3];case 3:return[2]}})})}),r.promise)]})})},s.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(s.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),s.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},s.prototype.onSnapshotsInSync=function(r){return this.hf(),os(r)?this.lf.G_(r):(He("Firestore.onSnapshotsInSync","function",1,r),this.lf.G_({next:r}))},s.prototype.hf=function(){return this.lf||this.Ef(new ef,new mo,{jl:!1}),this.lf},s.prototype.Af=function(){return new Ho(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},s.prototype.Ef=function(r,o,f){var g=this.Af();return this.lf=new _l(this.df,this.uf),this.lf.start(g,r,o,f)},s._f=function(r){if(!Object.prototype.hasOwnProperty.call(r.options,"projectId"))throw new Q(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var f=r.options.projectId;if(!f||"string"!=typeof f)throw new Q(V.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new xs(f)},Object.defineProperty(s.prototype,"app",{get:function(){if(!this.cf)throw new Q(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),s.prototype.collection=function(r){return j("Firestore.collection",arguments,1),He("Firestore.collection","non-empty string",1,r),this.hf(),new Pc(B.g(r),this,null)},s.prototype.doc=function(r){return j("Firestore.doc",arguments,1),He("Firestore.doc","non-empty string",1,r),this.hf(),Fa.Rf(B.g(r),this,null)},s.prototype.collectionGroup=function(r){if(j("Firestore.collectionGroup",arguments,1),He("Firestore.collectionGroup","non-empty string",1,r),r.indexOf("/")>=0)throw new Q(V.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new oc((o=r,new Ni(B.P(),o)),this,null);var o},s.prototype.runTransaction=function(r){var o=this;return j("Firestore.runTransaction",arguments,1),He("Firestore.runTransaction","function",1,r),this.hf().transaction(function(f){return r(new ha(o,f))})},s.prototype.batch=function(){return this.hf(),new rf(this)},Object.defineProperty(s,"logLevel",{get:function(){switch(De()){case Ae.LogLevel.DEBUG:return"debug";case Ae.LogLevel.ERROR:return"error";case Ae.LogLevel.SILENT:return"silent";case Ae.LogLevel.WARN:return"warn";case Ae.LogLevel.INFO:return"info";case Ae.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),s.setLogLevel=function(r){j("Firestore.setLogLevel",arguments,1),ft("setLogLevel",["debug","error","silent","warn","info","verbose"],1,r),me.setLogLevel(r)},s.prototype.gf=function(){return this.wf.timestampsInSnapshots},s.prototype.Pf=function(){return this.wf},s}(),ha=function(){function s(r,o){this.yf=r,this.Vf=o}return s.prototype.get=function(r){var o=this;j("Transaction.get",arguments,1);var f=yo("Transaction.get",r,this.yf);return this.Vf.v_([f.f_]).then(function(g){if(!g||1!==g.length)return Re();var w=g[0];if(w instanceof on)return new zs(o.yf,f.f_,null,!1,!1,f.d_);if(w instanceof xt)return new zs(o.yf,f.f_,w,!1,!1,f.d_);throw Re()})},s.prototype.set=function(r,o,f){te("Transaction.set",arguments,2,3);var g=yo("Transaction.set",r,this.yf);f=Rc("Transaction.set",f);var w=uf(g.d_,o,f),D=ji(this.yf.mf,"Transaction.set",g.f_,w,null!==g.d_,f);return this.Vf.set(g.f_,D),this},s.prototype.update=function(r,o,f){for(var g,w,D=[],T=3;T<arguments.length;T++)D[T-3]=arguments[T];return"string"==typeof o||o instanceof au?(ie("Transaction.update",arguments,3),g=yo("Transaction.update",r,this.yf),w=la(this.yf.mf,"Transaction.update",g.f_,o,f,D)):(j("Transaction.update",arguments,2),g=yo("Transaction.update",r,this.yf),w=ti(this.yf.mf,"Transaction.update",g.f_,o)),this.Vf.update(g.f_,w),this},s.prototype.delete=function(r){j("Transaction.delete",arguments,1);var o=yo("Transaction.delete",r,this.yf);return this.Vf.delete(o.f_),this},s}(),rf=function(){function s(r){this.yf=r,this.pf=[],this.bf=!1}return s.prototype.set=function(r,o,f){te("WriteBatch.set",arguments,2,3),this.vf();var g=yo("WriteBatch.set",r,this.yf);f=Rc("WriteBatch.set",f);var w=uf(g.d_,o,f),D=ji(this.yf.mf,"WriteBatch.set",g.f_,w,null!==g.d_,f);return this.pf=this.pf.concat(D.w_(g.f_,nr.ze())),this},s.prototype.update=function(r,o,f){for(var g,w,D=[],T=3;T<arguments.length;T++)D[T-3]=arguments[T];return this.vf(),"string"==typeof o||o instanceof au?(ie("WriteBatch.update",arguments,3),g=yo("WriteBatch.update",r,this.yf),w=la(this.yf.mf,"WriteBatch.update",g.f_,o,f,D)):(j("WriteBatch.update",arguments,2),g=yo("WriteBatch.update",r,this.yf),w=ti(this.yf.mf,"WriteBatch.update",g.f_,o)),this.pf=this.pf.concat(w.w_(g.f_,nr.exists(!0))),this},s.prototype.delete=function(r){j("WriteBatch.delete",arguments,1),this.vf();var o=yo("WriteBatch.delete",r,this.yf);return this.pf=this.pf.concat(new Cn(o.f_,nr.ze())),this},s.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},s.prototype.vf=function(){if(this.bf)throw new Q(V.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},s}(),Fa=function(s){function r(o,f,g){var w=this;return(w=s.call(this,f.__,o,g)||this).f_=o,w.firestore=f,w.d_=g,w.lf=w.firestore.hf(),w}return d.__extends(r,s),r.Rf=function(o,f,g){if(o.length%2!=0)throw new Q(V.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+o.R()+" has "+o.length);return new r(new F(o),f,g)},Object.defineProperty(r.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){return new Pc(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),r.prototype.collection=function(o){if(j("DocumentReference.collection",arguments,1),He("DocumentReference.collection","non-empty string",1,o),!o)throw new Q(V.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var f=B.g(o);return new Pc(this.f_.path.child(f),this.firestore,null)},r.prototype.isEqual=function(o){if(!(o instanceof r))throw mn("isEqual","DocumentReference",1,o);return this.firestore===o.firestore&&this.f_.isEqual(o.f_)&&this.d_===o.d_},r.prototype.set=function(o,f){te("DocumentReference.set",arguments,1,2),f=Rc("DocumentReference.set",f);var g=uf(this.d_,o,f),w=ji(this.firestore.mf,"DocumentReference.set",this.f_,g,null!==this.d_,f);return this.lf.write(w.w_(this.f_,nr.ze()))},r.prototype.update=function(o,f){for(var g,w=[],D=2;D<arguments.length;D++)w[D-2]=arguments[D];return"string"==typeof o||o instanceof au?(ie("DocumentReference.update",arguments,2),g=la(this.firestore.mf,"DocumentReference.update",this.f_,o,f,w)):(j("DocumentReference.update",arguments,1),g=ti(this.firestore.mf,"DocumentReference.update",this.f_,o)),this.lf.write(g.w_(this.f_,nr.exists(!0)))},r.prototype.delete=function(){return j("DocumentReference.delete",arguments,0),this.lf.write([new Cn(this.f_,nr.ze())])},r.prototype.onSnapshot=function(){for(var o,f,g,w=this,D=[],T=0;T<arguments.length;T++)D[T]=arguments[T];te("DocumentReference.onSnapshot",arguments,1,4);var R={includeMetadataChanges:!1},W=0;"object"!=typeof D[W]||os(D[W])||(Kn("DocumentReference.onSnapshot",R=D[W],["includeMetadataChanges"]),Ge("DocumentReference.onSnapshot","boolean","includeMetadataChanges",R.includeMetadataChanges),W++);var ee={includeMetadataChanges:R.includeMetadataChanges};if(os(D[W])){var fe=D[W];D[W]=null===(o=fe.next)||void 0===o?void 0:o.bind(fe),D[W+1]=null===(f=fe.error)||void 0===f?void 0:f.bind(fe),D[W+2]=null===(g=fe.complete)||void 0===g?void 0:g.bind(fe)}else He("DocumentReference.onSnapshot","function",W,D[W]),_e("DocumentReference.onSnapshot","function",W+1,D[W+1]),_e("DocumentReference.onSnapshot","function",W+2,D[W+2]);var ue={next:function(Ee){D[W]&&D[W](w.Sf(Ee))},error:D[W+1],complete:D[W+2]};return this.lf.listen(Wo(this.f_.path),ee,ue)},r.prototype.get=function(o){var f=this;te("DocumentReference.get",arguments,0,1),af("DocumentReference.get",o);var g=this.firestore.hf();return o&&"cache"===o.source?g.Q_(this.f_).then(function(w){return new zs(f.firestore,f.f_,w,!0,w instanceof xt&&w.Je,f.d_)}):g.W_(this.f_,o).then(function(w){return f.Sf(w)})},r.prototype.withConverter=function(o){return new r(this.f_,this.firestore,o)},r.prototype.Sf=function(o){var f=o.docs.get(this.f_);return new zs(this.firestore,this.f_,f,o.fromCache,o.hasPendingWrites,this.d_)},r}(pl),da=function(){function s(r,o){this.hasPendingWrites=r,this.fromCache=o}return s.prototype.isEqual=function(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache},s}(),zs=function(){function s(r,o,f,g,w,D){this.yf=r,this.f_=o,this.Df=f,this.Cf=g,this.Nf=w,this.d_=D}return s.prototype.data=function(r){var o=this;if(te("DocumentSnapshot.data",arguments,0,1),r=Lf("DocumentSnapshot.data",r),this.Df){if(this.d_){var f=new El(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(f,r)}return new wl(this.yf.__,this.yf.gf(),r.serverTimestamps||"none",function(g){return new Fa(g,o.yf,null)},function(g){return new mi(g)}).X_(this.Df.rn())}},s.prototype.get=function(r,o){var f=this;if(te("DocumentSnapshot.get",arguments,1,2),o=Lf("DocumentSnapshot.get",o),this.Df){var g=this.Df.data().field(lu("DocumentSnapshot.get",r,this.f_));if(null!==g)return new wl(this.yf.__,this.yf.gf(),o.serverTimestamps||"none",function(w){return new Fa(w,f.yf,f.d_)},function(w){return new mi(w)}).X_(g)}},Object.defineProperty(s.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ref",{get:function(){return new Fa(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"metadata",{get:function(){return new da(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),s.prototype.isEqual=function(r){if(!(r instanceof s))throw mn("isEqual","DocumentSnapshot",1,r);return this.yf===r.yf&&this.Cf===r.Cf&&this.f_.isEqual(r.f_)&&(null===this.Df?null===r.Df:this.Df.isEqual(r.Df))&&this.d_===r.d_},s}(),El=function(s){function r(){return null!==s&&s.apply(this,arguments)||this}return d.__extends(r,s),r.prototype.data=function(o){return s.prototype.data.call(this,o)},r}(zs);function Qh(s,r,o,f,g,w,D){var T;if(g.p()){if("array-contains"===w||"array-contains-any"===w)throw new Q(V.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+w+"' queries on FieldPath.documentId().");if("in"===w||"not-in"===w){sf(D,w);for(var R=[],W=0,ee=D;W<ee.length;W++)R.push(of(f,s,ee[W]));T={arrayValue:{values:R}}}else T=of(f,s,D)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||sf(D,w),T=nc(o,r,D,"in"===w||"not-in"===w);var ue=nn.create(g,w,T);return function(Ee,Fe){if(Fe.hn()){var qe=$i(Ee);if(null!==qe&&!qe.isEqual(Fe.field))throw new Q(V.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+qe.toString()+"' and '"+Fe.field.toString()+"'");var yt=Cu(Ee);null!==yt&&Dl(0,Fe.field,yt)}var gt=function(Nt,Yt){for(var gn=0,Gn=Nt.filters;gn<Gn.length;gn++){var Wn=Gn[gn];if(Yt.indexOf(Wn.op)>=0)return Wn.op}return null}(Ee,function(Nt){switch(Nt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Fe.op));if(null!==gt)throw new Q(V.INVALID_ARGUMENT,gt===Fe.op?"Invalid query. You cannot use more than one '"+Fe.op.toString()+"' filter.":"Invalid query. You cannot use '"+Fe.op.toString()+"' filters with '"+gt.toString()+"' filters.")}(s,ue),ue}function kf(s,r,o){if(null!==s.startAt)throw new Q(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Q(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var f=new Zr(r,o);return function(g,w){if(null===Cu(g)){var D=$i(g);null!==D&&Dl(0,D,w.field)}}(s,f),f}function of(s,r,o){if("string"==typeof o){if(""===o)throw new Q(V.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ls(r)&&-1!==o.indexOf("/"))throw new Q(V.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+o+"' contains a '/' character.");var f=r.path.child(B.g(o));if(!F.F(f))throw new Q(V.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+f+"' is not because it has an odd number of segments ("+f.length+").");return kt(s,new F(f))}if(o instanceof pl)return kt(s,o.f_);throw new Q(V.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+bn(o)+".")}function sf(s,r){if(!Array.isArray(s)||0===s.length)throw new Q(V.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+r.toString()+"' filters.");if(s.length>10)throw new Q(V.INVALID_ARGUMENT,"Invalid Query. '"+r.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===r||"array-contains-any"===r){if(s.indexOf(null)>=0)throw new Q(V.INVALID_ARGUMENT,"Invalid Query. '"+r.toString()+"' filters cannot contain 'null' in the value array.");if(s.filter(function(o){return Number.isNaN(o)}).length>0)throw new Q(V.INVALID_ARGUMENT,"Invalid Query. '"+r.toString()+"' filters cannot contain 'NaN' in the value array.")}}function Dl(s,r,o){if(!o.isEqual(r))throw new Q(V.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+r.toString()+"' and so you must also use '"+r.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+o.toString()+"' instead.")}function xc(s){if(Mt(s)&&0===s.on.length)throw new Q(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var oc=function(){function s(r,o,f){this.Ff=r,this.firestore=o,this.d_=f}return s.prototype.where=function(r,o,f){j("Query.where",arguments,3),or("Query.where",3,f);var T,W,g=ft("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,o),w=lu("Query.where",r),D=Qh(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,w,g,f);return new s((W=(T=this.Ff).filters.concat([D]),new Ni(T.path,T.collectionGroup,T.on.slice(),W,T.limit,T.an,T.startAt,T.endAt)),this.firestore,this.d_)},s.prototype.orderBy=function(r,o){var f;if(te("Query.orderBy",arguments,1,2),_e("Query.orderBy","non-empty string",2,o),void 0===o||"asc"===o)f="asc";else{if("desc"!==o)throw new Q(V.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+o+"', expected 'asc' or 'desc'.");f="desc"}var D,R,g=lu("Query.orderBy",r),w=kf(this.Ff,g,f);return new s((R=(D=this.Ff).on.concat([w]),new Ni(D.path,D.collectionGroup,R,D.filters.slice(),D.limit,D.an,D.startAt,D.endAt)),this.firestore,this.d_)},s.prototype.limit=function(r){return j("Query.limit",arguments,1),He("Query.limit","number",1,r),Lt("Query.limit",1,r),new s(Iu(this.Ff,r,"F"),this.firestore,this.d_)},s.prototype.limitToLast=function(r){return j("Query.limitToLast",arguments,1),He("Query.limitToLast","number",1,r),Lt("Query.limitToLast",1,r),new s(Iu(this.Ff,r,"L"),this.firestore,this.d_)},s.prototype.startAt=function(r){for(var o=[],f=1;f<arguments.length;f++)o[f-1]=arguments[f];ie("Query.startAt",arguments,1);var g=this.xf("Query.startAt",r,o,!0);return new s(Au(this.Ff,g),this.firestore,this.d_)},s.prototype.startAfter=function(r){for(var o=[],f=1;f<arguments.length;f++)o[f-1]=arguments[f];ie("Query.startAfter",arguments,1);var g=this.xf("Query.startAfter",r,o,!1);return new s(Au(this.Ff,g),this.firestore,this.d_)},s.prototype.endBefore=function(r){for(var o=[],f=1;f<arguments.length;f++)o[f-1]=arguments[f];ie("Query.endBefore",arguments,1);var g=this.xf("Query.endBefore",r,o,!0);return new s(Ze(this.Ff,g),this.firestore,this.d_)},s.prototype.endAt=function(r){for(var o=[],f=1;f<arguments.length;f++)o[f-1]=arguments[f];ie("Query.endAt",arguments,1);var g=this.xf("Query.endAt",r,o,!1);return new s(Ze(this.Ff,g),this.firestore,this.d_)},s.prototype.isEqual=function(r){if(!(r instanceof s))throw mn("isEqual","Query",1,r);return this.firestore===r.firestore&&Ut(this.Ff,r.Ff)&&this.d_===r.d_},s.prototype.withConverter=function(r){return new s(this.Ff,this.firestore,r)},s.prototype.xf=function(r,o,f,g){if(or(r,1,o),o instanceof zs)return j(r,d.__spreadArrays([o],f),1),function(D,T,R,W,ee){if(!W)throw new Q(V.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+R+"().");for(var fe=[],ue=0,Ee=Ko(D);ue<Ee.length;ue++){var Fe=Ee[ue];if(Fe.field.p())fe.push(kt(T,W.key));else{var qe=W.field(Fe.field);if(wo(qe))throw new Q(V.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Fe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===qe){var yt=Fe.field.R();throw new Q(V.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+yt+"' (used as the orderBy) does not exist.")}fe.push(qe)}}return new Pi(fe,ee)}(this.Ff,this.firestore.__,r,o.Df,g);var w=[o].concat(f);return function(D,T,R,W,ee,fe){var ue=D.on;if(ee.length>ue.length)throw new Q(V.INVALID_ARGUMENT,"Too many arguments provided to "+W+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var Ee=[],Fe=0;Fe<ee.length;Fe++){var qe=ee[Fe];if(ue[Fe].field.p()){if("string"!=typeof qe)throw new Q(V.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+W+"(), but got a "+typeof qe);if(!Ls(D)&&-1!==qe.indexOf("/"))throw new Q(V.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+W+"() must be a plain document ID, but '"+qe+"' contains a slash.");var yt=D.path.child(B.g(qe));if(!F.F(yt))throw new Q(V.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+W+"() must result in a valid document path, but '"+yt+"' is not because it contains an odd number of segments.");var gt=new F(yt);Ee.push(kt(T,gt))}else{var Nt=nc(R,W,qe);Ee.push(Nt)}}return new Pi(Ee,fe)}(this.Ff,this.firestore.__,this.firestore.mf,r,w,g)},s.prototype.onSnapshot=function(){for(var r,o,f,g=this,w=[],D=0;D<arguments.length;D++)w[D]=arguments[D];te("Query.onSnapshot",arguments,1,4);var T={},R=0;if("object"!=typeof w[R]||os(w[R])||(Kn("Query.onSnapshot",T=w[R],["includeMetadataChanges"]),Ge("Query.onSnapshot","boolean","includeMetadataChanges",T.includeMetadataChanges),R++),os(w[R])){var W=w[R];w[R]=null===(r=W.next)||void 0===r?void 0:r.bind(W),w[R+1]=null===(o=W.error)||void 0===o?void 0:o.bind(W),w[R+2]=null===(f=W.complete)||void 0===f?void 0:f.bind(W)}else He("Query.onSnapshot","function",R,w[R]),_e("Query.onSnapshot","function",R+1,w[R+1]),_e("Query.onSnapshot","function",R+2,w[R+2]);var ee={next:function(fe){w[R]&&w[R](new sc(g.firestore,g.Ff,fe,g.d_))},error:w[R+1],complete:w[R+2]};return xc(this.Ff),this.firestore.hf().listen(this.Ff,T,ee)},s.prototype.get=function(r){var o=this;te("Query.get",arguments,0,1),af("Query.get",r),xc(this.Ff);var f=this.firestore.hf();return(r&&"cache"===r.source?f.j_(this.Ff):f.K_(this.Ff,r)).then(function(g){return new sc(o.firestore,o.Ff,g,o.d_)})},s}(),sc=function(){function s(r,o,f,g){this.yf=r,this.$f=o,this.kf=f,this.d_=g,this.Mf=null,this.Of=null,this.metadata=new da(f.hasPendingWrites,f.fromCache)}return Object.defineProperty(s.prototype,"docs",{get:function(){var r=[];return this.forEach(function(o){return r.push(o)}),r},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),s.prototype.forEach=function(r,o){var f=this;te("QuerySnapshot.forEach",arguments,1,2),He("QuerySnapshot.forEach","function",1,r),this.kf.docs.forEach(function(g){r.call(o,f.Lf(g,f.metadata.fromCache,f.kf.Wt.has(g.key)))})},Object.defineProperty(s.prototype,"query",{get:function(){return new oc(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),s.prototype.docChanges=function(r){r&&(Kn("QuerySnapshot.docChanges",r,["includeMetadataChanges"]),Ge("QuerySnapshot.docChanges","boolean","includeMetadataChanges",r.includeMetadataChanges));var o=!(!r||!r.includeMetadataChanges);if(o&&this.kf.Kt)throw new Q(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===o||(this.Mf=function(f,g,w){if(f.Qt.m()){var D=0;return f.docChanges.map(function(R){return{type:"added",doc:w(R.doc,f.fromCache,f.Wt.has(R.doc.key)),oldIndex:-1,newIndex:D++}})}var T=f.Qt;return f.docChanges.filter(function(R){return g||3!==R.type}).map(function(R){var W=w(R.doc,f.fromCache,f.Wt.has(R.doc.key)),ee=-1,fe=-1;return 0!==R.type&&(ee=T.indexOf(R.doc.key),T=T.delete(R.doc.key)),1!==R.type&&(fe=(T=T.add(R.doc)).indexOf(R.doc.key)),{type:pa(R.type),doc:W,oldIndex:ee,newIndex:fe}})}(this.kf,o,this.Lf.bind(this)),this.Of=o),this.Mf},s.prototype.isEqual=function(r){if(!(r instanceof s))throw mn("isEqual","QuerySnapshot",1,r);return this.yf===r.yf&&Ut(this.$f,r.$f)&&this.kf.isEqual(r.kf)&&this.d_===r.d_},s.prototype.Lf=function(r,o,f){return new El(this.yf,r.key,r,o,f,this.d_)},s}(),Pc=function(s){function r(o,f,g){var w=this;if((w=s.call(this,Wo(o),f,g)||this).Bf=o,o.length%2!=1)throw new Q(V.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+o.R()+" has "+o.length);return w}return d.__extends(r,s),Object.defineProperty(r.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){var o=this.Ff.path.h();return o.m()?null:new Fa(new F(o),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),r.prototype.doc=function(o){te("CollectionReference.doc",arguments,0,1),0===arguments.length&&(o=An.k()),He("CollectionReference.doc","non-empty string",1,o);var f=B.g(o);return Fa.Rf(this.Ff.path.child(f),this.firestore,this.d_)},r.prototype.add=function(o){j("CollectionReference.add",arguments,1);var f=this.d_?this.d_.toFirestore(o):o;He("CollectionReference.add","object",1,f);var g=this.doc();return new Fa(g.f_,this.firestore,null).set(f).then(function(){return g})},r.prototype.withConverter=function(o){return new r(this.Bf,this.firestore,o)},r}(oc);function Rc(s,r){if(void 0===r)return{merge:!1};if(Kn(s,r,["merge","mergeFields"]),Ge(s,"boolean","merge",r.merge),void 0!==(w=r.mergeFields)&&function(T,R,W,ee,fe){if(!(ee instanceof Array))throw new Q(V.INVALID_ARGUMENT,"Function "+T+"() requires its "+R+" option to be an array, but it was: "+bn(ee));for(var ue=0;ue<ee.length;++ue)if(!fe(ee[ue]))throw new Q(V.INVALID_ARGUMENT,"Function "+T+"() requires all "+R+" elements to be a string or a FieldPath, but the value at index "+ue+" was: "+bn(ee[ue]))}(s,"mergeFields",0,w,function(o){return"string"==typeof o||o instanceof au}),void 0!==r.mergeFields&&void 0!==r.merge)throw new Q(V.INVALID_ARGUMENT,"Invalid options passed to function "+s+'(): You cannot specify both "merge" and "mergeFields".');var w;return r}function Lf(s,r){return void 0===r?{}:(Kn(s,r,["serverTimestamps"]),Ve(s,0,"serverTimestamps",r.serverTimestamps,["estimate","previous","none"]),r)}function af(s,r){_e(s,"object",1,r),r&&(Kn(s,r,["source"]),Ve(s,0,"source",r.source,["default","server","cache"]))}function yo(s,r,o){if(r instanceof pl){if(r.firestore!==o)throw new Q(V.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}throw mn(s,"DocumentReference",1,r)}function pa(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}function uf(s,r,o){return s?o&&(o.merge||o.mergeFields)?s.toFirestore(r,o):s.toFirestore(r):r}var Xh=function(s){function r(){return null!==s&&s.apply(this,arguments)||this}return d.__extends(r,s),r.serverTimestamp=function(){$("FieldValue.serverTimestamp",arguments);var o=new Xu("serverTimestamp");return o.e_="FieldValue.serverTimestamp",new r(o)},r.delete=function(){$("FieldValue.delete",arguments);var o=new uu("deleteField");return o.e_="FieldValue.delete",new r(o)},r.arrayUnion=function(){for(var o=[],f=0;f<arguments.length;f++)o[f]=arguments[f];ie("FieldValue.arrayUnion",arguments,1);var g=function(){for(var w=[],D=0;D<arguments.length;D++)w[D]=arguments[D];return ie("arrayUnion()",arguments,1),new Cr("arrayUnion",w)}.apply(void 0,o);return g.e_="FieldValue.arrayUnion",new r(g)},r.arrayRemove=function(){for(var o=[],f=0;f<arguments.length;f++)o[f]=arguments[f];ie("FieldValue.arrayRemove",arguments,1);var g=function(){for(var w=[],D=0;D<arguments.length;D++)w[D]=arguments[D];return ie("arrayRemove()",arguments,1),new ec("arrayRemove",w)}.apply(void 0,o);return g.e_="FieldValue.arrayRemove",new r(g)},r.increment=function(o){He("FieldValue.increment","number",1,o),j("FieldValue.increment",arguments,1);var f=new tf("increment",o);return f.e_="FieldValue.increment",new r(f)},r.prototype.isEqual=function(o){return this.l_.isEqual(o.l_)},r}(Sc),cf={Firestore:di,GeoPoint:Tc,Timestamp:On,Blob:mi,Transaction:ha,WriteBatch:rf,DocumentReference:Fa,DocumentSnapshot:zs,Query:oc,QueryDocumentSnapshot:El,QuerySnapshot:sc,CollectionReference:Pc,FieldPath:au,FieldValue:Xh,setLogLevel:di.setLogLevel,CACHE_SIZE_UNLIMITED:Nc};!function dh(s){s.INTERNAL.registerComponent(new ye.Component("firestore",function(f){return g=f.getProvider("app").getImmediate(),w=f.getProvider("auth-internal"),D=new mo,T=new Lo(D),new di(g,w,T,D);var g,w,D,T},"PUBLIC").setServiceProps(Object.assign({},cf))),s.registerVersion("@firebase/firestore","1.18.0")}(ge.default)},4003:(wt,we,J)=>{"use strict";function k(){for(var me=0,De=0,se=arguments.length;De<se;De++)me+=arguments[De].length;var Le=Array(me),ze=0;for(De=0;De<se;De++)for(var Me=arguments[De],Re=0,Ue=Me.length;Re<Ue;Re++,ze++)Le[ze]=Me[Re];return Le}J.r(we),J.d(we,{LogLevel:()=>Ae,Logger:()=>ge,setLogLevel:()=>V,setUserLogHandler:()=>Q});var d,Se=[],Ae=(()=>{return(me=Ae||(Ae={}))[me.DEBUG=0]="DEBUG",me[me.VERBOSE=1]="VERBOSE",me[me.INFO=2]="INFO",me[me.WARN=3]="WARN",me[me.ERROR=4]="ERROR",me[me.SILENT=5]="SILENT",Ae;var me})(),ae={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},je=Ae.INFO,ye=((d={})[Ae.DEBUG]="log",d[Ae.VERBOSE]="log",d[Ae.INFO]="info",d[Ae.WARN]="warn",d[Ae.ERROR]="error",d),xe=function(me,De){for(var se=[],Le=2;Le<arguments.length;Le++)se[Le-2]=arguments[Le];if(!(De<me.logLevel)){var ze=(new Date).toISOString(),Me=ye[De];if(!Me)throw new Error("Attempted to log a message with an invalid logType (value: "+De+")");console[Me].apply(console,k(["["+ze+"]  "+me.name+":"],se))}},ge=function(){function me(De){this.name=De,this._logLevel=je,this._logHandler=xe,this._userLogHandler=null,Se.push(this)}return Object.defineProperty(me.prototype,"logLevel",{get:function(){return this._logLevel},set:function(De){if(!(De in Ae))throw new TypeError('Invalid value "'+De+'" assigned to `logLevel`');this._logLevel=De},enumerable:!1,configurable:!0}),me.prototype.setLogLevel=function(De){this._logLevel="string"==typeof De?ae[De]:De},Object.defineProperty(me.prototype,"logHandler",{get:function(){return this._logHandler},set:function(De){if("function"!=typeof De)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=De},enumerable:!1,configurable:!0}),Object.defineProperty(me.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(De){this._userLogHandler=De},enumerable:!1,configurable:!0}),me.prototype.debug=function(){for(var De=[],se=0;se<arguments.length;se++)De[se]=arguments[se];this._userLogHandler&&this._userLogHandler.apply(this,k([this,Ae.DEBUG],De)),this._logHandler.apply(this,k([this,Ae.DEBUG],De))},me.prototype.log=function(){for(var De=[],se=0;se<arguments.length;se++)De[se]=arguments[se];this._userLogHandler&&this._userLogHandler.apply(this,k([this,Ae.VERBOSE],De)),this._logHandler.apply(this,k([this,Ae.VERBOSE],De))},me.prototype.info=function(){for(var De=[],se=0;se<arguments.length;se++)De[se]=arguments[se];this._userLogHandler&&this._userLogHandler.apply(this,k([this,Ae.INFO],De)),this._logHandler.apply(this,k([this,Ae.INFO],De))},me.prototype.warn=function(){for(var De=[],se=0;se<arguments.length;se++)De[se]=arguments[se];this._userLogHandler&&this._userLogHandler.apply(this,k([this,Ae.WARN],De)),this._logHandler.apply(this,k([this,Ae.WARN],De))},me.prototype.error=function(){for(var De=[],se=0;se<arguments.length;se++)De[se]=arguments[se];this._userLogHandler&&this._userLogHandler.apply(this,k([this,Ae.ERROR],De)),this._logHandler.apply(this,k([this,Ae.ERROR],De))},me}();function V(me){Se.forEach(function(De){De.setLogLevel(me)})}function Q(me,De){for(var se=function(Re){var Ue=null;De&&De.level&&(Ue=ae[De.level]),Re.userLogHandler=null===me?null:function(ke,Oe){for(var $e=[],Ne=2;Ne<arguments.length;Ne++)$e[Ne-2]=arguments[Ne];var Ye=$e.map(function(B){if(null==B)return null;if("string"==typeof B)return B;if("number"==typeof B||"boolean"==typeof B)return B.toString();if(B instanceof Error)return B.message;try{return JSON.stringify(B)}catch(U){return null}}).filter(function(B){return B}).join(" ");Oe>=(null!=Ue?Ue:ke.logLevel)&&me({level:Ae[Oe].toLowerCase(),message:Ye,args:$e,type:ke.name})}},Le=0,ze=Se;Le<ze.length;Le++)se(ze[Le])}},1270:(wt,we,J)=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});var k=J(8713),d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Se=function(ve,oe){if(!ve)throw Ae(oe)},Ae=function(ve){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ve)},ae=function(ve){for(var oe=[],pe=0,Pe=0;Pe<ve.length;Pe++){var Ce=ve.charCodeAt(Pe);Ce<128?oe[pe++]=Ce:Ce<2048?(oe[pe++]=Ce>>6|192,oe[pe++]=63&Ce|128):55296==(64512&Ce)&&Pe+1<ve.length&&56320==(64512&ve.charCodeAt(Pe+1))?(Ce=65536+((1023&Ce)<<10)+(1023&ve.charCodeAt(++Pe)),oe[pe++]=Ce>>18|240,oe[pe++]=Ce>>12&63|128,oe[pe++]=Ce>>6&63|128,oe[pe++]=63&Ce|128):(oe[pe++]=Ce>>12|224,oe[pe++]=Ce>>6&63|128,oe[pe++]=63&Ce|128)}return oe},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(ve,oe){if(!Array.isArray(ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var pe=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,Pe=[],Ce=0;Ce<ve.length;Ce+=3){var lt=ve[Ce],dt=Ce+1<ve.length,Zt=dt?ve[Ce+1]:0,Pt=Ce+2<ve.length,tt=Pt?ve[Ce+2]:0,Qn=(15&Zt)<<2|tt>>6,ar=63&tt;Pt||(ar=64,dt||(Qn=64)),Pe.push(pe[lt>>2],pe[(3&lt)<<4|Zt>>4],pe[Qn],pe[ar])}return Pe.join("")},encodeString:function(ve,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(ve):this.encodeByteArray(ae(ve),oe)},decodeString:function(ve,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(ve):function(ve){for(var oe=[],pe=0,Pe=0;pe<ve.length;){var Ce=ve[pe++];if(Ce<128)oe[Pe++]=String.fromCharCode(Ce);else if(Ce>191&&Ce<224){var lt=ve[pe++];oe[Pe++]=String.fromCharCode((31&Ce)<<6|63&lt)}else if(Ce>239&&Ce<365){var Pt=((7&Ce)<<18|(63&(lt=ve[pe++]))<<12|(63&(dt=ve[pe++]))<<6|63&ve[pe++])-65536;oe[Pe++]=String.fromCharCode(55296+(Pt>>10)),oe[Pe++]=String.fromCharCode(56320+(1023&Pt))}else{lt=ve[pe++];var dt=ve[pe++];oe[Pe++]=String.fromCharCode((15&Ce)<<12|(63&lt)<<6|63&dt)}}return oe.join("")}(this.decodeStringToByteArray(ve,oe))},decodeStringToByteArray:function(ve,oe){this.init_();for(var pe=oe?this.charToByteMapWebSafe_:this.charToByteMap_,Pe=[],Ce=0;Ce<ve.length;){var lt=pe[ve.charAt(Ce++)],Zt=Ce<ve.length?pe[ve.charAt(Ce)]:0,tt=++Ce<ve.length?pe[ve.charAt(Ce)]:64,Tt=++Ce<ve.length?pe[ve.charAt(Ce)]:64;if(++Ce,null==lt||null==Zt||null==tt||null==Tt)throw Error();Pe.push(lt<<2|Zt>>4),64!==tt&&(Pe.push(Zt<<4&240|tt>>2),64!==Tt&&Pe.push(tt<<6&192|Tt))}return Pe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var ve=0;ve<this.ENCODED_VALS.length;ve++)this.byteToCharMap_[ve]=this.ENCODED_VALS.charAt(ve),this.charToByteMap_[this.byteToCharMap_[ve]]=ve,this.byteToCharMapWebSafe_[ve]=this.ENCODED_VALS_WEBSAFE.charAt(ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ve]]=ve,ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ve)]=ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ve)]=ve)}}},ge=function(ve){try{return ye.decodeString(ve,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null};function Q(ve,oe){if(!(oe instanceof Object))return oe;switch(oe.constructor){case Date:return new Date(oe.getTime());case Object:void 0===ve&&(ve={});break;case Array:ve=[];break;default:return oe}for(var Pe in oe)!oe.hasOwnProperty(Pe)||(ve[Pe]=Q(ve[Pe],oe[Pe]));return ve}var me=function(){function ve(){var oe=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(pe,Pe){oe.resolve=pe,oe.reject=Pe})}return ve.prototype.wrapCallback=function(oe){var pe=this;return function(Pe,Ce){Pe?pe.reject(Pe):pe.resolve(Ce),"function"==typeof oe&&(pe.promise.catch(function(){}),1===oe.length?oe(Pe):oe(Pe,Ce))}},ve}();function De(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Le(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ve){return!1}}var F=function(ve){function oe(pe,Pe){var Ce=ve.call(this,Pe)||this;return Ce.code=pe,Ce.name="FirebaseError",Object.setPrototypeOf(Ce,oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ce,$.prototype.create),Ce}return k.__extends(oe,ve),oe}(Error),$=function(){function ve(oe,pe,Pe){this.service=oe,this.serviceName=pe,this.errors=Pe}return ve.prototype.create=function(oe){for(var pe=[],Pe=1;Pe<arguments.length;Pe++)pe[Pe-1]=arguments[Pe];for(var Ce=pe[0]||{},lt=this.service+"/"+oe,dt=this.errors[oe],Zt=dt?j(dt,Ce):"Error",Pt=this.serviceName+": "+Zt+" ("+lt+").",tt=new F(lt,Pt),sr=0,Tt=Object.keys(Ce);sr<Tt.length;sr++){var Qn=Tt[sr];"_"!==Qn.slice(-1)&&(Qn in tt&&console.warn('Overwriting FirebaseError base field "'+Qn+'" can cause unexpected behavior.'),tt[Qn]=Ce[Qn])}return tt},ve}();function j(ve,oe){return ve.replace(ie,function(pe,Pe){var Ce=oe[Pe];return null!=Ce?String(Ce):"<"+Pe+"?>"})}var ie=/\{\$([^}]+)}/g;function te(ve){return JSON.parse(ve)}var _e=function(ve){var oe={},pe={},Pe={},Ce="";try{var lt=ve.split(".");oe=te(ge(lt[0])||""),pe=te(ge(lt[1])||""),Ce=lt[2],Pe=pe.d||{},delete pe.d}catch(dt){}return{header:oe,claims:pe,data:Pe,signature:Ce}},Lt=function(){function ve(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var oe=1;oe<this.blockSize;++oe)this.pad_[oe]=0;this.reset()}return ve.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},ve.prototype.compress_=function(oe,pe){pe||(pe=0);var Pe=this.W_;if("string"==typeof oe)for(var Ce=0;Ce<16;Ce++)Pe[Ce]=oe.charCodeAt(pe)<<24|oe.charCodeAt(pe+1)<<16|oe.charCodeAt(pe+2)<<8|oe.charCodeAt(pe+3),pe+=4;else for(Ce=0;Ce<16;Ce++)Pe[Ce]=oe[pe]<<24|oe[pe+1]<<16|oe[pe+2]<<8|oe[pe+3],pe+=4;for(Ce=16;Ce<80;Ce++)Pe[Ce]=4294967295&((lt=Pe[Ce-3]^Pe[Ce-8]^Pe[Ce-14]^Pe[Ce-16])<<1|lt>>>31);var Tt,Qn,dt=this.chain_[0],Zt=this.chain_[1],Pt=this.chain_[2],tt=this.chain_[3],sr=this.chain_[4];for(Ce=0;Ce<80;Ce++){Ce<40?Ce<20?(Tt=tt^Zt&(Pt^tt),Qn=1518500249):(Tt=Zt^Pt^tt,Qn=1859775393):Ce<60?(Tt=Zt&Pt|tt&(Zt|Pt),Qn=2400959708):(Tt=Zt^Pt^tt,Qn=3395469782);var lt=(dt<<5|dt>>>27)+Tt+sr+Qn+Pe[Ce]&4294967295;sr=tt,tt=Pt,Pt=4294967295&(Zt<<30|Zt>>>2),Zt=dt,dt=lt}this.chain_[0]=this.chain_[0]+dt&4294967295,this.chain_[1]=this.chain_[1]+Zt&4294967295,this.chain_[2]=this.chain_[2]+Pt&4294967295,this.chain_[3]=this.chain_[3]+tt&4294967295,this.chain_[4]=this.chain_[4]+sr&4294967295},ve.prototype.update=function(oe,pe){if(null!=oe){void 0===pe&&(pe=oe.length);for(var Pe=pe-this.blockSize,Ce=0,lt=this.buf_,dt=this.inbuf_;Ce<pe;){if(0===dt)for(;Ce<=Pe;)this.compress_(oe,Ce),Ce+=this.blockSize;if("string"==typeof oe){for(;Ce<pe;)if(lt[dt]=oe.charCodeAt(Ce),++Ce,++dt===this.blockSize){this.compress_(lt),dt=0;break}}else for(;Ce<pe;)if(lt[dt]=oe[Ce],++Ce,++dt===this.blockSize){this.compress_(lt),dt=0;break}}this.inbuf_=dt,this.total_+=pe}},ve.prototype.digest=function(){var oe=[],pe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Pe=this.blockSize-1;Pe>=56;Pe--)this.buf_[Pe]=255&pe,pe/=256;this.compress_(this.buf_);var Ce=0;for(Pe=0;Pe<5;Pe++)for(var lt=24;lt>=0;lt-=8)oe[Ce]=this.chain_[Pe]>>lt&255,++Ce;return oe},ve}(),no=function(){function ve(oe,pe){var Pe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=pe,this.task.then(function(){oe(Pe)}).catch(function(Ce){Pe.error(Ce)})}return ve.prototype.next=function(oe){this.forEachObserver(function(pe){pe.next(oe)})},ve.prototype.error=function(oe){this.forEachObserver(function(pe){pe.error(oe)}),this.close(oe)},ve.prototype.complete=function(){this.forEachObserver(function(oe){oe.complete()}),this.close()},ve.prototype.subscribe=function(oe,pe,Pe){var lt,Ce=this;if(void 0===oe&&void 0===pe&&void 0===Pe)throw new Error("Missing Observer.");lt=function An(ve,oe){if("object"!=typeof ve||null===ve)return!1;for(var pe=0,Pe=oe;pe<Pe.length;pe++){var Ce=Pe[pe];if(Ce in ve&&"function"==typeof ve[Ce])return!0}return!1}(oe,["next","error","complete"])?oe:{next:oe,error:pe,complete:Pe},void 0===lt.next&&(lt.next=vt),void 0===lt.error&&(lt.error=vt),void 0===lt.complete&&(lt.complete=vt);var dt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Ce.finalError?lt.error(Ce.finalError):lt.complete()}catch(Zt){}}),this.observers.push(lt),dt},ve.prototype.unsubscribeOne=function(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},ve.prototype.forEachObserver=function(oe){if(!this.finalized)for(var pe=0;pe<this.observers.length;pe++)this.sendOne(pe,oe)},ve.prototype.sendOne=function(oe,pe){var Pe=this;this.task.then(function(){if(void 0!==Pe.observers&&void 0!==Pe.observers[oe])try{pe(Pe.observers[oe])}catch(Ce){"undefined"!=typeof console&&console.error&&console.error(Ce)}})},ve.prototype.close=function(oe){var pe=this;this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(function(){pe.observers=void 0,pe.onNoObservers=void 0}))},ve}();function vt(){}function _n(ve,oe,pe){var Pe="";switch(oe){case 1:Pe=pe?"first":"First";break;case 2:Pe=pe?"second":"Second";break;case 3:Pe=pe?"third":"Third";break;case 4:Pe=pe?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return ve+" failed: "+(Pe+" argument ")}we.CONSTANTS=d,we.Deferred=me,we.ErrorFactory=$,we.FirebaseError=F,we.MAX_VALUE_MILLIS=144e5,we.RANDOM_FACTOR=.5,we.Sha1=Lt,we.areCookiesEnabled=function U(){return!(!navigator||!navigator.cookieEnabled)},we.assert=Se,we.assertionError=Ae,we.async=function en(ve,oe){return function(){for(var pe=[],Pe=0;Pe<arguments.length;Pe++)pe[Pe]=arguments[Pe];Promise.resolve(!0).then(function(){ve.apply(void 0,pe)}).catch(function(Ce){oe&&oe(Ce)})}},we.base64=ye,we.base64Decode=ge,we.base64Encode=function(ve){var oe=ae(ve);return ye.encodeByteArray(oe,!0)},we.calculateBackoffMillis=function st(ve,oe,pe){void 0===oe&&(oe=1e3),void 0===pe&&(pe=2);var Pe=oe*Math.pow(pe,ve),Ce=Math.round(.5*Pe*(Math.random()-.5)*2);return Math.min(144e5,Pe+Ce)},we.contains=function St(ve,oe){return Object.prototype.hasOwnProperty.call(ve,oe)},we.createSubscribe=function sn(ve,oe){var pe=new no(ve,oe);return pe.subscribe.bind(pe)},we.decode=_e,we.deepCopy=function V(ve){return Q(void 0,ve)},we.deepExtend=Q,we.errorPrefix=_n,we.getUA=De,we.isAdmin=function(ve){var oe=_e(ve).claims;return"object"==typeof oe&&!0===oe.admin},we.isBrowser=function ze(){return"object"==typeof self&&self.self===self},we.isBrowserExtension=function Me(){var ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ve&&void 0!==ve.id},we.isElectron=function Ue(){return De().indexOf("Electron/")>=0},we.isEmpty=function bn(ve){for(var oe in ve)if(Object.prototype.hasOwnProperty.call(ve,oe))return!1;return!0},we.isIE=function ke(){var ve=De();return ve.indexOf("MSIE ")>=0||ve.indexOf("Trident/")>=0},we.isIndexedDBAvailable=function Ye(){return"indexedDB"in self&&null!=indexedDB},we.isMobileCordova=function se(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())},we.isNode=Le,we.isNodeSdk=function $e(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN},we.isReactNative=function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product},we.isSafari=function Ne(){return!Le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},we.isUWP=function Oe(){return De().indexOf("MSAppHost/")>=0},we.isValidFormat=function(ve){var pe=_e(ve).claims;return!!pe&&"object"==typeof pe&&pe.hasOwnProperty("iat")},we.isValidTimestamp=function(ve){var oe=_e(ve).claims,pe=Math.floor((new Date).getTime()/1e3),Pe=0,Ce=0;return"object"==typeof oe&&(oe.hasOwnProperty("nbf")?Pe=oe.nbf:oe.hasOwnProperty("iat")&&(Pe=oe.iat),Ce=oe.hasOwnProperty("exp")?oe.exp:Pe+86400),!!pe&&!!Pe&&!!Ce&&pe>=Pe&&pe<=Ce},we.issuedAtTime=function(ve){var oe=_e(ve).claims;return"object"==typeof oe&&oe.hasOwnProperty("iat")?oe.iat:null},we.jsonEval=te,we.map=function or(ve,oe,pe){var Pe={};for(var Ce in ve)Object.prototype.hasOwnProperty.call(ve,Ce)&&(Pe[Ce]=oe.call(pe,ve[Ce],Ce,ve));return Pe},we.querystring=function Kn(ve){for(var oe=[],pe=function(Pt,tt){Array.isArray(tt)?tt.forEach(function(sr){oe.push(encodeURIComponent(Pt)+"="+encodeURIComponent(sr))}):oe.push(encodeURIComponent(Pt)+"="+encodeURIComponent(tt))},Pe=0,Ce=Object.entries(ve);Pe<Ce.length;Pe++){var lt=Ce[Pe];pe(lt[0],lt[1])}return oe.length?"&"+oe.join("&"):""},we.querystringDecode=function mn(ve){var oe={};return ve.replace(/^\?/,"").split("&").forEach(function(Pe){if(Pe){var Ce=Pe.split("=");oe[Ce[0]]=Ce[1]}}),oe},we.safeGet=function Vn(ve,oe){if(Object.prototype.hasOwnProperty.call(ve,oe))return ve[oe]},we.stringLength=function(ve){for(var oe=0,pe=0;pe<ve.length;pe++){var Pe=ve.charCodeAt(pe);Pe<128?oe++:Pe<2048?oe+=2:Pe>=55296&&Pe<=56319?(oe+=4,pe++):oe+=3}return oe},we.stringToByteArray=function(ve){for(var oe=[],pe=0,Pe=0;Pe<ve.length;Pe++){var Ce=ve.charCodeAt(Pe);if(Ce>=55296&&Ce<=56319){var lt=Ce-55296;Pe++,Se(Pe<ve.length,"Surrogate pair missing trail surrogate."),Ce=65536+(lt<<10)+(ve.charCodeAt(Pe)-56320)}Ce<128?oe[pe++]=Ce:Ce<2048?(oe[pe++]=Ce>>6|192,oe[pe++]=63&Ce|128):Ce<65536?(oe[pe++]=Ce>>12|224,oe[pe++]=Ce>>6&63|128,oe[pe++]=63&Ce|128):(oe[pe++]=Ce>>18|240,oe[pe++]=Ce>>12&63|128,oe[pe++]=Ce>>6&63|128,oe[pe++]=63&Ce|128)}return oe},we.stringify=function He(ve){return JSON.stringify(ve)},we.validateArgCount=function(ve,oe,pe,Pe){var Ce;if(Pe<oe?Ce="at least "+oe:Pe>pe&&(Ce=0===pe?"none":"no more than "+pe),Ce)throw new Error(ve+" failed: Was called with "+Pe+(1===Pe?" argument.":" arguments.")+" Expects "+Ce+".")},we.validateCallback=function dr(ve,oe,pe,Pe){if((!Pe||pe)&&"function"!=typeof pe)throw new Error(_n(ve,oe,Pe)+"must be a valid function.")},we.validateContextObject=function En(ve,oe,pe,Pe){if((!Pe||pe)&&("object"!=typeof pe||null===pe))throw new Error(_n(ve,oe,Pe)+"must be a valid context object.")},we.validateIndexedDBOpenable=function B(){return new Promise(function(ve,oe){try{var pe=!0,Pe="validate-browser-context-for-indexeddb-analytics-module",Ce=window.indexedDB.open(Pe);Ce.onsuccess=function(){Ce.result.close(),pe||window.indexedDB.deleteDatabase(Pe),ve(!0)},Ce.onupgradeneeded=function(){pe=!1},Ce.onerror=function(){var lt;oe((null===(lt=Ce.error)||void 0===lt?void 0:lt.message)||"")}}catch(lt){oe(lt)}})},we.validateNamespace=function Bt(ve,oe,pe,Pe){if((!Pe||pe)&&"string"!=typeof pe)throw new Error(_n(ve,oe,Pe)+"must be a valid firebase namespace.")}},670:(wt,we,J)=>{"use strict";J.r(we),J.d(we,{ErrorCode:()=>dc,EventType:()=>_s,WebChannel:()=>Ri,XhrIo:()=>Su,createWebChannelTransport:()=>To,default:()=>Yo});var k=function(_,S){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,X){L.__proto__=X}||function(L,X){for(var le in X)Object.prototype.hasOwnProperty.call(X,le)&&(L[le]=X[le])})(_,S)};function Se(_){var S="function"==typeof Symbol&&Symbol.iterator,L=S&&_[S],X=0;if(L)return L.call(_);if(_&&"number"==typeof _.length)return{next:function(){return _&&X>=_.length&&(_=void 0),{value:_&&_[X++],done:!_}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")}var ae,Ae="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},je=je||{},ye=Ae||self;function xe(){}function ge(_){var S=typeof _;return"object"!=S?S:_?Array.isArray(_)?"array":S:"null"}function V(_){var S=ge(_);return"array"==S||"object"==S&&"number"==typeof _.length}function Q(_){var S=typeof _;return"object"==S&&null!=_||"function"==S}var De="closure_uid_"+(1e9*Math.random()>>>0),se=0;function Le(_,S,L){return _.call.apply(_.bind,arguments)}function ze(_,S,L){if(!_)throw Error();if(2<arguments.length){var X=Array.prototype.slice.call(arguments,2);return function(){var le=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(le,X),_.apply(S,le)}}return function(){return _.apply(S,arguments)}}function Me(_,S,L){return(Me=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Le:ze).apply(null,arguments)}function Re(_,S){var L=Array.prototype.slice.call(arguments,1);return function(){var X=L.slice();return X.push.apply(X,arguments),_.apply(this,X)}}var Ue=Date.now;function ke(_,S){function L(){}L.prototype=S.prototype,_.S=S.prototype,_.prototype=new L,_.prototype.constructor=_}function Oe(){this.j=this.j,this.i=this.i}Oe.prototype.j=!1,Oe.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function me(_){Object.prototype.hasOwnProperty.call(_,De)&&_[De]||(_[De]=++se)}(this)},Oe.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ne=Array.prototype.indexOf?function(_,S){return Array.prototype.indexOf.call(_,S,void 0)}:function(_,S){if("string"==typeof _)return"string"!=typeof S||1!=S.length?-1:_.indexOf(S,0);for(var L=0;L<_.length;L++)if(L in _&&_[L]===S)return L;return-1},Ye=Array.prototype.forEach?function(_,S,L){Array.prototype.forEach.call(_,S,L)}:function(_,S,L){for(var X=_.length,le="string"==typeof _?_.split(""):_,Te=0;Te<X;Te++)Te in le&&S.call(L,le[Te],Te,_)};function U(_){return Array.prototype.concat.apply([],arguments)}function A(_){var S=_.length;if(0<S){for(var L=Array(S),X=0;X<S;X++)L[X]=_[X];return L}return[]}function F(_){return/^[\s\xa0]*$/.test(_)}var te,$=String.prototype.trim?function(_){return _.trim()}:function(_){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(_)[1]};function j(_,S){return-1!=_.indexOf(S)}function ie(_,S){return _<S?-1:_>S?1:0}e:{var He=ye.navigator;if(He){var _e=He.userAgent;if(_e){te=_e;break e}}te=""}function rt(_,S,L){for(var X in _)S.call(L,_[X],X,_)}function Ge(_){var S={};for(var L in _)S[L]=_[L];return S}var Ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(_,S){for(var L,X,le=1;le<arguments.length;le++){for(L in X=arguments[le])_[L]=X[L];for(var Te=0;Te<Ve.length;Te++)L=Ve[Te],Object.prototype.hasOwnProperty.call(X,L)&&(_[L]=X[L])}}function St(_){return St[" "](_),_}St[" "]=xe;var en,_,bn=j(te,"Opera"),or=j(te,"Trident")||j(te,"MSIE"),Kn=j(te,"Edge"),mn=Kn||or,Lt=j(te,"Gecko")&&!(j(te.toLowerCase(),"webkit")&&!j(te,"Edge"))&&!(j(te,"Trident")||j(te,"MSIE"))&&!j(te,"Edge"),sn=j(te.toLowerCase(),"webkit")&&!j(te,"Edge");function no(){var _=ye.document;return _?_.documentMode:void 0}e:{var An="",vt=(_=te,Lt?/rv:([^\);]+)(\)|;)/.exec(_):Kn?/Edge\/([\d\.]+)/.exec(_):or?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(_):sn?/WebKit\/(\S+)/.exec(_):bn?/(?:Version)[ \/]?(\S+)/.exec(_):void 0);if(vt&&(An=vt?vt[1]:""),or){var Wt=no();if(null!=Wt&&Wt>parseFloat(An)){en=String(Wt);break e}}en=An}var _n={};function Bt(_){return function Vn(_,S){var L=_n;return Object.prototype.hasOwnProperty.call(L,_)?L[_]:L[_]=S(_)}(_,function(){for(var S=0,L=$(String(en)).split("."),X=$(String(_)).split("."),le=Math.max(L.length,X.length),Te=0;0==S&&Te<le;Te++){var Xe=L[Te]||"",un=X[Te]||"";do{if(Xe=/(\d*)(\D*)(.*)/.exec(Xe)||["","","",""],un=/(\d*)(\D*)(.*)/.exec(un)||["","","",""],0==Xe[0].length&&0==un[0].length)break;S=ie(0==Xe[1].length?0:parseInt(Xe[1],10),0==un[1].length?0:parseInt(un[1],10))||ie(0==Xe[2].length,0==un[2].length)||ie(Xe[2],un[2]),Xe=Xe[3],un=un[3]}while(0==S)}return 0<=S})}var pr=ye.document&&or&&(no()||parseInt(en,10))||void 0,mi=!or||9<=Number(pr),Ho=or&&!Bt("9"),xs=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var _=!1,S=Object.defineProperty({},"passive",{get:function(){_=!0}});try{ye.addEventListener("test",xe,S),ye.removeEventListener("test",xe,S)}catch(L){}return _}();function jn(_,S){this.type=_,this.a=this.target=S,this.defaultPrevented=!1}function On(_,S){if(jn.call(this,_?_.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,_){var L=this.type=_.type,X=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.a=S,S=_.relatedTarget){if(Lt){e:{try{St(S.nodeName);var le=!0;break e}catch(Te){}le=!1}le||(S=null)}}else"mouseover"==L?S=_.fromElement:"mouseout"==L&&(S=_.toElement);this.relatedTarget=S,X?(this.clientX=void 0!==X.clientX?X.clientX:X.pageX,this.clientY=void 0!==X.clientY?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType="string"==typeof _.pointerType?_.pointerType:st[_.pointerType]||"",this.c=_,_.defaultPrevented&&this.b()}}jn.prototype.b=function(){this.defaultPrevented=!0},ke(On,jn);var st={2:"touch",3:"pen",4:"mouse"};On.prototype.b=function(){On.S.b.call(this);var _=this.c;if(_.preventDefault)_.preventDefault();else if(_.returnValue=!1,Ho)try{(_.ctrlKey||112<=_.keyCode&&123>=_.keyCode)&&(_.keyCode=-1)}catch(S){}};var ve="closure_listenable_"+(1e6*Math.random()|0),oe=0;function pe(_,S,L,X,le){this.listener=_,this.proxy=null,this.src=S,this.type=L,this.capture=!!X,this.ca=le,this.key=++oe,this.Y=this.Z=!1}function Pe(_){_.Y=!0,_.listener=null,_.proxy=null,_.src=null,_.ca=null}function Ce(_){this.src=_,this.a={},this.b=0}function lt(_,S){var L=S.type;if(L in _.a){var Te,X=_.a[L],le=Ne(X,S);(Te=0<=le)&&Array.prototype.splice.call(X,le,1),Te&&(Pe(S),0==_.a[L].length&&(delete _.a[L],_.b--))}}function dt(_,S,L,X){for(var le=0;le<_.length;++le){var Te=_[le];if(!Te.Y&&Te.listener==S&&Te.capture==!!L&&Te.ca==X)return le}return-1}Ce.prototype.add=function(_,S,L,X,le){var Te=_.toString();(_=this.a[Te])||(_=this.a[Te]=[],this.b++);var Xe=dt(_,S,X,le);return-1<Xe?(S=_[Xe],L||(S.Z=!1)):((S=new pe(S,this.src,Te,!!X,le)).Z=L,_.push(S)),S};var Zt="closure_lm_"+(1e6*Math.random()|0),Pt={};function tt(_,S,L,X,le){if(X&&X.once)return Qn(_,S,L,X,le);if(Array.isArray(S)){for(var Te=0;Te<S.length;Te++)tt(_,S[Te],L,X,le);return null}return L=ur(L),_&&_[ve]?_.va(S,L,Q(X)?!!X.capture:!!X,le):sr(_,S,L,!1,X,le)}function sr(_,S,L,X,le,Te){if(!S)throw Error("Invalid event type");var Xe=Q(le)?!!le.capture:!!le;if(Xe&&!mi)return null;var un=tn(_);if(un||(_[Zt]=un=new Ce(_)),(L=un.add(S,L,X,Xe,Te)).proxy)return L;if(X=function Tt(){var _=Un,S=mi?function(L){return _.call(S.src,S.listener,L)}:function(L){if(!(L=_.call(S.src,S.listener,L)))return L};return S}(),L.proxy=X,X.src=_,X.listener=L,_.addEventListener)xs||(le=Xe),void 0===le&&(le=!1),_.addEventListener(S.toString(),X,le);else if(_.attachEvent)_.attachEvent(fs(S.toString()),X);else{if(!_.addListener||!_.removeListener)throw Error("addEventListener and attachEvent are unavailable.");_.addListener(X)}return L}function Qn(_,S,L,X,le){if(Array.isArray(S)){for(var Te=0;Te<S.length;Te++)Qn(_,S[Te],L,X,le);return null}return L=ur(L),_&&_[ve]?_.wa(S,L,Q(X)?!!X.capture:!!X,le):sr(_,S,L,!0,X,le)}function ar(_,S,L,X,le){if(Array.isArray(S))for(var Te=0;Te<S.length;Te++)ar(_,S[Te],L,X,le);else X=Q(X)?!!X.capture:!!X,L=ur(L),_&&_[ve]?(_=_.c,(S=String(S).toString())in _.a&&-1<(L=dt(Te=_.a[S],L,X,le))&&(Pe(Te[L]),Array.prototype.splice.call(Te,L,1),0==Te.length&&(delete _.a[S],_.b--))):_&&(_=tn(_))&&(S=_.a[S.toString()],_=-1,S&&(_=dt(S,L,X,le)),(L=-1<_?S[_]:null)&&$t(L))}function $t(_){if("number"!=typeof _&&_&&!_.Y){var S=_.src;if(S&&S[ve])lt(S.c,_);else{var L=_.type,X=_.proxy;S.removeEventListener?S.removeEventListener(L,X,_.capture):S.detachEvent?S.detachEvent(fs(L),X):S.addListener&&S.removeListener&&S.removeListener(X),(L=tn(S))?(lt(L,_),0==L.b&&(L.src=null,S[Zt]=null)):Pe(_)}}}function fs(_){return _ in Pt?Pt[_]:Pt[_]="on"+_}function Bi(_,S){var L=_.listener,X=_.ca||_.src;return _.Z&&$t(_),L.call(X,S)}function Un(_,S){if(_.Y)return!0;if(!mi){if(!S)e:{S=["window","event"];for(var L=ye,X=0;X<S.length;X++)if(null==(L=L[S[X]])){S=null;break e}S=L}return Bi(_,S=new On(S,this))}return Bi(_,new On(S,this))}function tn(_){return(_=_[Zt])instanceof Ce?_:null}var ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function ur(_){return"function"==ge(_)?_:(_[ro]||(_[ro]=function(S){return _.handleEvent(S)}),_[ro])}function gr(){Oe.call(this),this.c=new Ce(this),this.J=this,this.C=null}function hs(_,S,L,X){if(!(S=_.c.a[String(S)]))return!0;S=S.concat();for(var le=!0,Te=0;Te<S.length;++Te){var Xe=S[Te];if(Xe&&!Xe.Y&&Xe.capture==L){var un=Xe.listener,cn=Xe.ca||Xe.src;Xe.Z&&lt(_.c,Xe),le=!1!==un.call(cn,X)&&le}}return le&&!X.defaultPrevented}ke(gr,Oe),gr.prototype[ve]=!0,(ae=gr.prototype).addEventListener=function(_,S,L,X){tt(this,_,S,L,X)},ae.removeEventListener=function(_,S,L,X){ar(this,_,S,L,X)},ae.dispatchEvent=function(_){var S,L=this.C;if(L)for(S=[];L;L=L.C)S.push(L);L=this.J;var X=_.type||_;if("string"==typeof _)_=new jn(_,L);else if(_ instanceof jn)_.target=_.target||L;else{var le=_;ft(_=new jn(X,L),le)}if(le=!0,S)for(var Te=S.length-1;0<=Te;Te--){var Xe=_.a=S[Te];le=hs(Xe,X,!0,_)&&le}if(le=hs(Xe=_.a=L,X,!0,_)&&le,le=hs(Xe,X,!1,_)&&le,S)for(Te=0;Te<S.length;Te++)le=hs(Xe=_.a=S[Te],X,!1,_)&&le;return le},ae.G=function(){if(gr.S.G.call(this),this.c){var S,_=this.c;for(S in _.a){for(var L=_.a[S],X=0;X<L.length;X++)Pe(L[X]);delete _.a[S],_.b--}}this.C=null},ae.va=function(_,S,L,X){return this.c.add(String(_),S,!1,L,X)},ae.wa=function(_,S,L,X){return this.c.add(String(_),S,!0,L,X)};var $r=ye.JSON.stringify;function Bn(){this.b=this.a=null}var io,It=new(function(){function _(S,L,X){this.f=X,this.c=S,this.g=L,this.b=0,this.a=null}return _.prototype.get=function(){var S;return 0<this.b?(this.b--,this.a=(S=this.a).next,S.next=null):S=this.c(),S},_}())(function(){return new zr},function(_){_.reset()},100);function rn(){var _=ds,S=null;return _.a&&(S=_.a,_.a=_.a.next,_.a||(_.b=null),S.next=null),S}function zr(){this.next=this.b=this.a=null}function ni(_){ye.setTimeout(function(){throw _},0)}function Ps(_,S){io||function Wr(){var _=ye.Promise.resolve(void 0);io=function(){_.then(oo)}}(),Rs||(io(),Rs=!0),ds.add(_,S)}Bn.prototype.add=function(_,S){var L=It.get();L.set(_,S),this.b?this.b.next=L:this.a=L,this.b=L},zr.prototype.set=function(_,S){this.a=_,this.b=S,this.next=null},zr.prototype.reset=function(){this.next=this.b=this.a=null};var Rs=!1,ds=new Bn;function oo(){for(var _;_=rn();){try{_.a.call(_.b)}catch(L){ni(L)}var S=It;S.g(_),S.b<S.f&&(S.b++,_.next=S.a,S.a=_)}Rs=!1}function so(_,S){gr.call(this),this.b=_||1,this.a=S||ye,this.f=Me(this.Ya,this),this.g=Ue()}function Ft(_){_.aa=!1,_.M&&(_.a.clearTimeout(_.M),_.M=null)}function vi(_,S,L){if("function"==ge(_))L&&(_=Me(_,L));else{if(!_||"function"!=typeof _.handleEvent)throw Error("Invalid listener argument");_=Me(_.handleEvent,_)}return 2147483647<Number(S)?-1:ye.setTimeout(_,S||0)}function _o(_){_.a=vi(function(){_.a=null,_.c&&(_.c=!1,_o(_))},_.h);var S=_.b;_.b=null,_.g.apply(null,S)}ke(so,gr),(ae=so.prototype).aa=!1,ae.M=null,ae.Ya=function(){if(this.aa){var _=Ue()-this.g;0<_&&_<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-_):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Ft(this),this.start()))}},ae.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ue())},ae.G=function(){so.S.G.call(this),Ft(this),delete this.a};var kr=function(_){function S(L,X,le){var Te=_.call(this)||this;return Te.g=null!=le?L.bind(le):L,Te.h=X,Te.b=null,Te.c=!1,Te.a=null,Te}return function d(_,S){function L(){this.constructor=_}k(_,S),_.prototype=null===S?Object.create(S):(L.prototype=S.prototype,new L)}(S,_),S.prototype.f=function(L){this.b=arguments,this.a?this.c=!0:_o(this)},S.prototype.G=function(){_.prototype.G.call(this),this.a&&(ye.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},S}(Oe);function Kr(_){Oe.call(this),this.b=_,this.a={}}ke(Kr,Oe);var wo=[];function Lr(_,S,L,X){Array.isArray(L)||(L&&(wo[0]=L.toString()),L=wo);for(var le=0;le<L.length;le++){var Te=tt(S,L[le],X||_.handleEvent,!1,_.b||_);if(!Te)break;_.a[Te.key]=Te}}function cr(_){rt(_.a,function(S,L){this.a.hasOwnProperty(L)&&$t(S)},_),_.a={}}function ao(){this.a=!0}function qn(_,S,L,X){_.info(function(){return"XMLHTTP TEXT ("+S+"): "+function Jt(_,S){if(!_.a)return S;if(!S)return null;try{var L=JSON.parse(S);if(L)for(_=0;_<L.length;_++)if(Array.isArray(L[_])){var X=L[_];if(!(2>X.length)){var le=X[1];if(Array.isArray(le)&&!(1>le.length)){var Te=le[0];if("noop"!=Te&&"stop"!=Te&&"close"!=Te)for(var Xe=1;Xe<le.length;Xe++)le[Xe]=""}}}return $r(L)}catch(un){return S}}(_,L)+(X?" "+X:"")})}Kr.prototype.G=function(){Kr.S.G.call(this),cr(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ao.prototype.info=function(){};var hn=null;function Yn(){return hn=hn||new gr}function Sr(_){jn.call(this,"serverreachability",_)}function Ht(_){var S=Yn();S.dispatchEvent(new Sr(S,_))}function mr(_){jn.call(this,"statevent",_)}function kt(_){var S=Yn();S.dispatchEvent(new mr(S,_))}function Ti(_){jn.call(this,"timingevent",_)}function vr(_,S){if("function"!=ge(_))throw Error("Fn must not be null and must be a function");return ye.setTimeout(function(){_()},S)}ke(Sr,jn),ke(mr,jn),ke(Ti,jn);var At={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},uo={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Hi(){}function Si(){}Hi.prototype.a=null;var tr,yr={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function bo(){jn.call(this,"d")}function _r(){jn.call(this,"c")}function Rt(){}function oi(_,S,L,X){this.g=_,this.c=S,this.f=L,this.T=X||1,this.J=new Kr(this),this.P=bu,this.R=new so(_=mn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}ke(bo,jn),ke(_r,jn),ke(Rt,Hi),tr=new Rt;var bu=45e3,an={},Vr={};function Go(_,S,L){_.H=1,_.i=Mi(yi(S)),_.j=L,_.I=!0,Vt(_,null)}function Vt(_,S){_.u=Ue(),si(_),_.l=yi(_.i);var L=_.l,X=_.T;Array.isArray(X)||(X=[String(X)]),nr(L.b,"t",X),_.D=0,_.a=js(_.g,_.g.C?S:null),0<_.O&&(_.F=new kr(Me(_.Ca,_,_.a),_.O)),Lr(_.J,_.a,"readystatechange",_.Wa),S=_.B?Ge(_.B):{},_.j?(_.m||(_.m="POST"),S["Content-Type"]="application/x-www-form-urlencoded",_.a.ba(_.l,_.m,_.j,S)):(_.m="GET",_.a.ba(_.l,_.m,null,S)),Ht(1),function Pn(_,S,L,X,le,Te){_.info(function(){if(_.a)if(Te)for(var Xe="",un=Te.split("&"),cn=0;cn<un.length;cn++){var Or=un[cn].split("=");if(1<Or.length){var Gr=Or[0];Or=Or[1];var Nr=Gr.split("_");Xe=2<=Nr.length&&"type"==Nr[1]?Xe+(Gr+"=")+Or+"&":Xe+(Gr+"=redacted&")}}else Xe=null;else Xe=Te;return"XMLHTTP REQ ("+X+") [attempt "+le+"]: "+S+"\n"+L+"\n"+Xe})}(_.c,_.m,_.l,_.f,_.T,_.j)}function Rn(_,S,L){for(var X=!0;!_.A&&_.D<L.length;){var le=yn(_,L);if(le==Vr){4==S&&(_.h=4,kt(14),X=!1),qn(_.c,_.f,null,"[Incomplete Response]");break}if(le==an){_.h=4,kt(15),qn(_.c,_.f,L,"[Invalid Chunk]"),X=!1;break}qn(_.c,_.f,le,null),Tn(_,le)}4==S&&0==L.length&&(_.h=1,kt(16),X=!1),_.b=_.b&&X,X?0<L.length&&!_.W&&(_.W=!0,(S=_.g).a==_&&S.V&&!S.F&&(S.c.info("Great, no buffering proxy detected. Bytes received: "+L.length),Tu(S),S.F=!0)):(qn(_.c,_.f,L,"[Invalid Chunked Response]"),bt(_),Gi(_))}function yn(_,S){var L=_.D,X=S.indexOf("\n",L);return-1==X?Vr:(L=Number(S.substring(L,X)),isNaN(L)?an:(X+=1)+L>S.length?Vr:(S=S.substr(X,L),_.D=X+L,S))}function si(_){_.U=Ue()+_.P,ai(_,_.P)}function ai(_,S){if(null!=_.o)throw Error("WatchDog timer not null");_.o=vr(Me(_.Ua,_),S)}function qo(_){_.o&&(ye.clearTimeout(_.o),_.o=null)}function Gi(_){0==_.g.v||_.A||Ur(_.g,_)}function bt(_){qo(_);var S=_.F;S&&"function"==typeof S.ja&&S.ja(),_.F=null,Ft(_.R),cr(_.J),_.a&&(S=_.a,_.a=null,S.abort(),S.ja())}function Tn(_,S){try{var L=_.g;if(0!=L.v&&(L.a==_||ct(L.b,_)))if(L.I=_.N,!_.C&&ct(L.b,_)&&3==L.v){try{var X=L.ka.a.parse(S)}catch(Qr){X=null}if(Array.isArray(X)&&3==X.length){var le=X;if(0==le[0])e:if(L.j)L.oa=le[1],0<L.oa-L.P&&37500>le[2]&&L.H&&0==L.o&&!L.m&&(L.m=vr(Me(L.Ra,L),6e3));else{if(L.a){if(!(L.a.u+3e3<_.u))break e;Vs(L),Ze(L)}Js(L),kt(18)}if(1>=Qe(L.b)&&L.ea){try{L.ea()}catch(Qr){}L.ea=void 0}}else Pi(L,11)}else if((_.C||L.a==_)&&Vs(L),!F(S))for(S=X=L.ka.a.parse(S),X=0;X<S.length;X++)if(L.P=(le=S[X])[0],le=le[1],2==L.v)if("c"==le[0]){L.J=le[1],L.ga=le[2];var Te=le[3];null!=Te&&(L.ha=Te,L.c.info("VER="+L.ha));var Xe=le[4];null!=Xe&&(L.pa=Xe,L.c.info("SVER="+L.pa));var un=le[5];if(null!=un&&"number"==typeof un&&0<un){var cn=1.5*un;L.D=cn,L.c.info("backChannelRequestTimeoutMs_="+cn)}cn=L;var Or=_.a;if(Or){var Gr=Or.a?Or.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var Nr=cn.b;!Nr.a&&(j(Gr,"spdy")||j(Gr,"quic")||j(Gr,"h2"))&&(Nr.f=Nr.g,Nr.a=new Set,Nr.b&&(ot(Nr,Nr.b),Nr.b=null))}if(cn.A){var Ha=Or.a?Or.a.getResponseHeader("X-HTTP-Session-Id"):null;Ha&&(cn.na=Ha,Nn(cn.B,cn.A,Ha))}}L.v=3,L.f&&L.f.ta(),L.V&&(L.N=Ue()-_.u,L.c.info("Handshake RTT: "+L.N+"ms"));var Jr=_;if((cn=L).la=Hr(cn,cn.C?cn.ga:null,cn.fa),Jr.C){vn(cn.b,Jr);var xr=Jr,$n=cn.D;$n&&xr.setTimeout($n),xr.o&&(qo(xr),si(xr)),cn.a=Jr}else zi(cn);0<L.g.length&&pn(L)}else"stop"!=le[0]&&"close"!=le[0]||Pi(L,7);else 3==L.v&&("stop"==le[0]||"close"==le[0]?"stop"==le[0]?Pi(L,7):Au(L):"noop"!=le[0]&&L.f&&L.f.sa(le),L.o=0);Ht(4)}catch(Qr){}}function Ba(_,S){if(_.forEach&&"function"==typeof _.forEach)_.forEach(S,void 0);else if(V(_)||"string"==typeof _)Ye(_,S,void 0);else{if(_.L&&"function"==typeof _.L)var L=_.L();else if(_.K&&"function"==typeof _.K)L=void 0;else if(V(_)||"string"==typeof _){L=[];for(var X=_.length,le=0;le<X;le++)L.push(le)}else for(le in L=[],X=0,_)L[X++]=le;X=function Eu(_){if(_.K&&"function"==typeof _.K)return _.K();if("string"==typeof _)return _.split("");if(V(_)){for(var S=[],L=_.length,X=0;X<L;X++)S.push(_[X]);return S}for(X in S=[],L=0,_)S[L++]=_[X];return S}(_),le=X.length;for(var Te=0;Te<le;Te++)S.call(void 0,X[Te],L&&L[Te],_)}}function Fs(_,S){this.b={},this.a=[],this.c=0;var L=arguments.length;if(1<L){if(L%2)throw Error("Uneven number of arguments");for(var X=0;X<L;X+=2)this.set(arguments[X],arguments[X+1])}else if(_)if(_ instanceof Fs)for(L=_.L(),X=0;X<L.length;X++)this.set(L[X],_.get(L[X]));else for(X in _)this.set(X,_[X])}function ba(_){if(_.c!=_.a.length){for(var S=0,L=0;S<_.a.length;){var X=_.a[S];Eo(_.b,X)&&(_.a[L++]=X),S++}_.a.length=L}if(_.c!=_.a.length){var le={};for(L=S=0;S<_.a.length;)Eo(le,X=_.a[S])||(_.a[L++]=X,le[X]=1),S++;_.a.length=L}}function Eo(_,S){return Object.prototype.hasOwnProperty.call(_,S)}(ae=oi.prototype).setTimeout=function(_){this.P=_},ae.Wa=function(_){_=_.target;var S=this.F;S&&3==$i(_)?S.f():this.Ca(_)},ae.Ca=function(_){try{if(_==this.a)e:{var S=$i(this.a),L=this.a.ua(),X=this.a.X();if(!(3>S||3==S&&!mn&&!this.a.$())){this.A||4!=S||7==L||Ht(8==L||0>=X?3:2),qo(this);var le=this.a.X();this.N=le;var Te=this.a.$();if(this.b=200==le,function ri(_,S,L,X,le,Te,Xe){_.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+le+"]: "+S+"\n"+L+"\n"+Te+" "+Xe})}(this.c,this.m,this.l,this.f,this.T,S,le),this.b){if(this.V&&!this.C){t:{if(this.a){var Xe,un=this.a;if((Xe=un.a?un.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Xe)){var cn=Xe;break t}}cn=null}if(!cn){this.b=!1,this.h=3,kt(12),bt(this),Gi(this);break e}qn(this.c,this.f,cn,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Tn(this,cn)}this.I?(Rn(this,S,Te),mn&&this.b&&3==S&&(Lr(this.J,this.R,"tick",this.Va),this.R.start())):(qn(this.c,this.f,Te,null),Tn(this,Te)),4==S&&bt(this),this.b&&!this.A&&(4==S?Ur(this.g,this):(this.b=!1,si(this)))}else 400==le&&0<Te.indexOf("Unknown SID")?(this.h=3,kt(12)):(this.h=0,kt(13)),bt(this),Gi(this)}}}catch(Or){}},ae.Va=function(){if(this.a){var _=$i(this.a),S=this.a.$();this.D<S.length&&(qo(this),Rn(this,_,S),this.b&&4!=_&&si(this))}},ae.cancel=function(){this.A=!0,bt(this)},ae.Ua=function(){this.o=null;var _=Ue();0<=_-this.U?(function ut(_,S){_.info(function(){return"TIMEOUT: "+S})}(this.c,this.l),2!=this.H&&(Ht(3),kt(17)),bt(this),this.h=2,Gi(this)):ai(this,this.U-_)},(ae=Fs.prototype).K=function(){ba(this);for(var _=[],S=0;S<this.a.length;S++)_.push(this.b[this.a[S]]);return _},ae.L=function(){return ba(this),this.a.concat()},ae.get=function(_,S){return Eo(this.b,_)?this.b[_]:S},ae.set=function(_,S){Eo(this.b,_)||(this.c++,this.a.push(_)),this.b[_]=S},ae.forEach=function(_,S){for(var L=this.L(),X=0;X<L.length;X++){var le=L[X],Te=this.get(le);_.call(S,Te,le,this)}};var Ea=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ps(_,S){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,_ instanceof ps){this.a=void 0!==S?S:_.a,Do(this,_.f),this.j=_.j,ks(this,_.c),gs(this,_.h),this.g=_.g,S=_.b;var L=new Dn;L.c=S.c,S.a&&(L.a=new Fs(S.a),L.b=S.b),Kt(this,L),this.i=_.i}else _&&(L=String(_).match(Ea))?(this.a=!!S,Do(this,L[1]||"",!0),this.j=ui(L[2]||""),ks(this,L[3]||"",!0),gs(this,L[4]),this.g=ui(L[5]||"",!0),Kt(this,L[6]||"",!0),this.i=ui(L[7]||"")):(this.a=!!S,this.b=new Dn(null,this.a))}function yi(_){return new ps(_)}function Do(_,S,L){_.f=L?ui(S,!0):S,_.f&&(_.f=_.f.replace(/:$/,""))}function ks(_,S,L){_.c=L?ui(S,!0):S}function gs(_,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);_.h=S}else _.h=null}function Kt(_,S,L){S instanceof Dn?(_.b=S,function z(_,S){S&&!_.f&&(Fn(_),_.c=null,_.a.forEach(function(L,X){var le=X.toLowerCase();X!=le&&(co(this,X),nr(this,le,L))},_)),_.f=S}(_.b,_.a)):(L||(S=qi(S,vs)),_.b=new Dn(S,_.a))}function Nn(_,S,L){_.b.set(S,L)}function Mi(_){return Nn(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ue()).toString(36)),_}function ui(_,S){return _?S?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function qi(_,S,L){return"string"==typeof _?(_=encodeURI(_).replace(S,Co),L&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Co(_){return"%"+((_=_.charCodeAt(0))>>4&15).toString(16)+(15&_).toString(16)}ps.prototype.toString=function(){var _=[],S=this.f;S&&_.push(qi(S,_i,!0),":");var L=this.c;return(L||"file"==S)&&(_.push("//"),(S=this.j)&&_.push(qi(S,_i,!0),"@"),_.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(L=this.h)&&_.push(":",String(L))),(L=this.g)&&(this.c&&"/"!=L.charAt(0)&&_.push("/"),_.push(qi(L,"/"==L.charAt(0)?Du:zo,!0))),(L=this.b.toString())&&_.push("?",L),(L=this.i)&&_.push("#",qi(L,Yr)),_.join("")};var _i=/[#\/\?@]/g,zo=/[#\?:]/g,Du=/[#\?]/g,vs=/[#\?@]/g,Yr=/#/g;function Dn(_,S){this.b=this.a=null,this.c=_||null,this.f=!!S}function Fn(_){_.a||(_.a=new Fs,_.b=0,_.c&&function $o(_,S){if(_){_=_.split("&");for(var L=0;L<_.length;L++){var X=_[L].indexOf("="),le=null;if(0<=X){var Te=_[L].substring(0,X);le=_[L].substring(X+1)}else Te=_[L];S(Te,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}(_.c,function(S,L){_.add(decodeURIComponent(S.replace(/\+/g," ")),L)}))}function co(_,S){Fn(_),S=x(_,S),Eo(_.a.b,S)&&(_.c=null,_.b-=_.a.get(S).length,Eo((_=_.a).b,S)&&(delete _.b[S],_.c--,_.a.length>2*_.c&&ba(_)))}function Oi(_,S){return Fn(_),S=x(_,S),Eo(_.a.b,S)}function nr(_,S,L){co(_,S),0<L.length&&(_.c=null,_.a.set(x(_,S),A(L)),_.b+=L.length)}function x(_,S){return S=String(S),_.f&&(S=S.toLowerCase()),S}function P(_,S){this.b=_,this.a=S}function Z(_){this.g=_||he,_=ye.PerformanceNavigationTiming?0<(_=ye.performance.getEntriesByType("navigation")).length&&("hq"==_[0].nextHopProtocol||"h2"==_[0].nextHopProtocol):!!(ye.ia&&ye.ia.ya&&ye.ia.ya()&&ye.ia.ya().qb),this.f=_?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(ae=Dn.prototype).add=function(_,S){Fn(this),this.c=null,_=x(this,_);var L=this.a.get(_);return L||this.a.set(_,L=[]),L.push(S),this.b+=1,this},ae.forEach=function(_,S){Fn(this),this.a.forEach(function(L,X){Ye(L,function(le){_.call(S,le,X,this)},this)},this)},ae.L=function(){Fn(this);for(var _=this.a.K(),S=this.a.L(),L=[],X=0;X<S.length;X++)for(var le=_[X],Te=0;Te<le.length;Te++)L.push(S[X]);return L},ae.K=function(_){Fn(this);var S=[];if("string"==typeof _)Oi(this,_)&&(S=U(S,this.a.get(x(this,_))));else{_=this.a.K();for(var L=0;L<_.length;L++)S=U(S,_[L])}return S},ae.set=function(_,S){return Fn(this),this.c=null,Oi(this,_=x(this,_))&&(this.b-=this.a.get(_).length),this.a.set(_,[S]),this.b+=1,this},ae.get=function(_,S){return _&&0<(_=this.K(_)).length?String(_[0]):S},ae.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var _=[],S=this.a.L(),L=0;L<S.length;L++){var X=S[L],le=encodeURIComponent(String(X));X=this.K(X);for(var Te=0;Te<X.length;Te++){var Xe=le;""!==X[Te]&&(Xe+="="+encodeURIComponent(String(X[Te]))),_.push(Xe)}}return this.c=_.join("&")};var he=10;function Be(_){return!!_.b||!!_.a&&_.a.size>=_.f}function Qe(_){return _.b?1:_.a?_.a.size:0}function ct(_,S){return _.b?_.b==S:!!_.a&&_.a.has(S)}function ot(_,S){_.a?_.a.add(S):_.b=S}function vn(_,S){_.b&&_.b==S?_.b=null:_.a&&_.a.has(S)&&_.a.delete(S)}function fn(_){var S,L;if(null!=_.b)return _.c.concat(_.b.s);if(null!=_.a&&0!==_.a.size){var X=_.c;try{for(var le=Se(_.a.values()),Te=le.next();!Te.done;Te=le.next())X=X.concat(Te.value.s)}catch(un){S={error:un}}finally{try{Te&&!Te.done&&(L=le.return)&&L.call(le)}finally{if(S)throw S.error}}return X}return A(_.c)}function pt(){}function wr(){this.a=new pt}function Cn(_,S,L){var X=L||"";try{Ba(_,function(le,Te){var Xe=le;Q(le)&&(Xe=$r(le)),S.push(X+Te+"="+encodeURIComponent(Xe))})}catch(le){throw S.push(X+"type="+encodeURIComponent("_badmap")),le}}function Sn(_,S,L,X,le){try{S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null,le(X)}catch(Te){}}Z.prototype.cancel=function(){var _,S;if(this.c=fn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var L=Se(this.a.values()),X=L.next();!X.done;X=L.next())X.value.cancel()}catch(Te){_={error:Te}}finally{try{X&&!X.done&&(S=L.return)&&S.call(L)}finally{if(_)throw _.error}}this.a.clear()}},pt.prototype.stringify=function(_){return ye.JSON.stringify(_,void 0)},pt.prototype.parse=function(_){return ye.JSON.parse(_,void 0)};var ci=ye.JSON.parse;function dn(_){gr.call(this),this.headers=new Fs,this.H=_||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=jr,this.D=this.F=!1}ke(dn,gr);var jr="",xt=/^https?$/i,on=["POST","PUT"];function Ni(_){return"content-type"==_.toLowerCase()}function xi(_,S){_.b=!1,_.a&&(_.g=!0,_.a.abort(),_.g=!1),_.f=S,_.h=5,Wo(_),Mt(_)}function Wo(_){_.u||(_.u=!0,_.dispatchEvent("complete"),_.dispatchEvent("error"))}function fo(_){if(_.b&&void 0!==je&&(!_.s[1]||4!=$i(_)||2!=_.X()))if(_.l&&4==$i(_))vi(_.za,0,_);else if(_.dispatchEvent("readystatechange"),4==$i(_)){_.b=!1;try{var X,S=_.X();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}if(!(X=L)){var le;if(le=0===S){var Te=String(_.B).match(Ea)[1]||null;if(!Te&&ye.self&&ye.self.location){var Xe=ye.self.location.protocol;Te=Xe.substr(0,Xe.length-1)}le=!xt.test(Te?Te.toLowerCase():"")}X=le}if(X)_.dispatchEvent("complete"),_.dispatchEvent("success");else{_.h=6;try{var un=2<$i(_)?_.a.statusText:""}catch(cn){un=""}_.f=un+" ["+_.X()+"]",Wo(_)}}finally{Mt(_)}}}function Mt(_,S){if(_.a){Cu(_);var L=_.a,X=_.s[0]?xe:null;_.a=null,_.s=null,S||_.dispatchEvent("ready");try{L.onreadystatechange=X}catch(le){}}}function Cu(_){_.a&&_.D&&(_.a.ontimeout=null),_.m&&(ye.clearTimeout(_.m),_.m=null)}function $i(_){return _.a?_.a.readyState:0}function Ko(_,S,L){e:{for(X in L){var X=!1;break e}X=!0}X||(L=function Ls(_){var S="";return rt(_,function(L,X){S+=X,S+=":",S+=L,S+="\r\n"}),S}(L),"string"==typeof _?null!=L&&encodeURIComponent(String(L)):Nn(_,S,L))}function lr(_,S,L){return L&&L.internalChannelParams&&L.internalChannelParams[_]||S}function Iu(_){this.pa=0,this.g=[],this.c=new ao,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=lr("failFast",!1,_),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=lr("baseRetryDelayMs",5e3,_),this.Ma=lr("retryDelaySeedMs",1e4,_),this.Ja=lr("forwardChannelMaxRetries",2,_),this.ma=lr("forwardChannelRequestTimeoutMs",2e4,_),this.Ka=_&&_.g||void 0,this.D=void 0,this.C=_&&_.supportsCrossDomainXhr||!1,this.J="",this.b=new Z(_&&_.concurrentRequestLimit),this.ka=new wr,this.da=_&&_.fastHandshake||!1,this.Ga=_&&_.b||!1,_&&_.f&&(this.c.a=!1),_&&_.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&_&&_.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Au(_){if(Ut(_),3==_.v){var S=_.R++,L=yi(_.B);Nn(L,"SID",_.J),Nn(L,"RID",S),Nn(L,"TYPE","terminate"),nn(_,L),(S=new oi(_,_.c,S,void 0)).H=2,S.i=Mi(yi(L)),L=!1,ye.navigator&&ye.navigator.sendBeacon&&(L=ye.navigator.sendBeacon(S.i.toString(),"")),!L&&ye.Image&&((new Image).src=S.i,L=!0),L||(S.a=js(S.g,null),S.a.ba(S.i)),S.u=Ue(),si(S)}Br(_)}function Ze(_){_.a&&(Tu(_),_.a.cancel(),_.a=null)}function Ut(_){Ze(_),_.j&&(ye.clearTimeout(_.j),_.j=null),Vs(_),_.b.cancel(),_.h&&("number"==typeof _.h&&ye.clearTimeout(_.h),_.h=null)}function Io(_,S){_.g.push(new P(_.La++,S)),3==_.v&&pn(_)}function pn(_){Be(_.b)||_.h||(_.h=!0,Ps(_.Ba,_),_.u=0)}function Mr(_,S){var L;L=S?S.f:_.R++;var X=yi(_.B);Nn(X,"SID",_.J),Nn(X,"RID",L),Nn(X,"AID",_.P),nn(_,X),_.i&&_.l&&Ko(X,_.i,_.l),L=new oi(_,_.c,L,_.u+1),null===_.i&&(L.B=_.l),S&&(_.g=S.s.concat(_.g)),S=Zs(_,L,1e3),L.setTimeout(Math.round(.5*_.ma)+Math.round(.5*_.ma*Math.random())),ot(_.b,L),Go(L,X,S)}function nn(_,S){_.f&&Ba({},function(L,X){Nn(S,X,L)})}function Zs(_,S,L){L=Math.min(_.g.length,L);var X=_.f?Me(_.f.Ha,_.f,_):null;e:for(var le=_.g,Te=-1;;){var Xe=["count="+L];-1==Te?0<L?Xe.push("ofs="+(Te=le[0].b)):Te=0:Xe.push("ofs="+Te);for(var un=!0,cn=0;cn<L;cn++){var Or=le[cn].b,Gr=le[cn].a;if(0>(Or-=Te))Te=Math.max(0,le[cn].b-100),un=!1;else try{Cn(Gr,Xe,"req"+Or+"_")}catch(Nr){X&&X(Gr)}}if(un){X=Xe.join("&");break e}}return _=_.g.splice(0,L),S.s=_,X}function zi(_){_.a||_.j||(_.U=1,Ps(_.Aa,_),_.o=0)}function Js(_){return!(_.a||_.j||3<=_.o||(_.U++,_.j=vr(Me(_.Aa,_),Ao(_,_.o)),_.o++,0))}function Tu(_){null!=_.s&&(ye.clearTimeout(_.s),_.s=null)}function ys(_){_.a=new oi(_,_.c,"rpc",_.U),null===_.i&&(_.a.B=_.l),_.a.O=0;var S=yi(_.la);Nn(S,"RID","rpc"),Nn(S,"SID",_.J),Nn(S,"CI",_.H?"0":"1"),Nn(S,"AID",_.P),nn(_,S),Nn(S,"TYPE","xmlhttp"),_.i&&_.l&&Ko(S,_.i,_.l),_.D&&_.a.setTimeout(_.D);var L=_.a;_=_.ga,L.H=1,L.i=Mi(yi(S)),L.j=null,L.I=!0,Vt(L,_)}function Vs(_){null!=_.m&&(ye.clearTimeout(_.m),_.m=null)}function Ur(_,S){var L=null;if(_.a==S){Vs(_),Tu(_),_.a=null;var X=2}else{if(!ct(_.b,S))return;L=S.s,vn(_.b,S),X=1}if(_.I=S.N,0!=_.v)if(S.b)if(1==X){L=S.j?S.j.length:0,S=Ue()-S.u;var le=_.u;(X=Yn()).dispatchEvent(new Ti(X,L,S,le)),pn(_)}else zi(_);else if(3==(le=S.h)||0==le&&0<_.I||!(1==X&&function wn(_,S){return!(Qe(_.b)>=_.b.f-(_.h?1:0)||(_.h?(_.g=S.s.concat(_.g),0):1==_.v||2==_.v||_.u>=(_.Ia?0:_.Ja)||(_.h=vr(Me(_.Ba,_,S),Ao(_,_.u)),_.u++,0)))}(_,S)||2==X&&Js(_)))switch(L&&0<L.length&&(S=_.b,S.c=S.c.concat(L)),le){case 1:Pi(_,5);break;case 4:Pi(_,10);break;case 3:Pi(_,6);break;default:Pi(_,2)}}function Ao(_,S){var L=_.Fa+Math.floor(Math.random()*_.Ma);return _.f||(L*=2),L*S}function Pi(_,S){if(_.c.info("Error code "+S),2==S){var L=null;_.f&&(L=null);var X=Me(_.Xa,_);L||(L=new ps("//www.google.com/images/cleardot.gif"),ye.location&&"http"==ye.location.protocol||Do(L,"https"),Mi(L)),function Zn(_,S){var L=new ao;if(ye.Image){var X=new Image;X.onload=Re(Sn,L,X,"TestLoadImage: loaded",!0,S),X.onerror=Re(Sn,L,X,"TestLoadImage: error",!1,S),X.onabort=Re(Sn,L,X,"TestLoadImage: abort",!1,S),X.ontimeout=Re(Sn,L,X,"TestLoadImage: timeout",!1,S),ye.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=_}else S(!1)}(L.toString(),X)}else kt(2);_.v=0,_.f&&_.f.ra(S),Br(_),Ut(_)}function Br(_){_.v=0,_.I=-1,_.f&&((0!=fn(_.b).length||0!=_.g.length)&&(_.b.c.length=0,A(_.g),_.g.length=0),_.f.qa())}function Hr(_,S,L){var X=function ms(_){return _ instanceof ps?yi(_):new ps(_,void 0)}(L);if(""!=X.c)S&&ks(X,S+"."+X.c),gs(X,X.h);else{var le=ye.location;X=function Ys(_,S,L,X){var le=new ps(null,void 0);return _&&Do(le,_),S&&ks(le,S),L&&gs(le,L),X&&(le.g=X),le}(le.protocol,S?S+"."+le.hostname:le.hostname,+le.port,L)}return _.W&&rt(_.W,function(Te,Xe){Nn(X,Xe,Te)}),L=_.na,(S=_.A)&&L&&Nn(X,S,L),Nn(X,"VER",_.ha),nn(_,X),X}function js(_,S){if(S&&!_.C)throw Error("Can't create secondary domain capable XhrIo object.");return(S=new dn(_.Ka)).F=_.C,S}function Zr(){}function Da(){if(or&&!(10<=Number(pr)))throw Error("Environmental error: no available transport.")}function Wi(_,S){gr.call(this),this.a=new Iu(S),this.l=_,this.b=S&&S.messageUrlParams||null,_=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.a.l=_,_=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(_?_["X-WebChannel-Content-Type"]=S.messageContentType:_={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.a&&(_?_["X-WebChannel-Client-Profile"]=S.a:_={"X-WebChannel-Client-Profile":S.a}),this.a.O=_,(_=S&&S.httpHeadersOverwriteParam)&&!F(_)&&(this.a.i=_),this.h=S&&S.supportsCrossDomainXhr||!1,this.g=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!F(S)&&(this.a.A=S,null!==(_=this.b)&&S in _&&S in(_=this.b)&&delete _[S]),this.f=new nt(this)}function br(_){bo.call(this);var S=_.__sm__;if(S){e:{for(var L in S){_=L;break e}_=void 0}(this.c=_)?(_=this.c,this.data=null!==S&&_ in S?S[_]:void 0):this.data=S}else this.data=_}function wi(){_r.call(this),this.status=1}function nt(_){this.a=_}(ae=dn.prototype).ba=function(_,S,L,X){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+_);S=S?S.toUpperCase():"GET",this.B=_,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function ii(_){var S;return(S=_.a)||(S=_.a={}),S}(this.H?this.H:tr),this.a.onreadystatechange=Me(this.za,this);try{this.A=!0,this.a.open(S,String(_),!0),this.A=!1}catch(Te){return void xi(this,Te)}_=L||"";var le=new Fs(this.headers);X&&Ba(X,function(Te,Xe){le.set(Xe,Te)}),X=function B(_){e:{for(var S=Ni,L=_.length,X="string"==typeof _?_.split(""):_,le=0;le<L;le++)if(le in X&&S.call(void 0,X[le],le,_)){S=le;break e}S=-1}return 0>S?null:"string"==typeof _?_.charAt(S):_[S]}(le.L()),L=ye.FormData&&_ instanceof ye.FormData,!(0<=Ne(on,S))||X||L||le.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),le.forEach(function(Te,Xe){this.a.setRequestHeader(Xe,Te)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Cu(this),0<this.o&&((this.D=function lo(_){return or&&Bt(9)&&"number"==typeof _.timeout&&void 0!==_.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Me(this.xa,this)):this.m=vi(this.xa,this.o,this)),this.l=!0,this.a.send(_),this.l=!1}catch(Te){xi(this,Te)}},ae.xa=function(){void 0!==je&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},ae.abort=function(_){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=_||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Mt(this))},ae.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Mt(this,!0)),dn.S.G.call(this)},ae.za=function(){this.j||(this.A||this.l||this.g?fo(this):this.Ta())},ae.Ta=function(){fo(this)},ae.X=function(){try{return 2<$i(this)?this.a.status:-1}catch(_){return-1}},ae.$=function(){try{return this.a?this.a.responseText:""}catch(_){return""}},ae.Na=function(_){if(this.a){var S=this.a.responseText;return _&&0==S.indexOf(_)&&(S=S.substring(_.length)),ci(S)}},ae.ua=function(){return this.h},ae.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ae=Iu.prototype).ha=8,ae.v=1,ae.Ba=function(_){if(this.h)if(this.h=null,1==this.v){if(!_){this.R=Math.floor(1e5*Math.random()),_=this.R++;var X,S=new oi(this,this.c,_,void 0),L=this.l;if(this.O&&(L?ft(L=Ge(L),this.O):L=this.O),null===this.i&&(S.B=L),this.da)e:{for(var le=X=0;le<this.g.length;le++){var Te=this.g[le];if(void 0===(Te="__data__"in Te.a&&"string"==typeof(Te=Te.a.__data__)?Te.length:void 0))break;if(4096<(X+=Te)){X=le;break e}if(4096===X||le===this.g.length-1){X=le+1;break e}}X=1e3}else X=1e3;X=Zs(this,S,X),Nn(le=yi(this.B),"RID",_),Nn(le,"CVER",22),this.A&&Nn(le,"X-HTTP-Session-Id",this.A),nn(this,le),this.i&&L&&Ko(le,this.i,L),ot(this.b,S),this.Ga&&Nn(le,"TYPE","init"),this.da?(Nn(le,"$req",X),Nn(le,"SID","null"),S.V=!0,Go(S,le,null)):Go(S,le,X),this.v=2}}else 3==this.v&&(_?Mr(this,_):0==this.g.length||Be(this.b)||Mr(this))},ae.Aa=function(){if(this.j=null,ys(this),this.V&&!(this.F||null==this.a||0>=this.N)){var _=2*this.N;this.c.info("BP detection timer enabled: "+_),this.s=vr(Me(this.Sa,this),_)}},ae.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ze(this),ys(this))},ae.Ra=function(){null!=this.m&&(this.m=null,Ze(this),Js(this),kt(19))},ae.Xa=function(_){_?(this.c.info("Successfully pinged google.com"),kt(2)):(this.c.info("Failed to ping google.com"),kt(1))},(ae=Zr.prototype).ta=function(){},ae.sa=function(){},ae.ra=function(){},ae.qa=function(){},ae.Ha=function(){},Da.prototype.a=function(_,S){return new Wi(_,S)},ke(Wi,gr),(ae=Wi.prototype).addEventListener=function(_,S,L,X){Wi.S.addEventListener.call(this,_,S,L,X)},ae.removeEventListener=function(_,S,L,X){Wi.S.removeEventListener.call(this,_,S,L,X)},ae.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var _=this.a,S=this.l,L=this.b||void 0;kt(0),_.fa=S,_.W=L||{},_.H=_.T,_.B=Hr(_,null,_.fa),pn(_)},ae.close=function(){Au(this.a)},ae.Pa=function(_){if("string"==typeof _){var S={};S.__data__=_,Io(this.a,S)}else this.g?((S={}).__data__=$r(_),Io(this.a,S)):Io(this.a,_)},ae.G=function(){this.a.f=null,delete this.f,Au(this.a),delete this.a,Wi.S.G.call(this)},ke(br,bo),ke(wi,_r),ke(nt,Zr),nt.prototype.ta=function(){this.a.dispatchEvent("a")},nt.prototype.sa=function(_){this.a.dispatchEvent(new br(_))},nt.prototype.ra=function(_){this.a.dispatchEvent(new wi(_))},nt.prototype.qa=function(){this.a.dispatchEvent("b")},Da.prototype.createWebChannel=Da.prototype.a,Wi.prototype.send=Wi.prototype.Pa,Wi.prototype.open=Wi.prototype.Oa,Wi.prototype.close=Wi.prototype.close,At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,uo.COMPLETE="complete",Si.EventType=yr,yr.OPEN="a",yr.CLOSE="b",yr.ERROR="c",yr.MESSAGE="d",gr.prototype.listen=gr.prototype.va,dn.prototype.listenOnce=dn.prototype.wa,dn.prototype.getLastError=dn.prototype.Qa,dn.prototype.getLastErrorCode=dn.prototype.ua,dn.prototype.getStatus=dn.prototype.X,dn.prototype.getResponseJson=dn.prototype.Na,dn.prototype.getResponseText=dn.prototype.$,dn.prototype.send=dn.prototype.ba;var To=function(){return new Da},dc=At,_s=uo,Ri=Si,Su=dn;const Yo={createWebChannelTransport:To,ErrorCode:At,EventType:uo,WebChannel:Si,XhrIo:dn}},8887:(wt,we,J)=>{"use strict";var k=J(9808),d=J(1223);class Se extends k.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ae extends Se{static makeCurrent(){(0,k.HT)(new Ae)}onAndCancel(l,a,v){return l.addEventListener(a,v,!1),()=>{l.removeEventListener(a,v,!1)}}dispatchEvent(l,a){l.dispatchEvent(a)}remove(l){l.parentNode&&l.parentNode.removeChild(l)}createElement(l,a){return(a=a||this.getDefaultDocument()).createElement(l)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(l){return l.nodeType===Node.ELEMENT_NODE}isShadowRoot(l){return l instanceof DocumentFragment}getGlobalEventTarget(l,a){return"window"===a?window:"document"===a?l:"body"===a?l.body:null}getBaseHref(l){const a=function je(){return ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null}();return null==a?null:function xe(h){ye=ye||document.createElement("a"),ye.setAttribute("href",h);const l=ye.pathname;return"/"===l.charAt(0)?l:`/${l}`}(a)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(l){return(0,k.Mx)(document.cookie,l)}}let ye,ae=null;const ge=new d.OlP("TRANSITION_ID"),Q=[{provide:d.ip1,useFactory:function V(h,l,a){return()=>{a.get(d.CZH).donePromise.then(()=>{const v=(0,k.q)(),C=l.querySelectorAll(`style[ng-transition="${h}"]`);for(let N=0;N<C.length;N++)v.remove(C[N])})}},deps:[ge,k.K0,d.zs3],multi:!0}];class me{static init(){(0,d.VLi)(new me)}addToWindow(l){d.dqk.getAngularTestability=(v,C=!0)=>{const N=l.findTestabilityInTree(v,C);if(null==N)throw new Error("Could not find testability for element.");return N},d.dqk.getAllAngularTestabilities=()=>l.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>l.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(v=>{const C=d.dqk.getAllAngularTestabilities();let N=C.length,K=!1;const ne=function(be){K=K||be,N--,0==N&&v(K)};C.forEach(function(be){be.whenStable(ne)})})}findTestabilityInTree(l,a,v){if(null==a)return null;const C=l.getTestability(a);return null!=C?C:v?(0,k.q)().isShadowRoot(a)?this.findTestabilityInTree(l,a.host,!0):this.findTestabilityInTree(l,a.parentElement,!0):null}}let De=(()=>{class h{build(){return new XMLHttpRequest}}return h.\u0275fac=function(a){return new(a||h)},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac}),h})();const se=new d.OlP("EventManagerPlugins");let Le=(()=>{class h{constructor(a,v){this._zone=v,this._eventNameToPlugin=new Map,a.forEach(C=>C.manager=this),this._plugins=a.slice().reverse()}addEventListener(a,v,C){return this._findPluginFor(v).addEventListener(a,v,C)}addGlobalEventListener(a,v,C){return this._findPluginFor(v).addGlobalEventListener(a,v,C)}getZone(){return this._zone}_findPluginFor(a){const v=this._eventNameToPlugin.get(a);if(v)return v;const C=this._plugins;for(let N=0;N<C.length;N++){const K=C[N];if(K.supports(a))return this._eventNameToPlugin.set(a,K),K}throw new Error(`No event manager plugin found for event ${a}`)}}return h.\u0275fac=function(a){return new(a||h)(d.LFG(se),d.LFG(d.R0b))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac}),h})();class ze{constructor(l){this._doc=l}addGlobalEventListener(l,a,v){const C=(0,k.q)().getGlobalEventTarget(this._doc,l);if(!C)throw new Error(`Unsupported event target ${C} for event ${a}`);return this.addEventListener(C,a,v)}}let Me=(()=>{class h{constructor(){this._stylesSet=new Set}addStyles(a){const v=new Set;a.forEach(C=>{this._stylesSet.has(C)||(this._stylesSet.add(C),v.add(C))}),this.onStylesAdded(v)}onStylesAdded(a){}getAllStyles(){return Array.from(this._stylesSet)}}return h.\u0275fac=function(a){return new(a||h)},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac}),h})(),Re=(()=>{class h extends Me{constructor(a){super(),this._doc=a,this._hostNodes=new Map,this._hostNodes.set(a.head,[])}_addStylesToHost(a,v,C){a.forEach(N=>{const K=this._doc.createElement("style");K.textContent=N,C.push(v.appendChild(K))})}addHost(a){const v=[];this._addStylesToHost(this._stylesSet,a,v),this._hostNodes.set(a,v)}removeHost(a){const v=this._hostNodes.get(a);v&&v.forEach(Ue),this._hostNodes.delete(a)}onStylesAdded(a){this._hostNodes.forEach((v,C)=>{this._addStylesToHost(a,C,v)})}ngOnDestroy(){this._hostNodes.forEach(a=>a.forEach(Ue))}}return h.\u0275fac=function(a){return new(a||h)(d.LFG(k.K0))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac}),h})();function Ue(h){(0,k.q)().remove(h)}const ke={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Oe=/%COMP%/g;function F(h,l,a){for(let v=0;v<l.length;v++){let C=l[v];Array.isArray(C)?F(h,C,a):(C=C.replace(Oe,h),a.push(C))}return a}function $(h){return l=>{if("__ngUnwrap__"===l)return h;!1===h(l)&&(l.preventDefault(),l.returnValue=!1)}}let ie=(()=>{class h{constructor(a,v,C){this.eventManager=a,this.sharedStylesHost=v,this.appId=C,this.rendererByCompId=new Map,this.defaultRenderer=new te(a)}createRenderer(a,v){if(!a||!v)return this.defaultRenderer;switch(v.encapsulation){case d.ifc.Emulated:{let C=this.rendererByCompId.get(v.id);return C||(C=new rt(this.eventManager,this.sharedStylesHost,v,this.appId),this.rendererByCompId.set(v.id,C)),C.applyToHost(a),C}case 1:case d.ifc.ShadowDom:return new Ge(this.eventManager,this.sharedStylesHost,a,v);default:if(!this.rendererByCompId.has(v.id)){const C=F(v.id,v.styles,[]);this.sharedStylesHost.addStyles(C),this.rendererByCompId.set(v.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return h.\u0275fac=function(a){return new(a||h)(d.LFG(Le),d.LFG(Re),d.LFG(d.AFp))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac}),h})();class te{constructor(l){this.eventManager=l,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(l,a){return a?document.createElementNS(ke[a]||a,l):document.createElement(l)}createComment(l){return document.createComment(l)}createText(l){return document.createTextNode(l)}appendChild(l,a){l.appendChild(a)}insertBefore(l,a,v){l&&l.insertBefore(a,v)}removeChild(l,a){l&&l.removeChild(a)}selectRootElement(l,a){let v="string"==typeof l?document.querySelector(l):l;if(!v)throw new Error(`The selector "${l}" did not match any elements`);return a||(v.textContent=""),v}parentNode(l){return l.parentNode}nextSibling(l){return l.nextSibling}setAttribute(l,a,v,C){if(C){a=C+":"+a;const N=ke[C];N?l.setAttributeNS(N,a,v):l.setAttribute(a,v)}else l.setAttribute(a,v)}removeAttribute(l,a,v){if(v){const C=ke[v];C?l.removeAttributeNS(C,a):l.removeAttribute(`${v}:${a}`)}else l.removeAttribute(a)}addClass(l,a){l.classList.add(a)}removeClass(l,a){l.classList.remove(a)}setStyle(l,a,v,C){C&(d.JOm.DashCase|d.JOm.Important)?l.style.setProperty(a,v,C&d.JOm.Important?"important":""):l.style[a]=v}removeStyle(l,a,v){v&d.JOm.DashCase?l.style.removeProperty(a):l.style[a]=""}setProperty(l,a,v){l[a]=v}setValue(l,a){l.nodeValue=a}listen(l,a,v){return"string"==typeof l?this.eventManager.addGlobalEventListener(l,a,$(v)):this.eventManager.addEventListener(l,a,$(v))}}class rt extends te{constructor(l,a,v,C){super(l),this.component=v;const N=F(C+"-"+v.id,v.styles,[]);a.addStyles(N),this.contentAttr=function U(h){return"_ngcontent-%COMP%".replace(Oe,h)}(C+"-"+v.id),this.hostAttr=function A(h){return"_nghost-%COMP%".replace(Oe,h)}(C+"-"+v.id)}applyToHost(l){super.setAttribute(l,this.hostAttr,"")}createElement(l,a){const v=super.createElement(l,a);return super.setAttribute(v,this.contentAttr,""),v}}class Ge extends te{constructor(l,a,v,C){super(l),this.sharedStylesHost=a,this.hostEl=v,this.shadowRoot=v.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const N=F(C.id,C.styles,[]);for(let K=0;K<N.length;K++){const ne=document.createElement("style");ne.textContent=N[K],this.shadowRoot.appendChild(ne)}}nodeOrShadowRoot(l){return l===this.hostEl?this.shadowRoot:l}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(l,a){return super.appendChild(this.nodeOrShadowRoot(l),a)}insertBefore(l,a,v){return super.insertBefore(this.nodeOrShadowRoot(l),a,v)}removeChild(l,a){return super.removeChild(this.nodeOrShadowRoot(l),a)}parentNode(l){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(l)))}}let Ve=(()=>{class h extends ze{constructor(a){super(a)}supports(a){return!0}addEventListener(a,v,C){return a.addEventListener(v,C,!1),()=>this.removeEventListener(a,v,C)}removeEventListener(a,v,C){return a.removeEventListener(v,C)}}return h.\u0275fac=function(a){return new(a||h)(d.LFG(k.K0))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac}),h})();const ft=["alt","control","meta","shift"],Vn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},or={alt:h=>h.altKey,control:h=>h.ctrlKey,meta:h=>h.metaKey,shift:h=>h.shiftKey};let Kn=(()=>{class h extends ze{constructor(a){super(a)}supports(a){return null!=h.parseEventName(a)}addEventListener(a,v,C){const N=h.parseEventName(v),K=h.eventCallback(N.fullKey,C,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,k.q)().onAndCancel(a,N.domEventName,K))}static parseEventName(a){const v=a.toLowerCase().split("."),C=v.shift();if(0===v.length||"keydown"!==C&&"keyup"!==C)return null;const N=h._normalizeKey(v.pop());let K="";if(ft.forEach(be=>{const it=v.indexOf(be);it>-1&&(v.splice(it,1),K+=be+".")}),K+=N,0!=v.length||0===N.length)return null;const ne={};return ne.domEventName=C,ne.fullKey=K,ne}static getEventFullKey(a){let v="",C=function mn(h){let l=h.key;if(null==l){if(l=h.keyIdentifier,null==l)return"Unidentified";l.startsWith("U+")&&(l=String.fromCharCode(parseInt(l.substring(2),16)),3===h.location&&bn.hasOwnProperty(l)&&(l=bn[l]))}return Vn[l]||l}(a);return C=C.toLowerCase()," "===C?C="space":"."===C&&(C="dot"),ft.forEach(N=>{N!=C&&or[N](a)&&(v+=N+".")}),v+=C,v}static eventCallback(a,v,C){return N=>{h.getEventFullKey(N)===a&&C.runGuarded(()=>v(N))}}static _normalizeKey(a){return"esc"===a?"escape":a}}return h.\u0275fac=function(a){return new(a||h)(d.LFG(k.K0))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac}),h})();const An=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:k.bD},{provide:d.g9A,useValue:function Lt(){Ae.makeCurrent(),me.init()},multi:!0},{provide:k.K0,useFactory:function no(){return(0,d.RDi)(document),document},deps:[]}]),vt=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function sn(){return new d.qLn},deps:[]},{provide:se,useClass:Ve,multi:!0,deps:[k.K0,d.R0b,d.Lbi]},{provide:se,useClass:Kn,multi:!0,deps:[k.K0]},{provide:ie,useClass:ie,deps:[Le,Re,d.AFp]},{provide:d.FYo,useExisting:ie},{provide:Me,useExisting:Re},{provide:Re,useClass:Re,deps:[k.K0]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:Le,useClass:Le,deps:[se,d.R0b]},{provide:k.JF,useClass:De,deps:[]}];let Wt=(()=>{class h{constructor(a){if(a)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(a){return{ngModule:h,providers:[{provide:d.AFp,useValue:a.appId},{provide:ge,useExisting:d.AFp},Q]}}}return h.\u0275fac=function(a){return new(a||h)(d.LFG(h,12))},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({providers:vt,imports:[k.ez,d.hGG]}),h})();"undefined"!=typeof window&&window;let ur=(()=>{class h{}return h.\u0275fac=function(a){return new(a||h)},h.\u0275prov=d.Yz7({token:h,factory:function(a){let v=null;return v=a?new(a||h):d.LFG(hs),v},providedIn:"root"}),h})(),hs=(()=>{class h extends ur{constructor(a){super(),this._doc=a}sanitize(a,v){if(null==v)return null;switch(a){case d.q3G.NONE:return v;case d.q3G.HTML:return(0,d.qzn)(v,"HTML")?(0,d.z3N)(v):(0,d.EiD)(this._doc,String(v)).toString();case d.q3G.STYLE:return(0,d.qzn)(v,"Style")?(0,d.z3N)(v):v;case d.q3G.SCRIPT:if((0,d.qzn)(v,"Script"))return(0,d.z3N)(v);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.yhl)(v),(0,d.qzn)(v,"URL")?(0,d.z3N)(v):(0,d.mCW)(String(v));case d.q3G.RESOURCE_URL:if((0,d.qzn)(v,"ResourceURL"))return(0,d.z3N)(v);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${a} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(a){return(0,d.JVY)(a)}bypassSecurityTrustStyle(a){return(0,d.L6k)(a)}bypassSecurityTrustScript(a){return(0,d.eBb)(a)}bypassSecurityTrustUrl(a){return(0,d.LAX)(a)}bypassSecurityTrustResourceUrl(a){return(0,d.pB0)(a)}}return h.\u0275fac=function(a){return new(a||h)(d.LFG(k.K0))},h.\u0275prov=d.Yz7({token:h,factory:function(a){let v=null;return v=a?new a:function gr(h){return new hs(h.get(k.K0))}(d.LFG(d.zs3)),v},providedIn:"root"}),h})();var Bn=J(8996),It=J(9646),rn=J(7579);class zr extends rn.x{constructor(l){super(),this._value=l}get value(){return this.getValue()}_subscribe(l){const a=super._subscribe(l);return!a.closed&&l.next(this._value),a}getValue(){const{hasError:l,thrownError:a,_value:v}=this;if(l)throw a;return this._throwIfClosed(),v}next(l){super.next(this._value=l)}}var ni=J(8306);const{isArray:Ps}=Array,{getPrototypeOf:io,prototype:Wr,keys:Rs}=Object;function ds(h){if(1===h.length){const l=h[0];if(Ps(l))return{args:l,keys:null};if(function oo(h){return h&&"object"==typeof h&&io(h)===Wr}(l)){const a=Rs(l);return{args:a.map(v=>l[v]),keys:a}}}return{args:h,keys:null}}var so=J(4671),Ft=J(4004);const{isArray:vi}=Array;function kr(h){return(0,Ft.U)(l=>function _o(h,l){return vi(l)?h(...l):h(l)}(h,l))}var Kr=J(7669);function wo(h,l){return h.reduce((a,v,C)=>(a[v]=l[C],a),{})}var Lr=J(5403),cr=J(9672);function ri(h,l,a){h?(0,cr.f)(a,h,l):l()}var qn=J(576);function ut(h,l){const a=(0,qn.m)(h)?h:()=>h,v=C=>C.error(a());return new ni.y(l?C=>l.schedule(v,0,C):v)}const hn=(0,J(3888).d)(h=>function(){h(this),this.name="EmptyError",this.message="no elements in sequence"});var Yn=J(8189);function Ht(...h){return function Sr(){return(0,Yn.J)(1)}()((0,Bn.D)(h,(0,Kr.yG)(h)))}var mr=J(8421);function kt(h){return new ni.y(l=>{(0,mr.Xf)(h()).subscribe(l)})}var Ti=J(515),vr=J(727),At=J(4482);function uo(){return(0,At.e)((h,l)=>{let a=null;h._refCount++;const v=(0,Lr.x)(l,void 0,void 0,void 0,()=>{if(!h||h._refCount<=0||0<--h._refCount)return void(a=null);const C=h._connection,N=a;a=null,C&&(!N||C===N)&&C.unsubscribe(),l.unsubscribe()});h.subscribe(v),v.closed||(a=h.connect())})}class Hi extends ni.y{constructor(l,a){super(),this.source=l,this.subjectFactory=a,this._subject=null,this._refCount=0,this._connection=null,(0,At.A)(l)&&(this.lift=l.lift)}_subscribe(l){return this.getSubject().subscribe(l)}getSubject(){const l=this._subject;return(!l||l.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:l}=this;this._subject=this._connection=null,null==l||l.unsubscribe()}connect(){let l=this._connection;if(!l){l=this._connection=new vr.w0;const a=this.getSubject();l.add(this.source.subscribe((0,Lr.x)(a,void 0,()=>{this._teardown(),a.complete()},v=>{this._teardown(),a.error(v)},()=>this._teardown()))),l.closed&&(this._connection=null,l=vr.w0.EMPTY)}return l}refCount(){return uo()(this)}}function ii(h,l){return(0,At.e)((a,v)=>{let C=null,N=0,K=!1;const ne=()=>K&&!C&&v.complete();a.subscribe((0,Lr.x)(v,be=>{null==C||C.unsubscribe();let it=0;const Ot=N++;(0,mr.Xf)(h(be,Ot)).subscribe(C=(0,Lr.x)(v,mt=>v.next(l?l(be,mt,Ot,it++):mt),()=>{C=null,ne()}))},()=>{K=!0,ne()}))})}var Si=J(5698),bo=J(5026),_r=J(9300);function tr(h){return(0,At.e)((l,a)=>{let N,v=null,C=!1;v=l.subscribe((0,Lr.x)(a,void 0,void 0,K=>{N=(0,mr.Xf)(h(K,tr(h)(l))),v?(v.unsubscribe(),v=null,N.subscribe(a)):C=!0})),C&&(v.unsubscribe(),v=null,N.subscribe(a))})}var Rt=J(5577);function oi(h,l){return(0,qn.m)(l)?(0,Rt.z)(h,l,1):(0,Rt.z)(h,1)}function bu(h){return h<=0?()=>Ti.E:(0,At.e)((l,a)=>{let v=[];l.subscribe((0,Lr.x)(a,C=>{v.push(C),h<v.length&&v.shift()},()=>{for(const C of v)a.next(C);a.complete()},void 0,()=>{v=null}))})}function an(h=Vr){return(0,At.e)((l,a)=>{let v=!1;l.subscribe((0,Lr.x)(a,C=>{v=!0,a.next(C)},()=>v?a.complete():a.error(h())))})}function Vr(){return new hn}function Go(h){return(0,At.e)((l,a)=>{let v=!1;l.subscribe((0,Lr.x)(a,C=>{v=!0,a.next(C)},()=>{v||a.next(h),a.complete()}))})}function Rn(h,l){const a=arguments.length>=2;return v=>v.pipe(h?(0,_r.h)((C,N)=>h(C,N,v)):so.y,(0,Si.q)(1),a?Go(l):an(()=>new hn))}var yn=J(8505);class ai{constructor(l,a){this.id=l,this.url=a}}class qo extends ai{constructor(l,a,v="imperative",C=null){super(l,a),this.navigationTrigger=v,this.restoredState=C}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gi extends ai{constructor(l,a,v){super(l,a),this.urlAfterRedirects=v}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bt extends ai{constructor(l,a,v){super(l,a),this.reason=v}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tn extends ai{constructor(l,a,v){super(l,a),this.error=v}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Eu extends ai{constructor(l,a,v,C){super(l,a),this.urlAfterRedirects=v,this.state=C}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ba extends ai{constructor(l,a,v,C){super(l,a),this.urlAfterRedirects=v,this.state=C}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fs extends ai{constructor(l,a,v,C,N){super(l,a),this.urlAfterRedirects=v,this.state=C,this.shouldActivate=N}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ba extends ai{constructor(l,a,v,C){super(l,a),this.urlAfterRedirects=v,this.state=C}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eo extends ai{constructor(l,a,v,C){super(l,a),this.urlAfterRedirects=v,this.state=C}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ea{constructor(l){this.route=l}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $o{constructor(l){this.route=l}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ps{constructor(l){this.snapshot=l}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yi{constructor(l){this.snapshot=l}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Do{constructor(l){this.snapshot=l}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ks{constructor(l){this.snapshot=l}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gs{constructor(l,a,v){this.routerEvent=l,this.position=a,this.anchor=v}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Kt="primary";class Nn{constructor(l){this.params=l||{}}has(l){return Object.prototype.hasOwnProperty.call(this.params,l)}get(l){if(this.has(l)){const a=this.params[l];return Array.isArray(a)?a[0]:a}return null}getAll(l){if(this.has(l)){const a=this.params[l];return Array.isArray(a)?a:[a]}return[]}get keys(){return Object.keys(this.params)}}function Mi(h){return new Nn(h)}const ms="ngNavigationCancelingError";function Ys(h){const l=Error("NavigationCancelingError: "+h);return l[ms]=!0,l}function qi(h,l,a){const v=a.path.split("/");if(v.length>h.length||"full"===a.pathMatch&&(l.hasChildren()||v.length<h.length))return null;const C={};for(let N=0;N<v.length;N++){const K=v[N],ne=h[N];if(K.startsWith(":"))C[K.substring(1)]=ne;else if(K!==ne.path)return null}return{consumed:h.slice(0,v.length),posParams:C}}function _i(h,l){const a=h?Object.keys(h):void 0,v=l?Object.keys(l):void 0;if(!a||!v||a.length!=v.length)return!1;let C;for(let N=0;N<a.length;N++)if(C=a[N],!zo(h[C],l[C]))return!1;return!0}function zo(h,l){if(Array.isArray(h)&&Array.isArray(l)){if(h.length!==l.length)return!1;const a=[...h].sort(),v=[...l].sort();return a.every((C,N)=>v[N]===C)}return h===l}function Du(h){return Array.prototype.concat.apply([],h)}function vs(h){return h.length>0?h[h.length-1]:null}function Dn(h,l){for(const a in h)h.hasOwnProperty(a)&&l(h[a],a)}function Fn(h){return(0,d.CqO)(h)?h:(0,d.QGY)(h)?(0,Bn.D)(Promise.resolve(h)):(0,It.of)(h)}const Oi={exact:function P(h,l,a){if(!pt(h.segments,l.segments)||!Qe(h.segments,l.segments,a)||h.numberOfChildren!==l.numberOfChildren)return!1;for(const v in l.children)if(!h.children[v]||!P(h.children[v],l.children[v],a))return!1;return!0},subset:he},nr={exact:function z(h,l){return _i(h,l)},subset:function Z(h,l){return Object.keys(l).length<=Object.keys(h).length&&Object.keys(l).every(a=>zo(h[a],l[a]))},ignored:()=>!0};function x(h,l,a){return Oi[a.paths](h.root,l.root,a.matrixParams)&&nr[a.queryParams](h.queryParams,l.queryParams)&&!("exact"===a.fragment&&h.fragment!==l.fragment)}function he(h,l,a){return Be(h,l,l.segments,a)}function Be(h,l,a,v){if(h.segments.length>a.length){const C=h.segments.slice(0,a.length);return!(!pt(C,a)||l.hasChildren()||!Qe(C,a,v))}if(h.segments.length===a.length){if(!pt(h.segments,a)||!Qe(h.segments,a,v))return!1;for(const C in l.children)if(!h.children[C]||!he(h.children[C],l.children[C],v))return!1;return!0}{const C=a.slice(0,h.segments.length),N=a.slice(h.segments.length);return!!(pt(h.segments,C)&&Qe(h.segments,C,v)&&h.children[Kt])&&Be(h.children[Kt],l,N,v)}}function Qe(h,l,a){return l.every((v,C)=>nr[a](h[C].parameters,v.parameters))}class ct{constructor(l,a,v){this.root=l,this.queryParams=a,this.fragment=v}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mi(this.queryParams)),this._queryParamMap}toString(){return Sn.serialize(this)}}class ot{constructor(l,a){this.segments=l,this.children=a,this.parent=null,Dn(a,(v,C)=>v.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ci(this)}}class vn{constructor(l,a){this.path=l,this.parameters=a}get parameterMap(){return this._parameterMap||(this._parameterMap=Mi(this.parameters)),this._parameterMap}toString(){return Wo(this)}}function pt(h,l){return h.length===l.length&&h.every((a,v)=>a.path===l[v].path)}class Cn{}class Zn{parse(l){const a=new Au(l);return new ct(a.parseRootSegment(),a.parseQueryParams(),a.parseFragment())}serialize(l){const a=`/${dn(l.root,!0)}`,v=function Mt(h){const l=Object.keys(h).map(a=>{const v=h[a];return Array.isArray(v)?v.map(C=>`${xt(a)}=${xt(C)}`).join("&"):`${xt(a)}=${xt(v)}`}).filter(a=>!!a);return l.length?`?${l.join("&")}`:""}(l.queryParams);return`${a}${v}${"string"==typeof l.fragment?`#${function on(h){return encodeURI(h)}(l.fragment)}`:""}`}}const Sn=new Zn;function ci(h){return h.segments.map(l=>Wo(l)).join("/")}function dn(h,l){if(!h.hasChildren())return ci(h);if(l){const a=h.children[Kt]?dn(h.children[Kt],!1):"",v=[];return Dn(h.children,(C,N)=>{N!==Kt&&v.push(`${N}:${dn(C,!1)}`)}),v.length>0?`${a}(${v.join("//")})`:a}{const a=function wr(h,l){let a=[];return Dn(h.children,(v,C)=>{C===Kt&&(a=a.concat(l(v,C)))}),Dn(h.children,(v,C)=>{C!==Kt&&(a=a.concat(l(v,C)))}),a}(h,(v,C)=>C===Kt?[dn(h.children[Kt],!1)]:[`${C}:${dn(v,!1)}`]);return 1===Object.keys(h.children).length&&null!=h.children[Kt]?`${ci(h)}/${a[0]}`:`${ci(h)}/(${a.join("//")})`}}function jr(h){return encodeURIComponent(h).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xt(h){return jr(h).replace(/%3B/gi,";")}function lo(h){return jr(h).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ni(h){return decodeURIComponent(h)}function xi(h){return Ni(h.replace(/\+/g,"%20"))}function Wo(h){return`${lo(h.path)}${function fo(h){return Object.keys(h).map(l=>`;${lo(l)}=${lo(h[l])}`).join("")}(h.parameters)}`}const Cu=/^[^\/()?;=#]+/;function $i(h){const l=h.match(Cu);return l?l[0]:""}const Ls=/^[^=?&#]+/,lr=/^[^&#]+/;class Au{constructor(l){this.url=l,this.remaining=l}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ot([],{}):new ot([],this.parseChildren())}parseQueryParams(){const l={};if(this.consumeOptional("?"))do{this.parseQueryParam(l)}while(this.consumeOptional("&"));return l}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const l=[];for(this.peekStartsWith("(")||l.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),l.push(this.parseSegment());let a={};this.peekStartsWith("/(")&&(this.capture("/"),a=this.parseParens(!0));let v={};return this.peekStartsWith("(")&&(v=this.parseParens(!1)),(l.length>0||Object.keys(a).length>0)&&(v[Kt]=new ot(l,a)),v}parseSegment(){const l=$i(this.remaining);if(""===l&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(l),new vn(Ni(l),this.parseMatrixParams())}parseMatrixParams(){const l={};for(;this.consumeOptional(";");)this.parseParam(l);return l}parseParam(l){const a=$i(this.remaining);if(!a)return;this.capture(a);let v="";if(this.consumeOptional("=")){const C=$i(this.remaining);C&&(v=C,this.capture(v))}l[Ni(a)]=Ni(v)}parseQueryParam(l){const a=function Ko(h){const l=h.match(Ls);return l?l[0]:""}(this.remaining);if(!a)return;this.capture(a);let v="";if(this.consumeOptional("=")){const K=function Iu(h){const l=h.match(lr);return l?l[0]:""}(this.remaining);K&&(v=K,this.capture(v))}const C=xi(a),N=xi(v);if(l.hasOwnProperty(C)){let K=l[C];Array.isArray(K)||(K=[K],l[C]=K),K.push(N)}else l[C]=N}parseParens(l){const a={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const v=$i(this.remaining),C=this.remaining[v.length];if("/"!==C&&")"!==C&&";"!==C)throw new Error(`Cannot parse url '${this.url}'`);let N;v.indexOf(":")>-1?(N=v.substr(0,v.indexOf(":")),this.capture(N),this.capture(":")):l&&(N=Kt);const K=this.parseChildren();a[N]=1===Object.keys(K).length?K[Kt]:new ot([],K),this.consumeOptional("//")}return a}peekStartsWith(l){return this.remaining.startsWith(l)}consumeOptional(l){return!!this.peekStartsWith(l)&&(this.remaining=this.remaining.substring(l.length),!0)}capture(l){if(!this.consumeOptional(l))throw new Error(`Expected "${l}".`)}}class Ze{constructor(l){this._root=l}get root(){return this._root.value}parent(l){const a=this.pathFromRoot(l);return a.length>1?a[a.length-2]:null}children(l){const a=Ut(l,this._root);return a?a.children.map(v=>v.value):[]}firstChild(l){const a=Ut(l,this._root);return a&&a.children.length>0?a.children[0].value:null}siblings(l){const a=Io(l,this._root);return a.length<2?[]:a[a.length-2].children.map(C=>C.value).filter(C=>C!==l)}pathFromRoot(l){return Io(l,this._root).map(a=>a.value)}}function Ut(h,l){if(h===l.value)return l;for(const a of l.children){const v=Ut(h,a);if(v)return v}return null}function Io(h,l){if(h===l.value)return[l];for(const a of l.children){const v=Io(h,a);if(v.length)return v.unshift(l),v}return[]}class pn{constructor(l,a){this.value=l,this.children=a}toString(){return`TreeNode(${this.value})`}}function wn(h){const l={};return h&&h.children.forEach(a=>l[a.value.outlet]=a),l}class Mr extends Ze{constructor(l,a){super(l),this.snapshot=a,Ur(this,l)}toString(){return this.snapshot.toString()}}function nn(h,l){const a=function Zs(h,l){const K=new ys([],{},{},"",{},Kt,l,null,h.root,-1,{});return new Vs("",new pn(K,[]))}(h,l),v=new zr([new vn("",{})]),C=new zr({}),N=new zr({}),K=new zr({}),ne=new zr(""),be=new zi(v,C,K,ne,N,Kt,l,a.root);return be.snapshot=a.root,new Mr(new pn(be,[]),a)}class zi{constructor(l,a,v,C,N,K,ne,be){this.url=l,this.params=a,this.queryParams=v,this.fragment=C,this.data=N,this.outlet=K,this.component=ne,this._futureSnapshot=be}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ft.U)(l=>Mi(l)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ft.U)(l=>Mi(l)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Js(h,l="emptyOnly"){const a=h.pathFromRoot;let v=0;if("always"!==l)for(v=a.length-1;v>=1;){const C=a[v],N=a[v-1];if(C.routeConfig&&""===C.routeConfig.path)v--;else{if(N.component)break;v--}}return function Tu(h){return h.reduce((l,a)=>({params:Object.assign(Object.assign({},l.params),a.params),data:Object.assign(Object.assign({},l.data),a.data),resolve:Object.assign(Object.assign({},l.resolve),a._resolvedData)}),{params:{},data:{},resolve:{}})}(a.slice(v))}class ys{constructor(l,a,v,C,N,K,ne,be,it,Ot,mt){this.url=l,this.params=a,this.queryParams=v,this.fragment=C,this.data=N,this.outlet=K,this.component=ne,this.routeConfig=be,this._urlSegment=it,this._lastPathIndex=Ot,this._resolve=mt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(v=>v.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vs extends Ze{constructor(l,a){super(a),this.url=l,Ur(this,a)}toString(){return Ao(this._root)}}function Ur(h,l){l.value._routerState=h,l.children.forEach(a=>Ur(h,a))}function Ao(h){const l=h.children.length>0?` { ${h.children.map(Ao).join(", ")} } `:"";return`${h.value}${l}`}function Pi(h){if(h.snapshot){const l=h.snapshot,a=h._futureSnapshot;h.snapshot=a,_i(l.queryParams,a.queryParams)||h.queryParams.next(a.queryParams),l.fragment!==a.fragment&&h.fragment.next(a.fragment),_i(l.params,a.params)||h.params.next(a.params),function Co(h,l){if(h.length!==l.length)return!1;for(let a=0;a<h.length;++a)if(!_i(h[a],l[a]))return!1;return!0}(l.url,a.url)||h.url.next(a.url),_i(l.data,a.data)||h.data.next(a.data)}else h.snapshot=h._futureSnapshot,h.data.next(h._futureSnapshot.data)}function Br(h,l){const a=_i(h.params,l.params)&&function fn(h,l){return pt(h,l)&&h.every((a,v)=>_i(a.parameters,l[v].parameters))}(h.url,l.url);return a&&!(!h.parent!=!l.parent)&&(!h.parent||Br(h.parent,l.parent))}function js(h,l,a){if(a&&h.shouldReuseRoute(l.value,a.value.snapshot)){const v=a.value;v._futureSnapshot=l.value;const C=function Zr(h,l,a){return l.children.map(v=>{for(const C of a.children)if(h.shouldReuseRoute(v.value,C.value.snapshot))return js(h,v,C);return js(h,v)})}(h,l,a);return new pn(v,C)}{if(h.shouldAttach(l.value)){const N=h.retrieve(l.value);if(null!==N){const K=N.route;return K.value._futureSnapshot=l.value,K.children=l.children.map(ne=>js(h,ne)),K}}const v=function Da(h){return new zi(new zr(h.url),new zr(h.params),new zr(h.queryParams),new zr(h.fragment),new zr(h.data),h.outlet,h.component,h)}(l.value),C=l.children.map(N=>js(h,N));return new pn(v,C)}}function br(h){return"object"==typeof h&&null!=h&&!h.outlets&&!h.segmentPath}function wi(h){return"object"==typeof h&&null!=h&&h.outlets}function nt(h,l,a,v,C){let N={};if(v&&Dn(v,(ne,be)=>{N[be]=Array.isArray(ne)?ne.map(it=>`${it}`):`${ne}`}),h===l)return new ct(a,N,C);const K=To(h,l,a);return new ct(K,N,C)}function To(h,l,a){const v={};return Dn(h.children,(C,N)=>{v[N]=C===l?a:To(C,l,a)}),new ot(h.segments,v)}class dc{constructor(l,a,v){if(this.isAbsolute=l,this.numberOfDoubleDots=a,this.commands=v,l&&v.length>0&&br(v[0]))throw new Error("Root segment cannot have matrix parameters");const C=v.find(wi);if(C&&C!==vs(v))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ri{constructor(l,a,v){this.segmentGroup=l,this.processChildren=a,this.index=v}}function _(h,l,a){if(h||(h=new ot([],{})),0===h.segments.length&&h.hasChildren())return S(h,l,a);const v=function L(h,l,a){let v=0,C=l;const N={match:!1,pathIndex:0,commandIndex:0};for(;C<h.segments.length;){if(v>=a.length)return N;const K=h.segments[C],ne=a[v];if(wi(ne))break;const be=`${ne}`,it=v<a.length-1?a[v+1]:null;if(C>0&&void 0===be)break;if(be&&it&&"object"==typeof it&&void 0===it.outlets){if(!Xe(be,it,K))return N;v+=2}else{if(!Xe(be,{},K))return N;v++}C++}return{match:!0,pathIndex:C,commandIndex:v}}(h,l,a),C=a.slice(v.commandIndex);if(v.match&&v.pathIndex<h.segments.length){const N=new ot(h.segments.slice(0,v.pathIndex),{});return N.children[Kt]=new ot(h.segments.slice(v.pathIndex),h.children),S(N,0,C)}return v.match&&0===C.length?new ot(h.segments,{}):v.match&&!h.hasChildren()?X(h,l,a):v.match?S(h,0,C):X(h,l,a)}function S(h,l,a){if(0===a.length)return new ot(h.segments,{});{const v=function Yo(h){return wi(h[0])?h[0].outlets:{[Kt]:h}}(a),C={};return Dn(v,(N,K)=>{"string"==typeof N&&(N=[N]),null!==N&&(C[K]=_(h.children[K],l,N))}),Dn(h.children,(N,K)=>{void 0===v[K]&&(C[K]=N)}),new ot(h.segments,C)}}function X(h,l,a){const v=h.segments.slice(0,l);let C=0;for(;C<a.length;){const N=a[C];if(wi(N)){const be=le(N.outlets);return new ot(v,be)}if(0===C&&br(a[0])){v.push(new vn(h.segments[l].path,Te(a[0]))),C++;continue}const K=wi(N)?N.outlets[Kt]:`${N}`,ne=C<a.length-1?a[C+1]:null;K&&ne&&br(ne)?(v.push(new vn(K,Te(ne))),C+=2):(v.push(new vn(K,{})),C++)}return new ot(v,{})}function le(h){const l={};return Dn(h,(a,v)=>{"string"==typeof a&&(a=[a]),null!==a&&(l[v]=X(new ot([],{}),0,a))}),l}function Te(h){const l={};return Dn(h,(a,v)=>l[v]=`${a}`),l}function Xe(h,l,a){return h==a.path&&_i(l,a.parameters)}class cn{constructor(l,a,v,C){this.routeReuseStrategy=l,this.futureState=a,this.currState=v,this.forwardEvent=C}activate(l){const a=this.futureState._root,v=this.currState?this.currState._root:null;this.deactivateChildRoutes(a,v,l),Pi(this.futureState.root),this.activateChildRoutes(a,v,l)}deactivateChildRoutes(l,a,v){const C=wn(a);l.children.forEach(N=>{const K=N.value.outlet;this.deactivateRoutes(N,C[K],v),delete C[K]}),Dn(C,(N,K)=>{this.deactivateRouteAndItsChildren(N,v)})}deactivateRoutes(l,a,v){const C=l.value,N=a?a.value:null;if(C===N)if(C.component){const K=v.getContext(C.outlet);K&&this.deactivateChildRoutes(l,a,K.children)}else this.deactivateChildRoutes(l,a,v);else N&&this.deactivateRouteAndItsChildren(a,v)}deactivateRouteAndItsChildren(l,a){l.value.component&&this.routeReuseStrategy.shouldDetach(l.value.snapshot)?this.detachAndStoreRouteSubtree(l,a):this.deactivateRouteAndOutlet(l,a)}detachAndStoreRouteSubtree(l,a){const v=a.getContext(l.value.outlet),C=v&&l.value.component?v.children:a,N=wn(l);for(const K of Object.keys(N))this.deactivateRouteAndItsChildren(N[K],C);if(v&&v.outlet){const K=v.outlet.detach(),ne=v.children.onOutletDeactivated();this.routeReuseStrategy.store(l.value.snapshot,{componentRef:K,route:l,contexts:ne})}}deactivateRouteAndOutlet(l,a){const v=a.getContext(l.value.outlet),C=v&&l.value.component?v.children:a,N=wn(l);for(const K of Object.keys(N))this.deactivateRouteAndItsChildren(N[K],C);v&&v.outlet&&(v.outlet.deactivate(),v.children.onOutletDeactivated(),v.attachRef=null,v.resolver=null,v.route=null)}activateChildRoutes(l,a,v){const C=wn(a);l.children.forEach(N=>{this.activateRoutes(N,C[N.value.outlet],v),this.forwardEvent(new ks(N.value.snapshot))}),l.children.length&&this.forwardEvent(new yi(l.value.snapshot))}activateRoutes(l,a,v){const C=l.value,N=a?a.value:null;if(Pi(C),C===N)if(C.component){const K=v.getOrCreateContext(C.outlet);this.activateChildRoutes(l,a,K.children)}else this.activateChildRoutes(l,a,v);else if(C.component){const K=v.getOrCreateContext(C.outlet);if(this.routeReuseStrategy.shouldAttach(C.snapshot)){const ne=this.routeReuseStrategy.retrieve(C.snapshot);this.routeReuseStrategy.store(C.snapshot,null),K.children.onOutletReAttached(ne.contexts),K.attachRef=ne.componentRef,K.route=ne.route.value,K.outlet&&K.outlet.attach(ne.componentRef,ne.route.value),Pi(ne.route.value),this.activateChildRoutes(l,null,K.children)}else{const ne=function Or(h){for(let l=h.parent;l;l=l.parent){const a=l.routeConfig;if(a&&a._loadedConfig)return a._loadedConfig;if(a&&a.component)return null}return null}(C.snapshot),be=ne?ne.module.componentFactoryResolver:null;K.attachRef=null,K.route=C,K.resolver=be,K.outlet&&K.outlet.activateWith(C,be),this.activateChildRoutes(l,null,K.children)}}else this.activateChildRoutes(l,null,v)}}class Gr{constructor(l,a){this.routes=l,this.module=a}}function Nr(h){return"function"==typeof h}function Jr(h){return h instanceof ct}const Ca=Symbol("INITIAL_VALUE");function Ki(){return ii(h=>function ao(...h){const l=(0,Kr.yG)(h),a=(0,Kr.jO)(h),{args:v,keys:C}=ds(h);if(0===v.length)return(0,Bn.D)([],l);const N=new ni.y(function Pn(h,l,a=so.y){return v=>{ri(l,()=>{const{length:C}=h,N=new Array(C);let K=C,ne=C;for(let be=0;be<C;be++)ri(l,()=>{const it=(0,Bn.D)(h[be],l);let Ot=!1;it.subscribe((0,Lr.x)(v,mt=>{N[be]=mt,Ot||(Ot=!0,ne--),ne||v.next(a(N.slice()))},()=>{--K||v.complete()}))},v)},v)}}(v,l,C?K=>wo(C,K):so.y));return a?N.pipe(kr(a)):N}(h.map(l=>l.pipe((0,Si.q)(1),function yr(...h){const l=(0,Kr.yG)(h);return(0,At.e)((a,v)=>{(l?Ht(h,a,l):Ht(h,a)).subscribe(v)})}(Ca)))).pipe((0,bo.R)((l,a)=>{let v=!1;return a.reduce((C,N,K)=>C!==Ca?C:(N===Ca&&(v=!0),v||!1!==N&&K!==a.length-1&&!Jr(N)?C:N),l)},Ca),(0,_r.h)(l=>l!==Ca),(0,Ft.U)(l=>Jr(l)?l:!0===l),(0,Si.q)(1)))}class ws{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ia,this.attachRef=null}}class Ia{constructor(){this.contexts=new Map}onChildOutletCreated(l,a){const v=this.getOrCreateContext(l);v.outlet=a,this.contexts.set(l,v)}onChildOutletDestroyed(l){const a=this.getContext(l);a&&(a.outlet=null,a.attachRef=null)}onOutletDeactivated(){const l=this.contexts;return this.contexts=new Map,l}onOutletReAttached(l){this.contexts=l}getOrCreateContext(l){let a=this.getContext(l);return a||(a=new ws,this.contexts.set(l,a)),a}getContext(l){return this.contexts.get(l)||null}}let bs=(()=>{class h{constructor(a,v,C,N,K){this.parentContexts=a,this.location=v,this.resolver=C,this.changeDetector=K,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=N||Kt,a.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const a=this.parentContexts.getContext(this.name);a&&a.route&&(a.attachRef?this.attach(a.attachRef,a.route):this.activateWith(a.route,a.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const a=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(a.instance),a}attach(a,v){this.activated=a,this._activatedRoute=v,this.location.insert(a.hostView),this.attachEvents.emit(a.instance)}deactivate(){if(this.activated){const a=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(a)}}activateWith(a,v){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=a;const K=(v=v||this.resolver).resolveComponentFactory(a._futureSnapshot.routeConfig.component),ne=this.parentContexts.getOrCreateContext(this.name).children,be=new Pr(a,ne,this.location.injector);this.activated=this.location.createComponent(K,this.location.length,be),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(Ia),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},h.\u0275dir=d.lG2({type:h,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),h})();class Pr{constructor(l,a,v){this.route=l,this.childContexts=a,this.parent=v}get(l,a){return l===zi?this.route:l===Ia?this.childContexts:this.parent.get(l,a)}}let kn=(()=>{class h{}return h.\u0275fac=function(a){return new(a||h)},h.\u0275cmp=d.Xpm({type:h,selectors:[["ng-component"]],decls:1,vars:0,template:function(a,v){1&a&&d._UZ(0,"router-outlet")},directives:[bs],encapsulation:2}),h})();function Mu(h,l=""){for(let a=0;a<h.length;a++){const v=h[a];Qs(v,gc(l,v))}}function Qs(h,l){h.children&&Mu(h.children,l)}function gc(h,l){return l?h||l.path?h&&!l.path?`${h}/`:!h&&l.path?l.path:`${h}/${l.path}`:"":h}function Ga(h){const l=h.children&&h.children.map(Ga),a=l?Object.assign(Object.assign({},h),{children:l}):Object.assign({},h);return!a.component&&(l||a.loadChildren)&&a.outlet&&a.outlet!==Kt&&(a.component=kn),a}function qr(h){return h.outlet||Kt}function Aa(h,l){const a=h.filter(v=>qr(v)===l);return a.push(...h.filter(v=>qr(v)!==l)),a}const Ou={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function So(h,l,a){var v;if(""===l.path)return"full"===l.pathMatch&&(h.hasChildren()||a.length>0)?Object.assign({},Ou):{matched:!0,consumedSegments:[],remainingSegments:a,parameters:{},positionalParamSegments:{}};const N=(l.matcher||qi)(a,h,l);if(!N)return Object.assign({},Ou);const K={};Dn(N.posParams,(be,it)=>{K[it]=be.path});const ne=N.consumed.length>0?Object.assign(Object.assign({},K),N.consumed[N.consumed.length-1].parameters):K;return{matched:!0,consumedSegments:N.consumed,remainingSegments:a.slice(N.consumed.length),parameters:ne,positionalParamSegments:null!==(v=N.posParams)&&void 0!==v?v:{}}}function Es(h,l,a,v,C="corrected"){if(a.length>0&&function Xs(h,l,a){return a.some(v=>Nu(h,l,v)&&qr(v)!==Kt)}(h,a,v)){const K=new ot(l,function qa(h,l,a,v){const C={};C[Kt]=v,v._sourceSegment=h,v._segmentIndexShift=l.length;for(const N of a)if(""===N.path&&qr(N)!==Kt){const K=new ot([],{});K._sourceSegment=h,K._segmentIndexShift=l.length,C[qr(N)]=K}return C}(h,l,v,new ot(a,h.children)));return K._sourceSegment=h,K._segmentIndexShift=l.length,{segmentGroup:K,slicedSegments:[]}}if(0===a.length&&function zn(h,l,a){return a.some(v=>Nu(h,l,v))}(h,a,v)){const K=new ot(h.segments,function Zc(h,l,a,v,C,N){const K={};for(const ne of v)if(Nu(h,a,ne)&&!C[qr(ne)]){const be=new ot([],{});be._sourceSegment=h,be._segmentIndexShift="legacy"===N?h.segments.length:l.length,K[qr(ne)]=be}return Object.assign(Object.assign({},C),K)}(h,l,a,v,h.children,C));return K._sourceSegment=h,K._segmentIndexShift=l.length,{segmentGroup:K,slicedSegments:a}}const N=new ot(h.segments,h.children);return N._sourceSegment=h,N._segmentIndexShift=l.length,{segmentGroup:N,slicedSegments:a}}function Nu(h,l,a){return(!(h.hasChildren()||l.length>0)||"full"!==a.pathMatch)&&""===a.path}function xu(h,l,a,v){return!!(qr(h)===v||v!==Kt&&Nu(l,a,h))&&("**"===h.path||So(l,h,a).matched)}function Yi(h,l,a){return 0===l.length&&!h.children[a]}class Pu{constructor(l){this.segmentGroup=l||null}}class Jc{constructor(l){this.urlTree=l}}function Mo(h){return ut(new Pu(h))}function $l(h){return ut(new Jc(h))}class _t{constructor(l,a,v,C,N){this.configLoader=a,this.urlSerializer=v,this.urlTree=C,this.config=N,this.allowRedirects=!0,this.ngModule=l.get(d.h0i)}apply(){const l=Es(this.urlTree.root,[],[],this.config).segmentGroup,a=new ot(l.segments,l.children);return this.expandSegmentGroup(this.ngModule,this.config,a,Kt).pipe((0,Ft.U)(N=>this.createUrlTree(Oo(N),this.urlTree.queryParams,this.urlTree.fragment))).pipe(tr(N=>{if(N instanceof Jc)return this.allowRedirects=!1,this.match(N.urlTree);throw N instanceof Pu?this.noMatchError(N):N}))}match(l){return this.expandSegmentGroup(this.ngModule,this.config,l.root,Kt).pipe((0,Ft.U)(C=>this.createUrlTree(Oo(C),l.queryParams,l.fragment))).pipe(tr(C=>{throw C instanceof Pu?this.noMatchError(C):C}))}noMatchError(l){return new Error(`Cannot match any routes. URL Segment: '${l.segmentGroup}'`)}createUrlTree(l,a,v){const C=l.segments.length>0?new ot([],{[Kt]:l}):l;return new ct(C,a,v)}expandSegmentGroup(l,a,v,C){return 0===v.segments.length&&v.hasChildren()?this.expandChildren(l,a,v).pipe((0,Ft.U)(N=>new ot([],N))):this.expandSegment(l,v,a,v.segments,C,!0)}expandChildren(l,a,v){const C=[];for(const N of Object.keys(v.children))"primary"===N?C.unshift(N):C.push(N);return(0,Bn.D)(C).pipe(oi(N=>{const K=v.children[N],ne=Aa(a,N);return this.expandSegmentGroup(l,ne,K,N).pipe((0,Ft.U)(be=>({segment:be,outlet:N})))}),(0,bo.R)((N,K)=>(N[K.outlet]=K.segment,N),{}),function Vt(h,l){const a=arguments.length>=2;return v=>v.pipe(h?(0,_r.h)((C,N)=>h(C,N,v)):so.y,bu(1),a?Go(l):an(()=>new hn))}())}expandSegment(l,a,v,C,N,K){return(0,Bn.D)(v).pipe(oi(ne=>this.expandSegmentAgainstRoute(l,a,v,ne,C,N,K).pipe(tr(it=>{if(it instanceof Pu)return(0,It.of)(null);throw it}))),Rn(ne=>!!ne),tr((ne,be)=>{if(ne instanceof hn||"EmptyError"===ne.name)return Yi(a,C,N)?(0,It.of)(new ot([],{})):Mo(a);throw ne}))}expandSegmentAgainstRoute(l,a,v,C,N,K,ne){return xu(C,a,N,K)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(l,a,C,N,K):ne&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(l,a,v,C,N,K):Mo(a):Mo(a)}expandSegmentAgainstRouteUsingRedirect(l,a,v,C,N,K){return"**"===C.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(l,v,C,K):this.expandRegularSegmentAgainstRouteUsingRedirect(l,a,v,C,N,K)}expandWildCardWithParamsAgainstRouteUsingRedirect(l,a,v,C){const N=this.applyRedirectCommands([],v.redirectTo,{});return v.redirectTo.startsWith("/")?$l(N):this.lineralizeSegments(v,N).pipe((0,Rt.z)(K=>{const ne=new ot(K,{});return this.expandSegment(l,ne,a,K,C,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(l,a,v,C,N,K){const{matched:ne,consumedSegments:be,remainingSegments:it,positionalParamSegments:Ot}=So(a,C,N);if(!ne)return Mo(a);const mt=this.applyRedirectCommands(be,C.redirectTo,Ot);return C.redirectTo.startsWith("/")?$l(mt):this.lineralizeSegments(C,mt).pipe((0,Rt.z)(qt=>this.expandSegment(l,a,v,qt.concat(it),K,!1)))}matchSegmentAgainstRoute(l,a,v,C,N){if("**"===v.path)return v.loadChildren?(v._loadedConfig?(0,It.of)(v._loadedConfig):this.configLoader.load(l.injector,v)).pipe((0,Ft.U)(mt=>(v._loadedConfig=mt,new ot(C,{})))):(0,It.of)(new ot(C,{}));const{matched:K,consumedSegments:ne,remainingSegments:be}=So(a,v,C);return K?this.getChildConfig(l,v,C).pipe((0,Rt.z)(Ot=>{const mt=Ot.module,qt=Ot.routes,{segmentGroup:Ct,slicedSegments:In}=Es(a,ne,be,qt),Qi=new ot(Ct.segments,Ct.children);if(0===In.length&&Qi.hasChildren())return this.expandChildren(mt,qt,Qi).pipe((0,Ft.U)(kl=>new ot(ne,kl)));if(0===qt.length&&0===In.length)return(0,It.of)(new ot(ne,{}));const du=qr(v)===N;return this.expandSegment(mt,Qi,qt,In,du?Kt:N,!0).pipe((0,Ft.U)(va=>new ot(ne.concat(va.segments),va.children)))})):Mo(a)}getChildConfig(l,a,v){return a.children?(0,It.of)(new Gr(a.children,l)):a.loadChildren?void 0!==a._loadedConfig?(0,It.of)(a._loadedConfig):this.runCanLoadGuards(l.injector,a,v).pipe((0,Rt.z)(C=>C?this.configLoader.load(l.injector,a).pipe((0,Ft.U)(N=>(a._loadedConfig=N,N))):function Ru(h){return ut(Ys(`Cannot load children because the guard of the route "path: '${h.path}'" returned false`))}(a))):(0,It.of)(new Gr([],l))}runCanLoadGuards(l,a,v){const C=a.canLoad;if(!C||0===C.length)return(0,It.of)(!0);const N=C.map(K=>{const ne=l.get(K);let be;if(function xr(h){return h&&Nr(h.canLoad)}(ne))be=ne.canLoad(a,v);else{if(!Nr(ne))throw new Error("Invalid CanLoad guard");be=ne(a,v)}return Fn(be)});return(0,It.of)(N).pipe(Ki(),(0,yn.b)(K=>{if(!Jr(K))return;const ne=Ys(`Redirecting to "${this.urlSerializer.serialize(K)}"`);throw ne.url=K,ne}),(0,Ft.U)(K=>!0===K))}lineralizeSegments(l,a){let v=[],C=a.root;for(;;){if(v=v.concat(C.segments),0===C.numberOfChildren)return(0,It.of)(v);if(C.numberOfChildren>1||!C.children[Kt])return ut(new Error(`Only absolute redirects can have named outlets. redirectTo: '${l.redirectTo}'`));C=C.children[Kt]}}applyRedirectCommands(l,a,v){return this.applyRedirectCreatreUrlTree(a,this.urlSerializer.parse(a),l,v)}applyRedirectCreatreUrlTree(l,a,v,C){const N=this.createSegmentGroup(l,a.root,v,C);return new ct(N,this.createQueryParams(a.queryParams,this.urlTree.queryParams),a.fragment)}createQueryParams(l,a){const v={};return Dn(l,(C,N)=>{if("string"==typeof C&&C.startsWith(":")){const ne=C.substring(1);v[N]=a[ne]}else v[N]=C}),v}createSegmentGroup(l,a,v,C){const N=this.createSegments(l,a.segments,v,C);let K={};return Dn(a.children,(ne,be)=>{K[be]=this.createSegmentGroup(l,ne,v,C)}),new ot(N,K)}createSegments(l,a,v,C){return a.map(N=>N.path.startsWith(":")?this.findPosParam(l,N,C):this.findOrReturn(N,v))}findPosParam(l,a,v){const C=v[a.path.substring(1)];if(!C)throw new Error(`Cannot redirect to '${l}'. Cannot find '${a.path}'.`);return C}findOrReturn(l,a){let v=0;for(const C of a){if(C.path===l.path)return a.splice(v),C;v++}return l}}function Oo(h){const l={};for(const v of Object.keys(h.children)){const N=Oo(h.children[v]);(N.segments.length>0||N.hasChildren())&&(l[v]=N)}return function Rr(h){if(1===h.numberOfChildren&&h.children[Kt]){const l=h.children[Kt];return new ot(h.segments.concat(l.segments),l.children)}return h}(new ot(h.segments,l))}class Wa{constructor(l){this.path=l,this.route=this.path[this.path.length-1]}}class Ta{constructor(l,a){this.component=l,this.route=a}}function Qc(h,l,a){const v=h._root;return Fi(v,l?l._root:null,a,[v.value])}function Fu(h,l,a){const v=function No(h){if(!h)return null;for(let l=h.parent;l;l=l.parent){const a=l.routeConfig;if(a&&a._loadedConfig)return a._loadedConfig}return null}(l);return(v?v.module.injector:a).get(h)}function Fi(h,l,a,v,C={canDeactivateChecks:[],canActivateChecks:[]}){const N=wn(l);return h.children.forEach(K=>{(function el(h,l,a,v,C={canDeactivateChecks:[],canActivateChecks:[]}){const N=h.value,K=l?l.value:null,ne=a?a.getContext(h.value.outlet):null;if(K&&N.routeConfig===K.routeConfig){const be=function ku(h,l,a){if("function"==typeof a)return a(h,l);switch(a){case"pathParamsChange":return!pt(h.url,l.url);case"pathParamsOrQueryParamsChange":return!pt(h.url,l.url)||!_i(h.queryParams,l.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Br(h,l)||!_i(h.queryParams,l.queryParams);default:return!Br(h,l)}}(K,N,N.routeConfig.runGuardsAndResolvers);be?C.canActivateChecks.push(new Wa(v)):(N.data=K.data,N._resolvedData=K._resolvedData),Fi(h,l,N.component?ne?ne.children:null:a,v,C),be&&ne&&ne.outlet&&ne.outlet.isActivated&&C.canDeactivateChecks.push(new Ta(ne.outlet.component,K))}else K&&Lu(l,ne,C),C.canActivateChecks.push(new Wa(v)),Fi(h,null,N.component?ne?ne.children:null:a,v,C)})(K,N[K.value.outlet],a,v.concat([K.value]),C),delete N[K.value.outlet]}),Dn(N,(K,ne)=>Lu(K,a.getContext(ne),C)),C}function Lu(h,l,a){const v=wn(h),C=h.value;Dn(v,(N,K)=>{Lu(N,C.component?l?l.children.getContext(K):null:l,a)}),a.canDeactivateChecks.push(new Ta(C.component&&l&&l.outlet&&l.outlet.isActivated?l.outlet.component:null,C))}class ki{}function ho(h){return new ni.y(l=>l.error(h))}class Li{constructor(l,a,v,C,N,K){this.rootComponentType=l,this.config=a,this.urlTree=v,this.url=C,this.paramsInheritanceStrategy=N,this.relativeLinkResolution=K}recognize(){const l=Es(this.urlTree.root,[],[],this.config.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution).segmentGroup,a=this.processSegmentGroup(this.config,l,Kt);if(null===a)return null;const v=new ys([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Kt,this.rootComponentType,null,this.urlTree.root,-1,{}),C=new pn(v,a),N=new Vs(this.url,C);return this.inheritParamsAndData(N._root),N}inheritParamsAndData(l){const a=l.value,v=Js(a,this.paramsInheritanceStrategy);a.params=Object.freeze(v.params),a.data=Object.freeze(v.data),l.children.forEach(C=>this.inheritParamsAndData(C))}processSegmentGroup(l,a,v){return 0===a.segments.length&&a.hasChildren()?this.processChildren(l,a):this.processSegment(l,a,a.segments,v)}processChildren(l,a){const v=[];for(const N of Object.keys(a.children)){const K=a.children[N],ne=Aa(l,N),be=this.processSegmentGroup(ne,K,N);if(null===be)return null;v.push(...be)}const C=Ds(v);return function Fr(h){h.sort((l,a)=>l.value.outlet===Kt?-1:a.value.outlet===Kt?1:l.value.outlet.localeCompare(a.value.outlet))}(C),C}processSegment(l,a,v,C){for(const N of l){const K=this.processSegmentAgainstRoute(N,a,v,C);if(null!==K)return K}return Yi(a,v,C)?[]:null}processSegmentAgainstRoute(l,a,v,C){if(l.redirectTo||!xu(l,a,v,C))return null;let N,K=[],ne=[];if("**"===l.path){const Ct=v.length>0?vs(v).parameters:{};N=new ys(v,Ct,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ka(l),qr(l),l.component,l,bi(a),po(a)+v.length,Ya(l))}else{const Ct=So(a,l,v);if(!Ct.matched)return null;K=Ct.consumedSegments,ne=Ct.remainingSegments,N=new ys(K,Ct.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ka(l),qr(l),l.component,l,bi(a),po(a)+K.length,Ya(l))}const be=function Wl(h){return h.children?h.children:h.loadChildren?h._loadedConfig.routes:[]}(l),{segmentGroup:it,slicedSegments:Ot}=Es(a,K,ne,be.filter(Ct=>void 0===Ct.redirectTo),this.relativeLinkResolution);if(0===Ot.length&&it.hasChildren()){const Ct=this.processChildren(be,it);return null===Ct?null:[new pn(N,Ct)]}if(0===be.length&&0===Ot.length)return[new pn(N,[])];const mt=qr(l)===C,qt=this.processSegment(be,it,Ot,mt?Kt:C);return null===qt?null:[new pn(N,qt)]}}function Er(h){const l=h.value.routeConfig;return l&&""===l.path&&void 0===l.redirectTo}function Ds(h){const l=[],a=new Set;for(const v of h){if(!Er(v)){l.push(v);continue}const C=l.find(N=>v.value.routeConfig===N.value.routeConfig);void 0!==C?(C.children.push(...v.children),a.add(C)):l.push(v)}for(const v of a){const C=Ds(v.children);l.push(new pn(v.value,C))}return l.filter(v=>!a.has(v))}function bi(h){let l=h;for(;l._sourceSegment;)l=l._sourceSegment;return l}function po(h){let l=h,a=l._segmentIndexShift?l._segmentIndexShift:0;for(;l._sourceSegment;)l=l._sourceSegment,a+=l._segmentIndexShift?l._segmentIndexShift:0;return a-1}function Ka(h){return h.data||{}}function Ya(h){return h.resolve||{}}function Bu(h){return[...Object.keys(h),...Object.getOwnPropertySymbols(h)]}function Xr(h){return ii(l=>{const a=h(l);return a?(0,Bn.D)(a).pipe((0,Ft.U)(()=>l)):(0,It.of)(l)})}class Ja extends class Bs{shouldDetach(l){return!1}store(l,a){}shouldAttach(l){return!1}retrieve(l){return null}shouldReuseRoute(l,a){return l.routeConfig===a.routeConfig}}{}const Hs=new d.OlP("ROUTES");class Ei{constructor(l,a,v,C){this.injector=l,this.compiler=a,this.onLoadStartListener=v,this.onLoadEndListener=C}load(l,a){if(a._loader$)return a._loader$;this.onLoadStartListener&&this.onLoadStartListener(a);const C=this.loadModuleFactory(a.loadChildren).pipe((0,Ft.U)(N=>{this.onLoadEndListener&&this.onLoadEndListener(a);const K=N.create(l);return new Gr(Du(K.injector.get(Hs,void 0,d.XFs.Self|d.XFs.Optional)).map(Ga),K)}),tr(N=>{throw a._loader$=void 0,N}));return a._loader$=new Hi(C,()=>new rn.x).pipe(uo()),a._loader$}loadModuleFactory(l){return Fn(l()).pipe((0,Rt.z)(a=>a instanceof d.YKP?(0,It.of)(a):(0,Bn.D)(this.compiler.compileModuleAsync(a))))}}class Ma{shouldProcessUrl(l){return!0}extract(l){return l}merge(l,a){return l}}function Kh(h){throw h}function Kl(h,l,a){return l.parse("/")}function vc(h,l){return(0,It.of)(null)}const Vi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jn=(()=>{class h{constructor(a,v,C,N,K,ne,be){this.rootComponentType=a,this.urlSerializer=v,this.rootContexts=C,this.location=N,this.config=be,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new rn.x,this.errorHandler=Kh,this.malformedUriErrorHandler=Kl,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:vc,afterPreactivation:vc},this.urlHandlingStrategy=new Ma,this.routeReuseStrategy=new Ja,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=K.get(d.h0i),this.console=K.get(d.c2e);const mt=K.get(d.R0b);this.isNgZoneEnabled=mt instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(be),this.currentUrlTree=function co(){return new ct(new ot([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ei(K,ne,qt=>this.triggerEvent(new Ea(qt)),qt=>this.triggerEvent(new $o(qt))),this.routerState=nn(this.currentUrlTree,this.rootComponentType),this.transitions=new zr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var a;return null===(a=this.location.getState())||void 0===a?void 0:a.\u0275routerPageId}setupNavigations(a){const v=this.events;return a.pipe((0,_r.h)(C=>0!==C.id),(0,Ft.U)(C=>Object.assign(Object.assign({},C),{extractedUrl:this.urlHandlingStrategy.extract(C.rawUrl)})),ii(C=>{let N=!1,K=!1;return(0,It.of)(C).pipe((0,yn.b)(ne=>{this.currentNavigation={id:ne.id,initialUrl:ne.currentRawUrl,extractedUrl:ne.extractedUrl,trigger:ne.source,extras:ne.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ii(ne=>{const be=this.browserUrlTree.toString(),it=!this.navigated||ne.extractedUrl.toString()!==be||be!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||it)&&this.urlHandlingStrategy.shouldProcessUrl(ne.rawUrl))return Gu(ne.source)&&(this.browserUrlTree=ne.extractedUrl),(0,It.of)(ne).pipe(ii(mt=>{const qt=this.transitions.getValue();return v.next(new qo(mt.id,this.serializeUrl(mt.extractedUrl),mt.source,mt.restoredState)),qt!==this.transitions.getValue()?Ti.E:Promise.resolve(mt)}),function za(h,l,a,v){return ii(C=>function $a(h,l,a,v,C){return new _t(h,l,a,v,C).apply()}(h,l,a,C.extractedUrl,v).pipe((0,Ft.U)(N=>Object.assign(Object.assign({},C),{urlAfterRedirects:N}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,yn.b)(mt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:mt.urlAfterRedirects})}),function na(h,l,a,v,C){return(0,Rt.z)(N=>function Xn(h,l,a,v,C="emptyOnly",N="legacy"){try{const K=new Li(h,l,a,v,C,N).recognize();return null===K?ho(new ki):(0,It.of)(K)}catch(K){return ho(K)}}(h,l,N.urlAfterRedirects,a(N.urlAfterRedirects),v,C).pipe((0,Ft.U)(K=>Object.assign(Object.assign({},N),{targetSnapshot:K}))))}(this.rootComponentType,this.config,mt=>this.serializeUrl(mt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,yn.b)(mt=>{if("eager"===this.urlUpdateStrategy){if(!mt.extras.skipLocationChange){const Ct=this.urlHandlingStrategy.merge(mt.urlAfterRedirects,mt.rawUrl);this.setBrowserUrl(Ct,mt)}this.browserUrlTree=mt.urlAfterRedirects}const qt=new Eu(mt.id,this.serializeUrl(mt.extractedUrl),this.serializeUrl(mt.urlAfterRedirects),mt.targetSnapshot);v.next(qt)}));if(it&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:qt,extractedUrl:Ct,source:In,restoredState:Qi,extras:du}=ne,Ci=new qo(qt,this.serializeUrl(Ct),In,Qi);v.next(Ci);const va=nn(Ct,this.rootComponentType).snapshot;return(0,It.of)(Object.assign(Object.assign({},ne),{targetSnapshot:va,urlAfterRedirects:Ct,extras:Object.assign(Object.assign({},du),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ne.rawUrl,ne.resolve(null),Ti.E}),Xr(ne=>{const{targetSnapshot:be,id:it,extractedUrl:Ot,rawUrl:mt,extras:{skipLocationChange:qt,replaceUrl:Ct}}=ne;return this.hooks.beforePreactivation(be,{navigationId:it,appliedUrlTree:Ot,rawUrlTree:mt,skipLocationChange:!!qt,replaceUrl:!!Ct})}),(0,yn.b)(ne=>{const be=new Ba(ne.id,this.serializeUrl(ne.extractedUrl),this.serializeUrl(ne.urlAfterRedirects),ne.targetSnapshot);this.triggerEvent(be)}),(0,Ft.U)(ne=>Object.assign(Object.assign({},ne),{guards:Qc(ne.targetSnapshot,ne.currentSnapshot,this.rootContexts)})),function ta(h,l){return(0,Rt.z)(a=>{const{targetSnapshot:v,currentSnapshot:C,guards:{canActivateChecks:N,canDeactivateChecks:K}}=a;return 0===K.length&&0===N.length?(0,It.of)(Object.assign(Object.assign({},a),{guardsResult:!0})):function Zo(h,l,a,v){return(0,Bn.D)(h).pipe((0,Rt.z)(C=>function zl(h,l,a,v,C){const N=l&&l.routeConfig?l.routeConfig.canDeactivate:null;if(!N||0===N.length)return(0,It.of)(!0);const K=N.map(ne=>{const be=Fu(ne,l,C);let it;if(function ql(h){return h&&Nr(h.canDeactivate)}(be))it=Fn(be.canDeactivate(h,l,a,v));else{if(!Nr(be))throw new Error("Invalid CanDeactivate guard");it=Fn(be(h,l,a,v))}return it.pipe(Rn())});return(0,It.of)(K).pipe(Ki())}(C.component,C.route,a,l,v)),Rn(C=>!0!==C,!0))}(K,v,C,h).pipe((0,Rt.z)(ne=>ne&&function Ha(h){return"boolean"==typeof h}(ne)?function Us(h,l,a,v){return(0,Bn.D)(l).pipe(oi(C=>Ht(function ju(h,l){return null!==h&&l&&l(new ps(h)),(0,It.of)(!0)}(C.route.parent,v),function Vu(h,l){return null!==h&&l&&l(new Do(h)),(0,It.of)(!0)}(C.route,v),function Uu(h,l,a){const v=l[l.length-1],N=l.slice(0,l.length-1).reverse().map(K=>function Xc(h){const l=h.routeConfig?h.routeConfig.canActivateChild:null;return l&&0!==l.length?{node:h,guards:l}:null}(K)).filter(K=>null!==K).map(K=>kt(()=>{const ne=K.guards.map(be=>{const it=Fu(be,K.node,a);let Ot;if(function Qr(h){return h&&Nr(h.canActivateChild)}(it))Ot=Fn(it.canActivateChild(v,h));else{if(!Nr(it))throw new Error("Invalid CanActivateChild guard");Ot=Fn(it(v,h))}return Ot.pipe(Rn())});return(0,It.of)(ne).pipe(Ki())}));return(0,It.of)(N).pipe(Ki())}(h,C.path,a),function Sa(h,l,a){const v=l.routeConfig?l.routeConfig.canActivate:null;if(!v||0===v.length)return(0,It.of)(!0);const C=v.map(N=>kt(()=>{const K=Fu(N,l,a);let ne;if(function $n(h){return h&&Nr(h.canActivate)}(K))ne=Fn(K.canActivate(l,h));else{if(!Nr(K))throw new Error("Invalid CanActivate guard");ne=Fn(K(l,h))}return ne.pipe(Rn())}));return(0,It.of)(C).pipe(Ki())}(h,C.route,a))),Rn(C=>!0!==C,!0))}(v,N,h,l):(0,It.of)(ne)),(0,Ft.U)(ne=>Object.assign(Object.assign({},a),{guardsResult:ne})))})}(this.ngModule.injector,ne=>this.triggerEvent(ne)),(0,yn.b)(ne=>{if(Jr(ne.guardsResult)){const it=Ys(`Redirecting to "${this.serializeUrl(ne.guardsResult)}"`);throw it.url=ne.guardsResult,it}const be=new Fs(ne.id,this.serializeUrl(ne.extractedUrl),this.serializeUrl(ne.urlAfterRedirects),ne.targetSnapshot,!!ne.guardsResult);this.triggerEvent(be)}),(0,_r.h)(ne=>!!ne.guardsResult||(this.restoreHistory(ne),this.cancelNavigationTransition(ne,""),!1)),Xr(ne=>{if(ne.guards.canActivateChecks.length)return(0,It.of)(ne).pipe((0,yn.b)(be=>{const it=new ba(be.id,this.serializeUrl(be.extractedUrl),this.serializeUrl(be.urlAfterRedirects),be.targetSnapshot);this.triggerEvent(it)}),ii(be=>{let it=!1;return(0,It.of)(be).pipe(function Dr(h,l){return(0,Rt.z)(a=>{const{targetSnapshot:v,guards:{canActivateChecks:C}}=a;if(!C.length)return(0,It.of)(a);let N=0;return(0,Bn.D)(C).pipe(oi(K=>function tl(h,l,a,v){return function Za(h,l,a,v){const C=Bu(h);if(0===C.length)return(0,It.of)({});const N={};return(0,Bn.D)(C).pipe((0,Rt.z)(K=>function Of(h,l,a,v){const C=Fu(h,l,v);return Fn(C.resolve?C.resolve(l,a):C(l,a))}(h[K],l,a,v).pipe((0,yn.b)(ne=>{N[K]=ne}))),bu(1),(0,Rt.z)(()=>Bu(N).length===C.length?(0,It.of)(N):Ti.E))}(h._resolve,h,l,v).pipe((0,Ft.U)(N=>(h._resolvedData=N,h.data=Object.assign(Object.assign({},h.data),Js(h,a).resolve),null)))}(K.route,v,h,l)),(0,yn.b)(()=>N++),bu(1),(0,Rt.z)(K=>N===C.length?(0,It.of)(a):Ti.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,yn.b)({next:()=>it=!0,complete:()=>{it||(this.restoreHistory(be),this.cancelNavigationTransition(be,"At least one route resolver didn't emit any value."))}}))}),(0,yn.b)(be=>{const it=new Eo(be.id,this.serializeUrl(be.extractedUrl),this.serializeUrl(be.urlAfterRedirects),be.targetSnapshot);this.triggerEvent(it)}))}),Xr(ne=>{const{targetSnapshot:be,id:it,extractedUrl:Ot,rawUrl:mt,extras:{skipLocationChange:qt,replaceUrl:Ct}}=ne;return this.hooks.afterPreactivation(be,{navigationId:it,appliedUrlTree:Ot,rawUrlTree:mt,skipLocationChange:!!qt,replaceUrl:!!Ct})}),(0,Ft.U)(ne=>{const be=function Hr(h,l,a){const v=js(h,l._root,a?a._root:void 0);return new Mr(v,l)}(this.routeReuseStrategy,ne.targetSnapshot,ne.currentRouterState);return Object.assign(Object.assign({},ne),{targetRouterState:be})}),(0,yn.b)(ne=>{this.currentUrlTree=ne.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ne.urlAfterRedirects,ne.rawUrl),this.routerState=ne.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ne.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ne),this.browserUrlTree=ne.urlAfterRedirects)}),((h,l,a)=>(0,Ft.U)(v=>(new cn(l,v.targetRouterState,v.currentRouterState,a).activate(h),v)))(this.rootContexts,this.routeReuseStrategy,ne=>this.triggerEvent(ne)),(0,yn.b)({next(){N=!0},complete(){N=!0}}),function si(h){return(0,At.e)((l,a)=>{try{l.subscribe(a)}finally{a.add(h)}})}(()=>{var ne;N||K||this.cancelNavigationTransition(C,`Navigation ID ${C.id} is not equal to the current navigation id ${this.navigationId}`),(null===(ne=this.currentNavigation)||void 0===ne?void 0:ne.id)===C.id&&(this.currentNavigation=null)}),tr(ne=>{if(K=!0,function ui(h){return h&&h[ms]}(ne)){const be=Jr(ne.url);be||(this.navigated=!0,this.restoreHistory(C,!0));const it=new bt(C.id,this.serializeUrl(C.extractedUrl),ne.message);v.next(it),be?setTimeout(()=>{const Ot=this.urlHandlingStrategy.merge(ne.url,this.rawUrlTree),mt={skipLocationChange:C.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Gu(C.source)};this.scheduleNavigation(Ot,"imperative",null,mt,{resolve:C.resolve,reject:C.reject,promise:C.promise})},0):C.resolve(!1)}else{this.restoreHistory(C,!0);const be=new Tn(C.id,this.serializeUrl(C.extractedUrl),ne);v.next(be);try{C.resolve(this.errorHandler(ne))}catch(it){C.reject(it)}}return Ti.E}))}))}resetRootComponentType(a){this.rootComponentType=a,this.routerState.root.component=this.rootComponentType}setTransition(a){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),a))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(a=>{const v="popstate"===a.type?"popstate":"hashchange";"popstate"===v&&setTimeout(()=>{var C;const N={replaceUrl:!0},K=(null===(C=a.state)||void 0===C?void 0:C.navigationId)?a.state:null;if(K){const be=Object.assign({},K);delete be.navigationId,delete be.\u0275routerPageId,0!==Object.keys(be).length&&(N.state=be)}const ne=this.parseUrl(a.url);this.scheduleNavigation(ne,v,K,N)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(a){this.events.next(a)}resetConfig(a){Mu(a),this.config=a.map(Ga),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(a,v={}){const{relativeTo:C,queryParams:N,fragment:K,queryParamsHandling:ne,preserveFragment:be}=v,it=C||this.routerState.root,Ot=be?this.currentUrlTree.fragment:K;let mt=null;switch(ne){case"merge":mt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),N);break;case"preserve":mt=this.currentUrlTree.queryParams;break;default:mt=N||null}return null!==mt&&(mt=this.removeEmptyProps(mt)),function Wi(h,l,a,v,C){if(0===a.length)return nt(l.root,l.root,l.root,v,C);const N=function _s(h){if("string"==typeof h[0]&&1===h.length&&"/"===h[0])return new dc(!0,0,h);let l=0,a=!1;const v=h.reduce((C,N,K)=>{if("object"==typeof N&&null!=N){if(N.outlets){const ne={};return Dn(N.outlets,(be,it)=>{ne[it]="string"==typeof be?be.split("/"):be}),[...C,{outlets:ne}]}if(N.segmentPath)return[...C,N.segmentPath]}return"string"!=typeof N?[...C,N]:0===K?(N.split("/").forEach((ne,be)=>{0==be&&"."===ne||(0==be&&""===ne?a=!0:".."===ne?l++:""!=ne&&C.push(ne))}),C):[...C,N]},[]);return new dc(a,l,v)}(a);if(N.toRoot())return nt(l.root,l.root,new ot([],{}),v,C);const K=function Su(h,l,a){if(h.isAbsolute)return new Ri(l.root,!0,0);if(-1===a.snapshot._lastPathIndex){const N=a.snapshot._urlSegment;return new Ri(N,N===l.root,0)}const v=br(h.commands[0])?0:1;return function pc(h,l,a){let v=h,C=l,N=a;for(;N>C;){if(N-=C,v=v.parent,!v)throw new Error("Invalid number of '../'");C=v.segments.length}return new Ri(v,!1,C-N)}(a.snapshot._urlSegment,a.snapshot._lastPathIndex+v,h.numberOfDoubleDots)}(N,l,h),ne=K.processChildren?S(K.segmentGroup,K.index,N.commands):_(K.segmentGroup,K.index,N.commands);return nt(l.root,K.segmentGroup,ne,v,C)}(it,this.currentUrlTree,a,mt,null!=Ot?Ot:null)}navigateByUrl(a,v={skipLocationChange:!1}){const C=Jr(a)?a:this.parseUrl(a),N=this.urlHandlingStrategy.merge(C,this.rawUrlTree);return this.scheduleNavigation(N,"imperative",null,v)}navigate(a,v={skipLocationChange:!1}){return function ch(h){for(let l=0;l<h.length;l++){const a=h[l];if(null==a)throw new Error(`The requested path contains ${a} segment at index ${l}`)}}(a),this.navigateByUrl(this.createUrlTree(a,v),v)}serializeUrl(a){return this.urlSerializer.serialize(a)}parseUrl(a){let v;try{v=this.urlSerializer.parse(a)}catch(C){v=this.malformedUriErrorHandler(C,this.urlSerializer,a)}return v}isActive(a,v){let C;if(C=!0===v?Object.assign({},Vi):!1===v?Object.assign({},Hu):v,Jr(a))return x(this.currentUrlTree,a,C);const N=this.parseUrl(a);return x(this.currentUrlTree,N,C)}removeEmptyProps(a){return Object.keys(a).reduce((v,C)=>{const N=a[C];return null!=N&&(v[C]=N),v},{})}processNavigations(){this.navigations.subscribe(a=>{this.navigated=!0,this.lastSuccessfulId=a.id,this.currentPageId=a.targetPageId,this.events.next(new Gi(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,a.resolve(!0)},a=>{this.console.warn(`Unhandled Navigation Error: ${a}`)})}scheduleNavigation(a,v,C,N,K){var ne,be;if(this.disposed)return Promise.resolve(!1);let it,Ot,mt;K?(it=K.resolve,Ot=K.reject,mt=K.promise):mt=new Promise((In,Qi)=>{it=In,Ot=Qi});const qt=++this.navigationId;let Ct;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(C=this.location.getState()),Ct=C&&C.\u0275routerPageId?C.\u0275routerPageId:N.replaceUrl||N.skipLocationChange?null!==(ne=this.browserPageId)&&void 0!==ne?ne:0:(null!==(be=this.browserPageId)&&void 0!==be?be:0)+1):Ct=0,this.setTransition({id:qt,targetPageId:Ct,source:v,restoredState:C,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:a,extras:N,resolve:it,reject:Ot,promise:mt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),mt.catch(In=>Promise.reject(In))}setBrowserUrl(a,v){const C=this.urlSerializer.serialize(a),N=Object.assign(Object.assign({},v.extras.state),this.generateNgRouterState(v.id,v.targetPageId));this.location.isCurrentPathEqualTo(C)||v.extras.replaceUrl?this.location.replaceState(C,"",N):this.location.go(C,"",N)}restoreHistory(a,v=!1){var C,N;if("computed"===this.canceledNavigationResolution){const K=this.currentPageId-a.targetPageId;"popstate"!==a.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(C=this.currentNavigation)||void 0===C?void 0:C.finalUrl)||0===K?this.currentUrlTree===(null===(N=this.currentNavigation)||void 0===N?void 0:N.finalUrl)&&0===K&&(this.resetState(a),this.browserUrlTree=a.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(K)}else"replace"===this.canceledNavigationResolution&&(v&&this.resetState(a),this.resetUrlToCurrentUrlTree())}resetState(a){this.routerState=a.currentRouterState,this.currentUrlTree=a.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,a.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(a,v){const C=new bt(a.id,this.serializeUrl(a.extractedUrl),v);this.triggerEvent(C),a.resolve(!1)}generateNgRouterState(a,v){return"computed"===this.canceledNavigationResolution?{navigationId:a,\u0275routerPageId:v}:{navigationId:a}}}return h.\u0275fac=function(a){d.$Z()},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac}),h})();function Gu(h){return"imperative"!==h}let xo=(()=>{class h{constructor(a,v,C){this.router=a,this.route=v,this.locationStrategy=C,this.commands=null,this.href=null,this.onChanges=new rn.x,this.subscription=a.events.subscribe(N=>{N instanceof Gi&&this.updateTargetUrlAndHref()})}set routerLink(a){this.commands=null!=a?Array.isArray(a)?a:[a]:null}ngOnChanges(a){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(a,v,C,N,K){if(0!==a||v||C||N||K||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const ne={skipLocationChange:Gs(this.skipLocationChange),replaceUrl:Gs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ne),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Gs(this.preserveFragment)})}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(Jn),d.Y36(zi),d.Y36(k.S$))},h.\u0275dir=d.lG2({type:h,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(a,v){1&a&&d.NdJ("click",function(N){return v.onClick(N.button,N.ctrlKey,N.shiftKey,N.altKey,N.metaKey)}),2&a&&d.uIk("target",v.target)("href",v.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.TTD]}),h})();function Gs(h){return""===h||!!h}class yc{}class Na{preload(l,a){return(0,It.of)(null)}}let ei=(()=>{class h{constructor(a,v,C,N){this.router=a,this.injector=C,this.preloadingStrategy=N,this.loader=new Ei(C,v,be=>a.triggerEvent(new Ea(be)),be=>a.triggerEvent(new $o(be)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,_r.h)(a=>a instanceof Gi),oi(()=>this.preload())).subscribe(()=>{})}preload(){const a=this.injector.get(d.h0i);return this.processRoutes(a,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(a,v){const C=[];for(const N of v)if(N.loadChildren&&!N.canLoad&&N._loadedConfig){const K=N._loadedConfig;C.push(this.processRoutes(K.module,K.routes))}else N.loadChildren&&!N.canLoad?C.push(this.preloadConfig(a,N)):N.children&&C.push(this.processRoutes(a,N.children));return(0,Bn.D)(C).pipe((0,Yn.J)(),(0,Ft.U)(N=>{}))}preloadConfig(a,v){return this.preloadingStrategy.preload(v,()=>(v._loadedConfig?(0,It.of)(v._loadedConfig):this.loader.load(a.injector,v)).pipe((0,Rt.z)(N=>(v._loadedConfig=N,this.processRoutes(N.module,N.routes)))))}}return h.\u0275fac=function(a){return new(a||h)(d.LFG(Jn),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(yc))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac}),h})(),xa=(()=>{class h{constructor(a,v,C={}){this.router=a,this.viewportScroller=v,this.options=C,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},C.scrollPositionRestoration=C.scrollPositionRestoration||"disabled",C.anchorScrolling=C.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(a=>{a instanceof qo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=a.navigationTrigger,this.restoredId=a.restoredState?a.restoredState.navigationId:0):a instanceof Gi&&(this.lastId=a.id,this.scheduleScrollEvent(a,this.router.parseUrl(a.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(a=>{a instanceof gs&&(a.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(a.position):a.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(a.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(a,v){this.router.triggerEvent(new gs(a,"popstate"===this.lastSource?this.store[this.restoredId]:null,v))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return h.\u0275fac=function(a){d.$Z()},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac}),h})();const Cs=new d.OlP("ROUTER_CONFIGURATION"),_c=new d.OlP("ROUTER_FORROOT_GUARD"),wc=[k.Ye,{provide:Cn,useClass:Zn},{provide:Jn,useFactory:function xn(h,l,a,v,C,N,K={},ne,be){const it=new Jn(null,h,l,a,v,C,Du(N));return ne&&(it.urlHandlingStrategy=ne),be&&(it.routeReuseStrategy=be),function ia(h,l){h.errorHandler&&(l.errorHandler=h.errorHandler),h.malformedUriErrorHandler&&(l.malformedUriErrorHandler=h.malformedUriErrorHandler),h.onSameUrlNavigation&&(l.onSameUrlNavigation=h.onSameUrlNavigation),h.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=h.paramsInheritanceStrategy),h.relativeLinkResolution&&(l.relativeLinkResolution=h.relativeLinkResolution),h.urlUpdateStrategy&&(l.urlUpdateStrategy=h.urlUpdateStrategy),h.canceledNavigationResolution&&(l.canceledNavigationResolution=h.canceledNavigationResolution)}(K,it),K.enableTracing&&it.events.subscribe(Ot=>{var mt,qt;null===(mt=console.group)||void 0===mt||mt.call(console,`Router Event: ${Ot.constructor.name}`),console.log(Ot.toString()),console.log(Ot),null===(qt=console.groupEnd)||void 0===qt||qt.call(console)}),it},deps:[Cn,Ia,k.Ye,d.zs3,d.Sil,Hs,Cs,[class mc{},new d.FiY],[class Qo{},new d.FiY]]},Ia,{provide:zi,useFactory:function Pf(h){return h.routerState.root},deps:[Jn]},ei,Na,class li{preload(l,a){return a().pipe(tr(()=>(0,It.of)(null)))}},{provide:Cs,useValue:{enableTracing:!1}}];function bc(){return new d.PXZ("Router",Jn)}let ra=(()=>{class h{constructor(a,v){}static forRoot(a,v){return{ngModule:h,providers:[wc,xf(a),{provide:_c,useFactory:il,deps:[[Jn,new d.FiY,new d.tp0]]},{provide:Cs,useValue:v||{}},{provide:k.S$,useFactory:Is,deps:[k.lw,[new d.tBr(k.mr),new d.FiY],Cs]},{provide:xa,useFactory:qu,deps:[Jn,k.EM,Cs]},{provide:yc,useExisting:v&&v.preloadingStrategy?v.preloadingStrategy:Na},{provide:d.PXZ,multi:!0,useFactory:bc},[go,{provide:d.ip1,multi:!0,useFactory:qs,deps:[go]},{provide:oa,useFactory:Zi,deps:[go]},{provide:d.tb,multi:!0,useExisting:oa}]]}}static forChild(a){return{ngModule:h,providers:[xf(a)]}}}return h.\u0275fac=function(a){return new(a||h)(d.LFG(_c,8),d.LFG(Jn,8))},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({}),h})();function qu(h,l,a){return a.scrollOffset&&l.setOffset(a.scrollOffset),new xa(h,l,a)}function Is(h,l,a={}){return a.useHash?new k.Do(h,l):new k.b0(h,l)}function il(h){return"guarded"}function xf(h){return[{provide:d.deG,multi:!0,useValue:h},{provide:Hs,multi:!0,useValue:h}]}let go=(()=>{class h{constructor(a){this.injector=a,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new rn.x}appInitializer(){return this.injector.get(k.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let v=null;const C=new Promise(ne=>v=ne),N=this.injector.get(Jn),K=this.injector.get(Cs);return"disabled"===K.initialNavigation?(N.setUpLocationChangeListener(),v(!0)):"enabled"===K.initialNavigation||"enabledBlocking"===K.initialNavigation?(N.hooks.afterPreactivation=()=>this.initNavigation?(0,It.of)(null):(this.initNavigation=!0,v(!0),this.resultOfPreactivationDone),N.initialNavigation()):v(!0),C})}bootstrapListener(a){const v=this.injector.get(Cs),C=this.injector.get(ei),N=this.injector.get(xa),K=this.injector.get(Jn),ne=this.injector.get(d.z2F);a===ne.components[0]&&(("enabledNonBlocking"===v.initialNavigation||void 0===v.initialNavigation)&&K.initialNavigation(),C.setUpPreloading(),N.init(),K.resetRootComponentType(ne.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return h.\u0275fac=function(a){return new(a||h)(d.LFG(d.zs3))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac}),h})();function qs(h){return h.appInitializer.bind(h)}function Zi(h){return h.bootstrapListener.bind(h)}const oa=new d.OlP("Router Initializer");let Po=(()=>{class h{constructor(){this.title="lms"}}return h.\u0275fac=function(a){return new(a||h)},h.\u0275cmp=d.Xpm({type:h,selectors:[["app-root"]],decls:1,vars:0,template:function(a,v){1&a&&d._UZ(0,"router-outlet")},directives:[bs],encapsulation:2}),h})(),Qa=(()=>{class h{constructor(a,v){this._renderer=a,this._elementRef=v,this.onChange=C=>{},this.onTouched=()=>{}}setProperty(a,v){this._renderer.setProperty(this._elementRef.nativeElement,a,v)}registerOnTouched(a){this.onTouched=a}registerOnChange(a){this.onChange=a}setDisabledState(a){this.setProperty("disabled",a)}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(d.Qsj),d.Y36(d.SBq))},h.\u0275dir=d.lG2({type:h}),h})(),Xo=(()=>{class h extends Qa{}return h.\u0275fac=function(){let l;return function(v){return(l||(l=d.n5z(h)))(v||h)}}(),h.\u0275dir=d.lG2({type:h,features:[d.qOj]}),h})();const es=new d.OlP("NgValueAccessor"),fi={provide:es,useExisting:(0,d.Gpc)(()=>Di),multi:!0},sl=new d.OlP("CompositionEventMode");let Di=(()=>{class h extends Qa{constructor(a,v,C){super(a,v),this._compositionMode=C,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Yl(){const h=(0,k.q)()?(0,k.q)().getUserAgent():"";return/android (\d+)/.test(h.toLowerCase())}())}writeValue(a){this.setProperty("value",null==a?"":a)}_handleInput(a){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(a)}_compositionStart(){this._composing=!0}_compositionEnd(a){this._composing=!1,this._compositionMode&&this.onChange(a)}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(sl,8))},h.\u0275dir=d.lG2({type:h,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(a,v){1&a&&d.NdJ("input",function(N){return v._handleInput(N.target.value)})("blur",function(){return v.onTouched()})("compositionstart",function(){return v._compositionStart()})("compositionend",function(N){return v._compositionEnd(N.target.value)})},features:[d._Bn([fi]),d.qOj]}),h})();function ts(h){return null==h||0===h.length}function zu(h){return null!=h&&"number"==typeof h.length}const fr=new d.OlP("NgValidators"),ns=new d.OlP("NgAsyncValidators"),Pa=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class hi{static min(l){return function Fo(h){return l=>{if(ts(l.value)||ts(h))return null;const a=parseFloat(l.value);return!isNaN(a)&&a<h?{min:{min:h,actual:l.value}}:null}}(l)}static max(l){return function al(h){return l=>{if(ts(l.value)||ts(h))return null;const a=parseFloat(l.value);return!isNaN(a)&&a>h?{max:{max:h,actual:l.value}}:null}}(l)}static required(l){return function Zl(h){return ts(h.value)?{required:!0}:null}(l)}static requiredTrue(l){return function Xa(h){return!0===h.value?null:{required:!0}}(l)}static email(l){return function ul(h){return ts(h.value)||Pa.test(h.value)?null:{email:!0}}(l)}static minLength(l){return function aa(h){return l=>ts(l.value)||!zu(l.value)?null:l.value.length<h?{minlength:{requiredLength:h,actualLength:l.value.length}}:null}(l)}static maxLength(l){return function Wu(h){return l=>zu(l.value)&&l.value.length>h?{maxlength:{requiredLength:h,actualLength:l.value.length}}:null}(l)}static pattern(l){return function eu(h){if(!h)return tu;let l,a;return"string"==typeof h?(a="","^"!==h.charAt(0)&&(a+="^"),a+=h,"$"!==h.charAt(h.length-1)&&(a+="$"),l=new RegExp(a)):(a=h.toString(),l=h),v=>{if(ts(v.value))return null;const C=v.value;return l.test(C)?null:{pattern:{requiredPattern:a,actualValue:C}}}}(l)}static nullValidator(l){return null}static compose(l){return Yu(l)}static composeAsync(l){return Jl(l)}}function tu(h){return null}function nu(h){return null!=h}function ru(h){const l=(0,d.QGY)(h)?(0,Bn.D)(h):h;return(0,d.CqO)(l),l}function Ku(h){let l={};return h.forEach(a=>{l=null!=a?Object.assign(Object.assign({},l),a):l}),0===Object.keys(l).length?null:l}function cl(h,l){return l.map(a=>a(h))}function Ts(h){return h.map(l=>function Ec(h){return!h.validate}(l)?l:a=>l.validate(a))}function Yu(h){if(!h)return null;const l=h.filter(nu);return 0==l.length?null:function(a){return Ku(cl(a,l))}}function $s(h){return null!=h?Yu(Ts(h)):null}function Jl(h){if(!h)return null;const l=h.filter(nu);return 0==l.length?null:function(a){return function sa(...h){const l=(0,Kr.jO)(h),{args:a,keys:v}=ds(h),C=new ni.y(N=>{const{length:K}=a;if(!K)return void N.complete();const ne=new Array(K);let be=K,it=K;for(let Ot=0;Ot<K;Ot++){let mt=!1;(0,mr.Xf)(a[Ot]).subscribe((0,Lr.x)(N,qt=>{mt||(mt=!0,it--),ne[Ot]=qt},()=>be--,void 0,()=>{(!be||!mt)&&(it||N.next(v?wo(v,ne):ne),N.complete())}))}});return l?C.pipe(kr(l)):C}(cl(a,l).map(ru)).pipe((0,Ft.U)(Ku))}}function iu(h){return null!=h?Jl(Ts(h)):null}function Zu(h,l){return null===h?[l]:Array.isArray(h)?[...h,l]:[h,l]}function ko(h){return h._rawValidators}function Ji(h){return h._rawAsyncValidators}function ll(h){return h?Array.isArray(h)?h:[h]:[]}function fl(h,l){return Array.isArray(h)?h.includes(l):h===l}function Ql(h,l){const a=ll(l);return ll(h).forEach(C=>{fl(a,C)||a.push(C)}),a}function hl(h,l){return ll(l).filter(a=>!fl(h,a))}class Dc{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(l){this._rawValidators=l||[],this._composedValidatorFn=$s(this._rawValidators)}_setAsyncValidators(l){this._rawAsyncValidators=l||[],this._composedAsyncValidatorFn=iu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(l){this._onDestroyCallbacks.push(l)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(l=>l()),this._onDestroyCallbacks=[]}reset(l){this.control&&this.control.reset(l)}hasError(l,a){return!!this.control&&this.control.hasError(l,a)}getError(l,a){return this.control?this.control.getError(l,a):null}}class Ss extends Dc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hn extends Dc{get formDirective(){return null}get path(){return null}}class Cc{constructor(l){this._cd=l}is(l){var a,v,C;return"submitted"===l?!!(null===(a=this._cd)||void 0===a?void 0:a.submitted):!!(null===(C=null===(v=this._cd)||void 0===v?void 0:v.control)||void 0===C?void 0:C[l])}}let Ju=(()=>{class h extends Cc{constructor(a){super(a)}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(Ss,2))},h.\u0275dir=d.lG2({type:h,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(a,v){2&a&&d.ekj("ng-untouched",v.is("untouched"))("ng-touched",v.is("touched"))("ng-pristine",v.is("pristine"))("ng-dirty",v.is("dirty"))("ng-valid",v.is("valid"))("ng-invalid",v.is("invalid"))("ng-pending",v.is("pending"))},features:[d.qOj]}),h})(),Ra=(()=>{class h extends Cc{constructor(a){super(a)}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(Hn,10))},h.\u0275dir=d.lG2({type:h,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(a,v){2&a&&d.ekj("ng-untouched",v.is("untouched"))("ng-touched",v.is("touched"))("ng-pristine",v.is("pristine"))("ng-dirty",v.is("dirty"))("ng-valid",v.is("valid"))("ng-invalid",v.is("invalid"))("ng-pending",v.is("pending"))("ng-submitted",v.is("submitted"))},features:[d.qOj]}),h})();function mo(h,l){Qu(h,l),l.valueAccessor.writeValue(h.value),function uu(h,l){l.valueAccessor.registerOnChange(a=>{h._pendingValue=a,h._pendingChange=!0,h._pendingDirty=!0,"change"===h.updateOn&&Xu(h,l)})}(h,l),function Cr(h,l){const a=(v,C)=>{l.valueAccessor.writeValue(v),C&&l.viewToModelUpdate(v)};h.registerOnChange(a),l._registerOnDestroy(()=>{h._unregisterOnChange(a)})}(h,l),function cu(h,l){l.valueAccessor.registerOnTouched(()=>{h._pendingTouched=!0,"blur"===h.updateOn&&h._pendingChange&&Xu(h,l),"submit"!==h.updateOn&&h.markAsTouched()})}(h,l),function au(h,l){if(l.valueAccessor.setDisabledState){const a=v=>{l.valueAccessor.setDisabledState(v)};h.registerOnDisabledChange(a),l._registerOnDestroy(()=>{h._unregisterOnDisabledChange(a)})}}(h,l)}function Ms(h,l,a=!0){const v=()=>{};l.valueAccessor&&(l.valueAccessor.registerOnChange(v),l.valueAccessor.registerOnTouched(v)),vo(h,l),h&&(l._invokeOnDestroyCallbacks(),h._registerOnCollectionChange(()=>{}))}function ca(h,l){h.forEach(a=>{a.registerOnValidatorChange&&a.registerOnValidatorChange(l)})}function Qu(h,l){const a=ko(h);null!==l.validator?h.setValidators(Zu(a,l.validator)):"function"==typeof a&&h.setValidators([a]);const v=Ji(h);null!==l.asyncValidator?h.setAsyncValidators(Zu(v,l.asyncValidator)):"function"==typeof v&&h.setAsyncValidators([v]);const C=()=>h.updateValueAndValidity();ca(l._rawValidators,C),ca(l._rawAsyncValidators,C)}function vo(h,l){let a=!1;if(null!==h){if(null!==l.validator){const C=ko(h);if(Array.isArray(C)&&C.length>0){const N=C.filter(K=>K!==l.validator);N.length!==C.length&&(a=!0,h.setValidators(N))}}if(null!==l.asyncValidator){const C=Ji(h);if(Array.isArray(C)&&C.length>0){const N=C.filter(K=>K!==l.asyncValidator);N.length!==C.length&&(a=!0,h.setAsyncValidators(N))}}}const v=()=>{};return ca(l._rawValidators,v),ca(l._rawAsyncValidators,v),a}function Xu(h,l){h._pendingDirty&&h.markAsDirty(),h.setValue(h._pendingValue,{emitModelToViewChange:!1}),l.viewToModelUpdate(h._pendingValue),h._pendingChange=!1}function ml(h,l){const a=h.indexOf(l);a>-1&&h.splice(a,1)}const la="VALID",nc="INVALID",jo="PENDING",Ir="DISABLED";function fa(h){return(ic(h)?h.validators:h)||null}function lu(h){return Array.isArray(h)?$s(h):h||null}function rc(h,l){return(ic(l)?l.asyncValidators:h)||null}function Oc(h){return Array.isArray(h)?iu(h):h||null}function ic(h){return null!=h&&!Array.isArray(h)&&"object"==typeof h}const vl=h=>h instanceof di,yl=h=>h instanceof ha,_l=h=>h instanceof rf;function os(h){return vl(h)?h.value:h.getRawValue()}function wl(h,l){const a=yl(h),v=h.controls;if(!(a?Object.keys(v):v).length)throw new d.vHH(1e3,"");if(!v[l])throw new d.vHH(1001,"")}function Nc(h,l){yl(h),h._forEachChild((v,C)=>{if(void 0===l[C])throw new d.vHH(1002,"")})}class bl{constructor(l,a){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=l,this._rawAsyncValidators=a,this._composedValidatorFn=lu(this._rawValidators),this._composedAsyncValidatorFn=Oc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(l){this._rawValidators=this._composedValidatorFn=l}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(l){this._rawAsyncValidators=this._composedAsyncValidatorFn=l}get parent(){return this._parent}get valid(){return this.status===la}get invalid(){return this.status===nc}get pending(){return this.status==jo}get disabled(){return this.status===Ir}get enabled(){return this.status!==Ir}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(l){this._rawValidators=l,this._composedValidatorFn=lu(l)}setAsyncValidators(l){this._rawAsyncValidators=l,this._composedAsyncValidatorFn=Oc(l)}addValidators(l){this.setValidators(Ql(l,this._rawValidators))}addAsyncValidators(l){this.setAsyncValidators(Ql(l,this._rawAsyncValidators))}removeValidators(l){this.setValidators(hl(l,this._rawValidators))}removeAsyncValidators(l){this.setAsyncValidators(hl(l,this._rawAsyncValidators))}hasValidator(l){return fl(this._rawValidators,l)}hasAsyncValidator(l){return fl(this._rawAsyncValidators,l)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(l={}){this.touched=!0,this._parent&&!l.onlySelf&&this._parent.markAsTouched(l)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(l=>l.markAllAsTouched())}markAsUntouched(l={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(a=>{a.markAsUntouched({onlySelf:!0})}),this._parent&&!l.onlySelf&&this._parent._updateTouched(l)}markAsDirty(l={}){this.pristine=!1,this._parent&&!l.onlySelf&&this._parent.markAsDirty(l)}markAsPristine(l={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(a=>{a.markAsPristine({onlySelf:!0})}),this._parent&&!l.onlySelf&&this._parent._updatePristine(l)}markAsPending(l={}){this.status=jo,!1!==l.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!l.onlySelf&&this._parent.markAsPending(l)}disable(l={}){const a=this._parentMarkedDirty(l.onlySelf);this.status=Ir,this.errors=null,this._forEachChild(v=>{v.disable(Object.assign(Object.assign({},l),{onlySelf:!0}))}),this._updateValue(),!1!==l.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},l),{skipPristineCheck:a})),this._onDisabledChange.forEach(v=>v(!0))}enable(l={}){const a=this._parentMarkedDirty(l.onlySelf);this.status=la,this._forEachChild(v=>{v.enable(Object.assign(Object.assign({},l),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:l.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},l),{skipPristineCheck:a})),this._onDisabledChange.forEach(v=>v(!1))}_updateAncestors(l){this._parent&&!l.onlySelf&&(this._parent.updateValueAndValidity(l),l.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(l){this._parent=l}updateValueAndValidity(l={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===la||this.status===jo)&&this._runAsyncValidator(l.emitEvent)),!1!==l.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!l.onlySelf&&this._parent.updateValueAndValidity(l)}_updateTreeValidity(l={emitEvent:!0}){this._forEachChild(a=>a._updateTreeValidity(l)),this.updateValueAndValidity({onlySelf:!0,emitEvent:l.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ir:la}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(l){if(this.asyncValidator){this.status=jo,this._hasOwnPendingAsyncValidator=!0;const a=ru(this.asyncValidator(this));this._asyncValidationSubscription=a.subscribe(v=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(v,{emitEvent:l})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(l,a={}){this.errors=l,this._updateControlsErrors(!1!==a.emitEvent)}get(l){return function Os(h,l,a){if(null==l||(Array.isArray(l)||(l=l.split(a)),Array.isArray(l)&&0===l.length))return null;let v=h;return l.forEach(C=>{v=yl(v)?v.controls.hasOwnProperty(C)?v.controls[C]:null:_l(v)&&v.at(C)||null}),v}(this,l,".")}getError(l,a){const v=a?this.get(a):this;return v&&v.errors?v.errors[l]:null}hasError(l,a){return!!this.getError(l,a)}get root(){let l=this;for(;l._parent;)l=l._parent;return l}_updateControlsErrors(l){this.status=this._calculateStatus(),l&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(l)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Ir:this.errors?nc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jo)?jo:this._anyControlsHaveStatus(nc)?nc:la}_anyControlsHaveStatus(l){return this._anyControls(a=>a.status===l)}_anyControlsDirty(){return this._anyControls(l=>l.dirty)}_anyControlsTouched(){return this._anyControls(l=>l.touched)}_updatePristine(l={}){this.pristine=!this._anyControlsDirty(),this._parent&&!l.onlySelf&&this._parent._updatePristine(l)}_updateTouched(l={}){this.touched=this._anyControlsTouched(),this._parent&&!l.onlySelf&&this._parent._updateTouched(l)}_isBoxedValue(l){return"object"==typeof l&&null!==l&&2===Object.keys(l).length&&"value"in l&&"disabled"in l}_registerOnCollectionChange(l){this._onCollectionChange=l}_setUpdateStrategy(l){ic(l)&&null!=l.updateOn&&(this._updateOn=l.updateOn)}_parentMarkedDirty(l){return!l&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class di extends bl{constructor(l=null,a,v){super(fa(a),rc(v,a)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(l),this._setUpdateStrategy(a),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ic(a)&&a.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(l)?l.value:l)}setValue(l,a={}){this.value=this._pendingValue=l,this._onChange.length&&!1!==a.emitModelToViewChange&&this._onChange.forEach(v=>v(this.value,!1!==a.emitViewToModelChange)),this.updateValueAndValidity(a)}patchValue(l,a={}){this.setValue(l,a)}reset(l=this.defaultValue,a={}){this._applyFormState(l),this.markAsPristine(a),this.markAsUntouched(a),this.setValue(this.value,a),this._pendingChange=!1}_updateValue(){}_anyControls(l){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(l){this._onChange.push(l)}_unregisterOnChange(l){ml(this._onChange,l)}registerOnDisabledChange(l){this._onDisabledChange.push(l)}_unregisterOnDisabledChange(l){ml(this._onDisabledChange,l)}_forEachChild(l){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(l){this._isBoxedValue(l)?(this.value=this._pendingValue=l.value,l.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=l}}class ha extends bl{constructor(l,a,v){super(fa(a),rc(v,a)),this.controls=l,this._initObservables(),this._setUpdateStrategy(a),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(l,a){return this.controls[l]?this.controls[l]:(this.controls[l]=a,a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange),a)}addControl(l,a,v={}){this.registerControl(l,a),this.updateValueAndValidity({emitEvent:v.emitEvent}),this._onCollectionChange()}removeControl(l,a={}){this.controls[l]&&this.controls[l]._registerOnCollectionChange(()=>{}),delete this.controls[l],this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}setControl(l,a,v={}){this.controls[l]&&this.controls[l]._registerOnCollectionChange(()=>{}),delete this.controls[l],a&&this.registerControl(l,a),this.updateValueAndValidity({emitEvent:v.emitEvent}),this._onCollectionChange()}contains(l){return this.controls.hasOwnProperty(l)&&this.controls[l].enabled}setValue(l,a={}){Nc(this,l),Object.keys(l).forEach(v=>{wl(this,v),this.controls[v].setValue(l[v],{onlySelf:!0,emitEvent:a.emitEvent})}),this.updateValueAndValidity(a)}patchValue(l,a={}){null!=l&&(Object.keys(l).forEach(v=>{this.controls[v]&&this.controls[v].patchValue(l[v],{onlySelf:!0,emitEvent:a.emitEvent})}),this.updateValueAndValidity(a))}reset(l={},a={}){this._forEachChild((v,C)=>{v.reset(l[C],{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}getRawValue(){return this._reduceChildren({},(l,a,v)=>(l[v]=os(a),l))}_syncPendingControls(){let l=this._reduceChildren(!1,(a,v)=>!!v._syncPendingControls()||a);return l&&this.updateValueAndValidity({onlySelf:!0}),l}_forEachChild(l){Object.keys(this.controls).forEach(a=>{const v=this.controls[a];v&&l(v,a)})}_setUpControls(){this._forEachChild(l=>{l.setParent(this),l._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(l){for(const a of Object.keys(this.controls)){const v=this.controls[a];if(this.contains(a)&&l(v))return!0}return!1}_reduceValue(){return this._reduceChildren({},(l,a,v)=>((a.enabled||this.disabled)&&(l[v]=a.value),l))}_reduceChildren(l,a){let v=l;return this._forEachChild((C,N)=>{v=a(v,C,N)}),v}_allControlsDisabled(){for(const l of Object.keys(this.controls))if(this.controls[l].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class rf extends bl{constructor(l,a,v){super(fa(a),rc(v,a)),this.controls=l,this._initObservables(),this._setUpdateStrategy(a),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(l){return this.controls[l]}push(l,a={}){this.controls.push(l),this._registerControl(l),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}insert(l,a,v={}){this.controls.splice(l,0,a),this._registerControl(a),this.updateValueAndValidity({emitEvent:v.emitEvent})}removeAt(l,a={}){this.controls[l]&&this.controls[l]._registerOnCollectionChange(()=>{}),this.controls.splice(l,1),this.updateValueAndValidity({emitEvent:a.emitEvent})}setControl(l,a,v={}){this.controls[l]&&this.controls[l]._registerOnCollectionChange(()=>{}),this.controls.splice(l,1),a&&(this.controls.splice(l,0,a),this._registerControl(a)),this.updateValueAndValidity({emitEvent:v.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(l,a={}){Nc(this,l),l.forEach((v,C)=>{wl(this,C),this.at(C).setValue(v,{onlySelf:!0,emitEvent:a.emitEvent})}),this.updateValueAndValidity(a)}patchValue(l,a={}){null!=l&&(l.forEach((v,C)=>{this.at(C)&&this.at(C).patchValue(v,{onlySelf:!0,emitEvent:a.emitEvent})}),this.updateValueAndValidity(a))}reset(l=[],a={}){this._forEachChild((v,C)=>{v.reset(l[C],{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}getRawValue(){return this.controls.map(l=>os(l))}clear(l={}){this.controls.length<1||(this._forEachChild(a=>a._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:l.emitEvent}))}_syncPendingControls(){let l=this.controls.reduce((a,v)=>!!v._syncPendingControls()||a,!1);return l&&this.updateValueAndValidity({onlySelf:!0}),l}_forEachChild(l){this.controls.forEach((a,v)=>{l(a,v)})}_updateValue(){this.value=this.controls.filter(l=>l.enabled||this.disabled).map(l=>l.value)}_anyControls(l){return this.controls.some(a=>a.enabled&&l(a))}_setUpControls(){this._forEachChild(l=>this._registerControl(l))}_allControlsDisabled(){for(const l of this.controls)if(l.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(l){l.setParent(this),l._registerOnCollectionChange(this._onCollectionChange)}}let Rc=(()=>{class h{}return h.\u0275fac=function(a){return new(a||h)},h.\u0275dir=d.lG2({type:h,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),h})(),uf=(()=>{class h{}return h.\u0275fac=function(a){return new(a||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({}),h})();const r=new d.OlP("NgModelWithFormControlWarning"),g={provide:Hn,useExisting:(0,d.Gpc)(()=>w)};let w=(()=>{class h extends Hn{constructor(a,v){super(),this.validators=a,this.asyncValidators=v,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(a),this._setAsyncValidators(v)}ngOnChanges(a){this._checkFormPresent(),a.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vo(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(a){const v=this.form.get(a.path);return mo(v,a),v.updateValueAndValidity({emitEvent:!1}),this.directives.push(a),v}getControl(a){return this.form.get(a.path)}removeControl(a){Ms(a.control||null,a,!1),ml(this.directives,a)}addFormGroup(a){this._setUpFormContainer(a)}removeFormGroup(a){this._cleanUpFormContainer(a)}getFormGroup(a){return this.form.get(a.path)}addFormArray(a){this._setUpFormContainer(a)}removeFormArray(a){this._cleanUpFormContainer(a)}getFormArray(a){return this.form.get(a.path)}updateModel(a,v){this.form.get(a.path).setValue(v)}onSubmit(a){return this.submitted=!0,function tc(h,l){h._syncPendingControls(),l.forEach(a=>{const v=a.control;"submit"===v.updateOn&&v._pendingChange&&(a.viewToModelUpdate(v._pendingValue),v._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(a),!1}onReset(){this.resetForm()}resetForm(a){this.form.reset(a),this.submitted=!1}_updateDomValue(){this.directives.forEach(a=>{const v=a.control,C=this.form.get(a.path);v!==C&&(Ms(v||null,a),vl(C)&&(mo(C,a),a.control=C))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(a){const v=this.form.get(a.path);(function ec(h,l){Qu(h,l)})(v,a),v.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(a){if(this.form){const v=this.form.get(a.path);v&&function tf(h,l){return vo(h,l)}(v,a)&&v.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Qu(this.form,this),this._oldForm&&vo(this._oldForm,this)}_checkFormPresent(){}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(fr,10),d.Y36(ns,10))},h.\u0275dir=d.lG2({type:h,selectors:[["","formGroup",""]],hostBindings:function(a,v){1&a&&d.NdJ("submit",function(N){return v.onSubmit(N)})("reset",function(){return v.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([g]),d.qOj,d.TTD]}),h})();const fe={provide:Ss,useExisting:(0,d.Gpc)(()=>ue)};let ue=(()=>{class h extends Ss{constructor(a,v,C,N,K){super(),this._ngModelWarningConfig=K,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=a,this._setValidators(v),this._setAsyncValidators(C),this.valueAccessor=function Vo(h,l){if(!l)return null;let a,v,C;return Array.isArray(l),l.forEach(N=>{N.constructor===Di?a=N:function gl(h){return Object.getPrototypeOf(h.constructor)===Xo}(N)?v=N:C=N}),C||v||a||null}(0,N)}set isDisabled(a){}ngOnChanges(a){this._added||this._setUpControl(),function nf(h,l){if(!h.hasOwnProperty("model"))return!1;const a=h.model;return!!a.isFirstChange()||!Object.is(l,a.currentValue)}(a,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(a){this.viewModel=a,this.update.emit(a)}get path(){return function Lo(h,l){return[...l.path,h]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return h._ngModelWarningSentOnce=!1,h.\u0275fac=function(a){return new(a||h)(d.Y36(Hn,13),d.Y36(fr,10),d.Y36(ns,10),d.Y36(es,10),d.Y36(r,8))},h.\u0275dir=d.lG2({type:h,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([fe]),d.qOj,d.TTD]}),h})();const Ee={provide:es,useExisting:(0,d.Gpc)(()=>yt),multi:!0};function Fe(h,l){return null==h?`${l}`:(l&&"object"==typeof l&&(l="Object"),`${h}: ${l}`.slice(0,50))}let yt=(()=>{class h extends Xo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(a){this._compareWith=a}writeValue(a){this.value=a;const C=Fe(this._getOptionId(a),a);this.setProperty("value",C)}registerOnChange(a){this.onChange=v=>{this.value=this._getOptionValue(v),a(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(a){for(const v of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(v),a))return v;return null}_getOptionValue(a){const v=function qe(h){return h.split(":")[0]}(a);return this._optionMap.has(v)?this._optionMap.get(v):a}}return h.\u0275fac=function(){let l;return function(v){return(l||(l=d.n5z(h)))(v||h)}}(),h.\u0275dir=d.lG2({type:h,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(a,v){1&a&&d.NdJ("change",function(N){return v.onChange(N.target.value)})("blur",function(){return v.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([Ee]),d.qOj]}),h})(),gt=(()=>{class h{constructor(a,v,C){this._element=a,this._renderer=v,this._select=C,this._select&&(this.id=this._select._registerOption())}set ngValue(a){null!=this._select&&(this._select._optionMap.set(this.id,a),this._setElementValue(Fe(this.id,a)),this._select.writeValue(this._select.value))}set value(a){this._setElementValue(a),this._select&&this._select.writeValue(this._select.value)}_setElementValue(a){this._renderer.setProperty(this._element.nativeElement,"value",a)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(yt,9))},h.\u0275dir=d.lG2({type:h,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),h})();const Nt={provide:es,useExisting:(0,d.Gpc)(()=>Wn),multi:!0};function Yt(h,l){return null==h?`${l}`:("string"==typeof l&&(l=`'${l}'`),l&&"object"==typeof l&&(l="Object"),`${h}: ${l}`.slice(0,50))}let Wn=(()=>{class h extends Xo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(a){this._compareWith=a}writeValue(a){let v;if(this.value=a,Array.isArray(a)){const C=a.map(N=>this._getOptionId(N));v=(N,K)=>{N._setSelected(C.indexOf(K.toString())>-1)}}else v=(C,N)=>{C._setSelected(!1)};this._optionMap.forEach(v)}registerOnChange(a){this.onChange=v=>{const C=[],N=v.selectedOptions;if(void 0!==N){const K=N;for(let ne=0;ne<K.length;ne++){const it=this._getOptionValue(K[ne].value);C.push(it)}}else{const K=v.options;for(let ne=0;ne<K.length;ne++){const be=K[ne];if(be.selected){const it=this._getOptionValue(be.value);C.push(it)}}}this.value=C,a(C)}}_registerOption(a){const v=(this._idCounter++).toString();return this._optionMap.set(v,a),v}_getOptionId(a){for(const v of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(v)._value,a))return v;return null}_getOptionValue(a){const v=function gn(h){return h.split(":")[0]}(a);return this._optionMap.has(v)?this._optionMap.get(v)._value:a}}return h.\u0275fac=function(){let l;return function(v){return(l||(l=d.n5z(h)))(v||h)}}(),h.\u0275dir=d.lG2({type:h,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(a,v){1&a&&d.NdJ("change",function(N){return v.onChange(N.target)})("blur",function(){return v.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([Nt]),d.qOj]}),h})(),Gt=(()=>{class h{constructor(a,v,C){this._element=a,this._renderer=v,this._select=C,this._select&&(this.id=this._select._registerOption(this))}set ngValue(a){null!=this._select&&(this._value=a,this._setElementValue(Yt(this.id,a)),this._select.writeValue(this._select.value))}set value(a){this._select?(this._value=a,this._setElementValue(Yt(this.id,a)),this._select.writeValue(this._select.value)):this._setElementValue(a)}_setElementValue(a){this._renderer.setProperty(this._element.nativeElement,"value",a)}_setSelected(a){this._renderer.setProperty(this._element.nativeElement,"selected",a)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(Wn,9))},h.\u0275dir=d.lG2({type:h,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),h})(),hf=(()=>{class h{}return h.\u0275fac=function(a){return new(a||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({imports:[[uf]]}),h})(),Al=(()=>{class h{}return h.\u0275fac=function(a){return new(a||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({imports:[hf]}),h})(),Bf=(()=>{class h{static withConfig(a){return{ngModule:h,providers:[{provide:r,useValue:a.warnOnNgModelWithFormControl}]}}}return h.\u0275fac=function(a){return new(a||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({imports:[hf]}),h})(),_h=(()=>{class h{group(a,v=null){const C=this._reduceControls(a);let ne,N=null,K=null;return null!=v&&(function yh(h){return void 0!==h.asyncValidators||void 0!==h.validators||void 0!==h.updateOn}(v)?(N=null!=v.validators?v.validators:null,K=null!=v.asyncValidators?v.asyncValidators:null,ne=null!=v.updateOn?v.updateOn:void 0):(N=null!=v.validator?v.validator:null,K=null!=v.asyncValidator?v.asyncValidator:null)),new ha(C,{asyncValidators:K,updateOn:ne,validators:N})}control(a,v,C){return new di(a,v,C)}array(a,v,C){const N=a.map(K=>this._createControl(K));return new rf(N,v,C)}_reduceControls(a){const v={};return Object.keys(a).forEach(C=>{v[C]=this._createControl(a[C])}),v}_createControl(a){return vl(a)||yl(a)||_l(a)?a:Array.isArray(a)?this.control(a[0],a.length>1?a[1]:null,a.length>2?a[2]:null):this.control(a)}}return h.\u0275fac=function(a){return new(a||h)},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac,providedIn:Bf}),h})(),Hf=(()=>{class h{constructor(){this.title="lms"}}return h.\u0275fac=function(a){return new(a||h)},h.\u0275cmp=d.Xpm({type:h,selectors:[["app-customer"]],decls:1,vars:0,template:function(a,v){1&a&&d._UZ(0,"router-outlet")},directives:[bs],encapsulation:2}),h})();var Gf=J(3029),qf=J(3018),Kd=J(3887),kc=J(4689),zf=function(h,l){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(h,l)},cc=function(h,l){return function(a,v){l(a,v,h)}};let Tl=(()=>{let h=class{constructor(a,v,C,N){const K=(0,Kd.ss)(new Kd.HU(N),C);this.auth=N.runOutsideAngular(()=>(0,kc.Wy)(a,N,v).auth()),this.authState=new ni.y(ne=>N.runOutsideAngular(()=>this.auth.onAuthStateChanged(ne))).pipe(K),this.user=new ni.y(ne=>N.runOutsideAngular(()=>this.auth.onIdTokenChanged(ne))).pipe(K),this.idToken=this.user.pipe(ii(ne=>ne?(0,Bn.D)(ne.getIdToken()):(0,It.of)(null))),this.idTokenResult=this.user.pipe(ii(ne=>ne?(0,Bn.D)(ne.getIdTokenResult()):(0,It.of)(null)))}};return h.\u0275fac=function(a){return new(a||h)(d.LFG(kc.Dh),d.LFG(kc.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b))},h.\u0275prov=d.Yz7({token:h,factory:function(l){return h.\u0275fac(l)}}),h=function(h,l,a,v){var K,C=arguments.length,N=C<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,a):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(h,l,a,v);else for(var ne=h.length-1;ne>=0;ne--)(K=h[ne])&&(N=(C<3?K(N):C>3?K(l,a,N):K(l,a))||N);return C>3&&N&&Object.defineProperty(l,a,N),N}([cc(0,(0,d.tBr)(kc.Dh)),cc(1,(0,d.FiY)()),cc(1,(0,d.tBr)(kc.xv)),cc(2,(0,d.tBr)(d.Lbi)),zf("design:paramtypes",[Object,Object,Object,d.R0b])],h),h})(),pi=(()=>{class h{constructor(a,v,C){this.afs=a,this.afAuth=v,this.router=C,this.usersCollection=a.collection("Customers"),this.users=this.usersCollection.valueChanges({idField:"customID"})}login(a,v){this.afAuth.auth.signInWithEmailAndPassword(a,v).then(C=>{"admin@noblelaundry.com"==a?(this.usersCollection=this.afs.collection("Admin",N=>N.where("email","==",a)),this.users=this.usersCollection.valueChanges(),this.users.subscribe(N=>{sessionStorage.customerID=N[0].customerID,sessionStorage.username=N[0].fullName,sessionStorage.userObj=JSON.stringify(N[0])}),this.router.navigateByUrl("admin/dashboard")):(this.usersCollection=this.afs.collection("Customers",N=>N.where("email","==",a)),this.users=this.usersCollection.valueChanges(),this.users.subscribe(N=>{sessionStorage.customerID=N[0].customerID,sessionStorage.username=N[0].fullName,sessionStorage.userObj=JSON.stringify(N[0])}),this.router.navigateByUrl("order"))}).catch(C=>{console.log("Something went wrong: ",C.message)})}emailSignup(a,v,C){this.afAuth.auth.createUserWithEmailAndPassword(a,v).then(N=>{console.log("Sucess",N);const K=this.afs.createId();C.customerID=K,this.usersCollection.doc(K).set(C).then(ne=>{console.log(ne),alert("User successfully registered. Please login to continue."),this.router.navigateByUrl("/login")})}).catch(N=>{console.log("Something went wrong: ",N),alert(N.message)})}googleLogin(){const a=new Gf.auth.GoogleAuthProvider;return this.oAuthLogin(a).then(v=>{console.log("Sucess",v),this.router.navigateByUrl("/profile")}).catch(v=>{console.log("Something went wrong: ",v)})}logout(){this.afAuth.auth.signOut().then(()=>{sessionStorage.clear(),this.router.navigateByUrl(""),location.reload()})}oAuthLogin(a){return this.afAuth.auth.signInWithPopup(a)}}return h.\u0275fac=function(a){return new(a||h)(d.LFG(qf.ST),d.LFG(Tl),d.LFG(Jn))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac}),h})();const td=function(){return["../login"]};function wh(h,l){if(1&h&&(d.TgZ(0,"a",4),d._uU(1,"Login"),d.qZA()),2&h){const a=d.oxw();d.ekj("active","login"==a.view),d.Q6J("routerLink",d.DdM(3,td))}}const Yd=function(){return["../order"]};function nd(h,l){if(1&h&&(d.TgZ(0,"a",4),d._uU(1,"Order now"),d.qZA()),2&h){const a=d.oxw();d.ekj("active","order"==a.view),d.Q6J("routerLink",d.DdM(3,Yd))}}const rd=function(){return["../status"]};function df(h,l){if(1&h&&(d.TgZ(0,"a",4),d._uU(1,"Status"),d.qZA()),2&h){const a=d.oxw();d.ekj("active","status"==a.view),d.Q6J("routerLink",d.DdM(3,rd))}}function pf(h,l){if(1&h){const a=d.EpF();d.TgZ(0,"a",8),d.NdJ("click",function(){return d.CHM(a),d.oxw().logout()}),d._uU(1,"Log out"),d.qZA()}}function id(h,l){if(1&h&&(d.TgZ(0,"a",9),d._uU(1),d.qZA()),2&h){const a=d.oxw();d.xp6(1),d.hij("Hello ",a.username,"")}}const Zd=function(){return["../"]};let Lc=(()=>{class h{constructor(a){this.auth=a,this.title="lms",this.user=sessionStorage.customerID,this.username=sessionStorage.username}logout(){this.auth.logout()}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(pi))},h.\u0275cmp=d.Xpm({type:h,selectors:[["app-header"]],inputs:{view:"view"},decls:13,vars:9,consts:[[1,"headerContainer","cover-container","d-flex","w-100","h-100","p-3","mx-auto","flex-column"],[1,"mb-auto"],[1,"float-md-start","mb-0"],[1,"nav","nav-masthead","justify-content-center","float-md-end"],[1,"nav-link",3,"routerLink"],["class","nav-link",3,"active","routerLink",4,"ngIf"],["class","nav-link",3,"click",4,"ngIf"],["class","nav-link","id","userTab",4,"ngIf"],[1,"nav-link",3,"click"],["id","userTab",1,"nav-link"]],template:function(a,v){1&a&&(d.TgZ(0,"div",0)(1,"header",1)(2,"div")(3,"h3",2),d._uU(4,"Noble Laundry"),d.qZA(),d.TgZ(5,"nav",3)(6,"a",4),d._uU(7,"Home"),d.qZA(),d.YNc(8,wh,2,4,"a",5),d.YNc(9,nd,2,4,"a",5),d.YNc(10,df,2,4,"a",5),d.YNc(11,pf,2,0,"a",6),d.YNc(12,id,2,1,"a",7),d.qZA()()()()),2&a&&(d.xp6(6),d.ekj("active","home"==v.view),d.Q6J("routerLink",d.DdM(8,Zd)),d.xp6(2),d.Q6J("ngIf",!v.user),d.xp6(1),d.Q6J("ngIf",v.user),d.xp6(1),d.Q6J("ngIf",v.user),d.xp6(1),d.Q6J("ngIf",v.user),d.xp6(1),d.Q6J("ngIf",v.user))},directives:[xo,k.O5],styles:["#userTab[_ngcontent-%COMP%]{cursor:default;text-decoration:underline}"]}),h})(),Qt=(()=>{class h{constructor(a){this.router=a,this.title="lms",this.user=sessionStorage.username}ngOnInit(){"Admin"==this.user&&this.router.navigateByUrl("admin")}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(Jn))},h.\u0275cmp=d.Xpm({type:h,selectors:[["app-home"]],decls:6,vars:0,consts:[["view","home"],[1,"col-sm-12",2,"text-align","center","background-color","rgba(0,0,0,0.5)","z-index","10","position","absolute"],["src","assets/img3.jpg",2,"height","87vh","z-index","-10"],["id","overlay"],["id","text"]],template:function(a,v){1&a&&(d._UZ(0,"app-header",0),d.TgZ(1,"div",1),d._UZ(2,"img",2),d.TgZ(3,"div",3)(4,"div",4),d._uU(5,"Laundry with perfection and punctuality"),d.qZA()()())},directives:[Lc],encapsulation:2}),h})();var Sl=J(8416);function od(h,l){if(1&h){const a=d.EpF();d.TgZ(0,"li",12)(1,"select",13,14),d.NdJ("change",function(){const N=d.CHM(a).$implicit,K=d.MAs(2);return N.clothType=K.value}),d.TgZ(3,"option",5),d._uU(4,"Cloth Type"),d.qZA(),d.TgZ(5,"option",15),d._uU(6,"Shirt"),d.qZA(),d.TgZ(7,"option",16),d._uU(8,"Pant"),d.qZA(),d.TgZ(9,"option",17),d._uU(10,"Saree"),d.qZA(),d.TgZ(11,"option",18),d._uU(12,"Salwar"),d.qZA(),d.TgZ(13,"option",19),d._uU(14,"Dhoti"),d.qZA(),d.TgZ(15,"option",20),d._uU(16,"Jersey"),d.qZA(),d.TgZ(17,"option",21),d._uU(18,"Suit"),d.qZA()(),d.TgZ(19,"select",22,23),d.NdJ("change",function(){const N=d.CHM(a).$implicit,K=d.MAs(20);return N.clothColor=K.value}),d.TgZ(21,"option",5),d._uU(22,"Cloth Color"),d.qZA(),d.TgZ(23,"option",24),d._uU(24,"White"),d.qZA(),d.TgZ(25,"option",25),d._uU(26,"Others"),d.qZA()(),d.TgZ(27,"button",26),d.NdJ("click",function(){const N=d.CHM(a).$implicit;return d.oxw().removeFromList(N)}),d._uU(28,"-"),d.qZA()()}}let sd=(()=>{class h{constructor(a,v){this.afs=a,this.router=v,this.title="lms",this.orderID=sessionStorage.customerID+Math.round(1e4*Math.random()).toString(),this.clothIDSuffix=100,this.clothList=[{clothID:this.orderID+this.clothIDSuffix,clothType:"",clothColor:""}],this.service="",this.removeFromList=C=>{var N=this.clothList.indexOf(C);N>-1&&this.clothList.splice(N,1)}}ngOnInit(){sessionStorage.customerID||this.router.navigateByUrl("login")}appendToList(){this.clothIDSuffix=this.clothIDSuffix+1,this.clothList.push({clothID:this.orderID+this.clothIDSuffix,clothType:"",clothColor:""}),console.log(this.clothList)}placeOrder(){if(this.ordersCollection=this.afs.collection("Orders"),""==this.service)return void alert("Please select the required service");this.clothList.forEach(C=>{""!=C.clothType&&""!=C.clothColor||alert("Please select both cloth type and color")});let a=Date.now();const v={clothes:this.clothList,customerID:sessionStorage.customerID,orderID:this.orderID,service:this.service,status:"Order received",timeStamp:a,totalItems:this.clothList.length};this.ordersCollection.add(v).then(C=>{alert("Order Placed Successfuly")}).catch(C=>{console.log(C),alert("Please fill all details")})}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(Sl.AngularFirestore),d.Y36(Jn))},h.\u0275cmp=d.Xpm({type:h,selectors:[["app-order"]],decls:19,vars:1,consts:[["view","order"],[1,"centerBox"],["for","serviceType"],["name","serviceType","id","serviceType",1,"form-input",3,"change"],["serviceType",""],["selected","","hidden",""],["value","Washing"],["value","Ironing"],[1,"orderList","list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success",3,"click"],[1,"list-group-item"],["name","clothType",1,"clothType",3,"change"],["clothType",""],["value","Shirt"],["value","Pant"],["value","Saree"],["value","Salwar"],["value","Dhoti"],["value","Jersey"],["value","Suit"],["name","clothColor",1,"clothColor",3,"change"],["clothColor",""],["value","White"],["value","Others"],[1,"btn","btn-danger",2,"line-height","20px",3,"click"]],template:function(a,v){if(1&a){const C=d.EpF();d._UZ(0,"app-header",0),d.TgZ(1,"div",1)(2,"label",2)(3,"h4"),d._uU(4,"Choose a service"),d.qZA()(),d.TgZ(5,"select",3,4),d.NdJ("change",function(){d.CHM(C);const K=d.MAs(6);return v.service=K.value}),d.TgZ(7,"option",5),d._uU(8,"Select an option"),d.qZA(),d.TgZ(9,"option",6),d._uU(10,"Washing"),d.qZA(),d.TgZ(11,"option",7),d._uU(12,"Ironing"),d.qZA()(),d.TgZ(13,"ol",8),d.YNc(14,od,29,0,"li",9),d.qZA(),d.TgZ(15,"button",10),d.NdJ("click",function(){return v.appendToList()}),d._uU(16,"+"),d.qZA(),d.TgZ(17,"button",11),d.NdJ("click",function(){return v.placeOrder()}),d._uU(18,"Place Order"),d.qZA()()}2&a&&(d.xp6(14),d.Q6J("ngForOf",v.clothList))},directives:[Lc,gt,Gt,k.sg],styles:["select[_ngcontent-%COMP%]{width:30%;padding:3px;border:none;background-color:#fff;border-radius:1mm;margin:0 20px}.centerBox[_ngcontent-%COMP%]{background-color:#fff;padding:30px}.btn[_ngcontent-%COMP%]{margin:20px}"]}),h})(),Ml=(()=>{class h{constructor(a){this.sanitized=a}transform(a){return this.sanitized.bypassSecurityTrustHtml(a)}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(ur,16))},h.\u0275pipe=d.Yjl({name:"safeHtml",type:h,pure:!0}),h})(),ma=(()=>{class h{constructor(a){this.sanitized=a}transform(a){return"Order received"==a?'<span style="color:purple">Order received</span>':"Preparing to wash"==a?'<span style="color:orange">Preparing to wash</span>':"Preparing to iron"==a?'<span style="color:orange">Preparing to iron</span>':"Washing"==a?'<span style="color:yellow">Washing</span>':"Drying"==a?'<span style="color:lightblue">Drying</span>':"Ironing"==a?'<span style="color:darkblue">Ironing</span>':"Ready to pick up"==a?'<span style="color:green">Ready to pick up</span>':void 0}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(ur,16))},h.\u0275pipe=d.Yjl({name:"status",type:h,pure:!0}),h})();function ad(h,l){if(1&h){const a=d.EpF();d.TgZ(0,"a",15,16),d.NdJ("click",function(){const N=d.CHM(a).$implicit;return d.oxw().setOrder(N)}),d.TgZ(2,"div",17),d._UZ(3,"strong",18),d.ALo(4,"safeHtml"),d.ALo(5,"status"),d.TgZ(6,"small",19),d._uU(7),d.ALo(8,"date"),d.qZA()(),d.TgZ(9,"div",20),d._uU(10),d.qZA()()}if(2&h){const a=l.$implicit;d.xp6(3),d.Q6J("innerHtml",d.lcZ(4,3,d.lcZ(5,5,a.status)),d.oJD),d.xp6(4),d.Oqu(d.xi3(8,7,a.timeStamp,"dd/MM/yyyy")),d.xp6(3),d.hij("Order Id:",a.orderID,"")}}function Jd(h,l){1&h&&(d.TgZ(0,"h3"),d._uU(1,"Click on an order to view its status"),d.qZA())}function bh(h,l){if(1&h&&(d.TgZ(0,"div",21),d.YNc(1,Jd,2,0,"h3",22),d.qZA()),2&h){const a=d.oxw();d.xp6(1),d.Q6J("ngIf",a.orders)}}function us(h,l){if(1&h&&(d.TgZ(0,"div",12)(1,"h5"),d._uU(2),d.qZA()()),2&h){const a=d.oxw();d.xp6(2),d.hij("Order ID: ",a.orderID,"")}}function Eh(h,l){if(1&h&&(d.TgZ(0,"div",27)(1,"h5"),d._uU(2),d.qZA()()),2&h){const a=d.oxw(2);d.xp6(2),d.hij("Total number of items: ",a.totalItems,"")}}function Dh(h,l){if(1&h&&(d.TgZ(0,"tr")(1,"th",31),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA()()),2&h){const a=l.$implicit;d.xp6(2),d.Oqu(a.clothID),d.xp6(2),d.Oqu(a.clothType),d.xp6(2),d.Oqu(a.clothColor)}}function gf(h,l){if(1&h&&(d.TgZ(0,"table",28)(1,"thead")(2,"tr")(3,"th",29),d._uU(4,"ClothID"),d.qZA(),d.TgZ(5,"th",29),d._uU(6,"Cloth Type"),d.qZA(),d.TgZ(7,"th",29),d._uU(8,"Color"),d.qZA()()(),d.TgZ(9,"tbody"),d.YNc(10,Dh,7,3,"tr",30),d.qZA()()),2&h){const a=d.oxw(2);d.xp6(10),d.Q6J("ngForOf",a.clothList)}}function Wf(h,l){if(1&h&&(d.TgZ(0,"div",23)(1,"h5"),d._uU(2,"Status"),d.qZA(),d._UZ(3,"div",24),d.ALo(4,"safeHtml"),d.YNc(5,Eh,3,1,"div",25),d.YNc(6,gf,11,1,"table",26),d.qZA()),2&h){const a=d.oxw();d.xp6(3),d.Q6J("innerHTML",d.lcZ(4,3,a.progressHtml),d.oJD),d.xp6(2),d.Q6J("ngIf",a.totalItems),d.xp6(1),d.Q6J("ngIf",a.clothList)}}let lc=(()=>{class h{constructor(a,v){this.afs=a,this.router=v,this.title="lms",this.progressHtml="",this.status="",this.service="",this.orderID=""}ngOnInit(){sessionStorage.customerID||this.router.navigateByUrl("login"),this.ordersCollection=this.afs.collection("Orders",a=>a.where("customerID","==",sessionStorage.customerID).orderBy("timeStamp")),this.orders=this.ordersCollection.valueChanges()}setOrder(a){"Order received"==a.status&&(this.progressHtml='<div class="progress-bar bg-info" role="progressbar" style="width: 5%" aria-valuenow="5" aria-valuemin="0" aria-valuemax="100"></div>   <span style="margin-left:10px">Order received</span>     '),"Preparing to wash"==a.status?this.progressHtml='<div class="progress-bar bg-warning" role="progressbar" style="width: 20%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">Preparing to wash</div>        ':"Washing"==a.status?this.progressHtml='  <div class="progress-bar" role="progressbar" style="width: 40%" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100">Washing</div>        ':"Drying"==a.status?this.progressHtml='  <div class="progress-bar" role="progressbar" style="width: 60%" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100">Drying</div>        ':"Ironing"==a.status?this.progressHtml='  <div class="progress-bar" role="progressbar" style="width: 80%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100">Ironing</div>        ':"Ready to pick up"==a.status&&(this.progressHtml='  <div class="progress-bar bg-success" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">Ready to pick up</div>        '),this.service=a.service,this.orderID=a.orderID,this.clothList=a.clothes,this.totalItems=a.totalItems,console.log(a)}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(Sl.AngularFirestore),d.Y36(Jn))},h.\u0275cmp=d.Xpm({type:h,selectors:[["app-status"]],inputs:{status:"status"},decls:19,vars:7,consts:[["view","status"],[1,"row"],[1,"col-sm-4","sideNavContainer"],[1,"d-flex","flex-column","align-items-stretch","flex-shrink-0","bg-white",2,"width","380px","height","100%"],["href","/",1,"d-flex","align-items-center","flex-shrink-0","p-3","link-dark","text-decoration-none","border-bottom"],["width","30","height","24",1,"bi","me-2"],[0,"xlink","href","#bootstrap"],[1,"fs-5","fw-semibold"],[1,"list-group","list-group-flush","border-bottom","scrollarea"],["class","list-group-item list-group-item-action py-3 lh-tight",3,"click",4,"ngFor","ngForOf"],[1,"col-sm-8"],["class","nothingToShow",4,"ngIf"],[1,"metadata"],["class","metadata",4,"ngIf"],["class","progressBox",4,"ngIf"],[1,"list-group-item","list-group-item-action","py-3","lh-tight",3,"click"],["orderLink",""],[1,"d-flex","w-100","align-items-center","justify-content-between"],[1,"mb-1",3,"innerHtml"],[1,"text-muted"],[1,"col-10","mb-1","small"],[1,"nothingToShow"],[4,"ngIf"],[1,"progressBox"],[1,"progress",3,"innerHTML"],["class","metadata","style","margin-left:0",4,"ngIf"],["class","table table-striped",4,"ngIf"],[1,"metadata",2,"margin-left","0"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(a,v){1&a&&(d._UZ(0,"app-header",0),d.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),d.O4$(),d.TgZ(5,"svg",5),d._UZ(6,"use",6),d.qZA(),d.kcU(),d.TgZ(7,"span",7),d._uU(8,"Orders"),d.qZA()(),d.TgZ(9,"div",8),d.YNc(10,ad,11,10,"a",9),d.ALo(11,"async"),d.qZA()()(),d.TgZ(12,"div",10),d.YNc(13,bh,2,1,"div",11),d.TgZ(14,"div",12)(15,"h3"),d._uU(16),d.qZA()(),d.YNc(17,us,3,1,"div",13),d.YNc(18,Wf,7,5,"div",14),d.qZA()()),2&a&&(d.xp6(10),d.Q6J("ngForOf",d.lcZ(11,5,v.orders)),d.xp6(3),d.Q6J("ngIf",!v.orderID),d.xp6(3),d.Oqu(v.service),d.xp6(1),d.Q6J("ngIf",v.orderID),d.xp6(1),d.Q6J("ngIf",v.progressHtml))},directives:[Lc,k.sg,k.O5],pipes:[k.Ov,Ml,ma,k.uU],styles:["a[_ngcontent-%COMP%]{cursor:pointer}.metadata[_ngcontent-%COMP%]{margin:30px 0 0 30px}.table[_ngcontent-%COMP%]{margin:40px 0}.nothingToShow[_ngcontent-%COMP%]{width:100%;height:100%;display:grid}.nothingToShow[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:auto}"]}),h})();function mf(h,l){1&h&&(d.TgZ(0,"span",11),d._uU(1,"Please enter valid email"),d.qZA())}function Kf(h,l){1&h&&(d.TgZ(0,"span",11),d._uU(1,"Please enter valid password"),d.qZA())}const hu=function(){return["../register"]};let Ch=(()=>{class h{constructor(a,v){this.fb=a,this.auth=v}ngOnInit(){this.loginForm=this.fb.group({password:["",hi.required],email:["",[hi.required,hi.pattern(".+@.+")]]}),this.loginForm.valueChanges.subscribe(a=>this.log=a)}login(){let a=this.loginForm.get("email").value,v=this.loginForm.get("password").value;this.auth.login(a,v)}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(_h),d.Y36(pi))},h.\u0275cmp=d.Xpm({type:h,selectors:[["app-login"]],decls:22,vars:5,consts:[["view","login"],[1,"centerBox",3,"formGroup"],[2,"width","100%","text-align","center"],[1,"form-group"],["for","email"],["formControlName","email","type","email","id","email","aria-describedby","emailHelp","placeholder","Enter email",1,"form-control"],["class","error-text",4,"ngIf"],["for","password"],["formControlName","password","type","password","id","password","placeholder","Password",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"click"],[3,"routerLink"],[1,"error-text"]],template:function(a,v){1&a&&(d._UZ(0,"app-header",0),d.TgZ(1,"form",1)(2,"div",2)(3,"h3"),d._uU(4,"Login"),d.qZA()(),d.TgZ(5,"div",3)(6,"label",4),d._uU(7,"Email address"),d.qZA(),d._UZ(8,"input",5),d.YNc(9,mf,2,0,"span",6),d.qZA(),d.TgZ(10,"div",3)(11,"label",7),d._uU(12,"Password"),d.qZA(),d._UZ(13,"input",8),d.YNc(14,Kf,2,0,"span",6),d.qZA(),d._UZ(15,"br"),d.TgZ(16,"button",9),d.NdJ("click",function(){return v.login()}),d._uU(17,"Login"),d.qZA(),d._UZ(18,"br"),d._uU(19," Don't have an account? "),d.TgZ(20,"a",10),d._uU(21,"Click here to register"),d.qZA()()),2&a&&(d.xp6(1),d.Q6J("formGroup",v.loginForm),d.xp6(8),d.Q6J("ngIf",v.loginForm.get("email").touched&&v.loginForm.get("email").invalid),d.xp6(5),d.Q6J("ngIf",v.loginForm.get("password").touched&&v.loginForm.get("password").invalid),d.xp6(6),d.Q6J("routerLink",d.DdM(4,hu)))},directives:[Lc,Rc,Ra,w,Di,Ju,ue,k.O5,xo],encapsulation:2}),h})();function vf(h,l){1&h&&(d.TgZ(0,"span",15),d._uU(1,"Please enter valid email"),d.qZA())}function Ih(h,l){1&h&&(d.TgZ(0,"span",15),d._uU(1,"Please enter valid name"),d.qZA())}function ud(h,l){1&h&&(d.TgZ(0,"span",15),d._uU(1,"Please enter valid phone number"),d.qZA())}function Qd(h,l){1&h&&(d.TgZ(0,"span",15),d._uU(1,"Please enter valid address"),d.qZA())}function Xd(h,l){1&h&&(d.TgZ(0,"span",15),d._uU(1,"Please enter valid password"),d.qZA())}let ep=(()=>{class h{constructor(a,v){this.fb=a,this.auth=v,this.title="lms"}ngOnInit(){this.registerForm=this.fb.group({password:["",hi.required],email:["",[hi.required,hi.pattern(".+@.+")]],fullName:["",hi.required],phone:["",[hi.required,hi.pattern("^((\\+91-?)|0)?[0-9]{10}$")]],address:["",hi.required]}),this.registerForm.valueChanges.subscribe(a=>this.log=a)}signupWithEmail(){let a=this.registerForm.get("email").value,v=this.registerForm.get("password").value;const C={fullName:this.registerForm.get("fullName").value,email:a,phone:this.registerForm.get("phone").value,address:this.registerForm.get("address").value,customerID:""};this.auth.emailSignup(a,v,C)}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(_h),d.Y36(pi))},h.\u0275cmp=d.Xpm({type:h,selectors:[["app-login"]],decls:33,vars:6,consts:[[1,"centerBox",3,"formGroup"],[2,"width","100%","text-align","center"],[1,"form-group"],["for","email"],["formControlName","email","type","email","id","email","aria-describedby","emailHelp","placeholder","john@example.com",1,"form-control"],["class","error-text",4,"ngIf"],["for","fullname"],["formControlName","fullName","id","fullname","aria-describedby","emailHelp","placeholder","John Doe",1,"form-control"],["for","phone"],["formControlName","phone","id","phone","aria-describedby","emailHelp","placeholder","134567890",1,"form-control"],["for","address"],["formControlName","address","id","address","aria-describedby","emailHelp","placeholder","Address",1,"form-control"],["for","password"],["formControlName","password","type","password","id","password","placeholder","Password",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"error-text"]],template:function(a,v){1&a&&(d._UZ(0,"app-header"),d.TgZ(1,"form",0)(2,"div",1)(3,"h3"),d._uU(4,"Register"),d.qZA()(),d.TgZ(5,"div",2)(6,"label",3),d._uU(7,"Email"),d.qZA(),d._UZ(8,"input",4),d.YNc(9,vf,2,0,"span",5),d.qZA(),d.TgZ(10,"div",2)(11,"label",6),d._uU(12,"Full Name"),d.qZA(),d._UZ(13,"input",7),d.YNc(14,Ih,2,0,"span",5),d.qZA(),d.TgZ(15,"div",2)(16,"label",8),d._uU(17,"Phone"),d.qZA(),d._UZ(18,"input",9),d.YNc(19,ud,2,0,"span",5),d.qZA(),d.TgZ(20,"div",2)(21,"label",10),d._uU(22,"Address"),d.qZA(),d._UZ(23,"textarea",11),d.YNc(24,Qd,2,0,"span",5),d.qZA(),d.TgZ(25,"div",2)(26,"label",12),d._uU(27,"Password"),d.qZA(),d._UZ(28,"input",13),d.YNc(29,Xd,2,0,"span",5),d.qZA(),d._UZ(30,"br"),d.TgZ(31,"button",14),d.NdJ("click",function(){return v.signupWithEmail()}),d._uU(32,"Sign Up"),d.qZA()()),2&a&&(d.xp6(1),d.Q6J("formGroup",v.registerForm),d.xp6(8),d.Q6J("ngIf",v.registerForm.get("email").touched&&v.registerForm.get("email").invalid),d.xp6(5),d.Q6J("ngIf",v.registerForm.get("fullName").touched&&v.registerForm.get("fullName").invalid),d.xp6(5),d.Q6J("ngIf",v.registerForm.get("phone").touched&&v.registerForm.get("phone").invalid),d.xp6(5),d.Q6J("ngIf",v.registerForm.get("address").touched&&v.registerForm.get("address").invalid),d.xp6(5),d.Q6J("ngIf",v.registerForm.get("password").touched&&v.registerForm.get("password").invalid))},directives:[Lc,Rc,Ra,w,Di,Ju,ue,k.O5],encapsulation:2}),h})(),Yf=(()=>{class h{}return h.\u0275fac=function(a){return new(a||h)},h.\u0275mod=d.oAB({type:h,bootstrap:[Hf]}),h.\u0275inj=d.cJS({providers:[],imports:[[Wt,ra.forRoot([{path:"",component:Qt},{path:"login",component:Ch},{path:"register",component:ep},{path:"order",component:sd},{path:"status",component:lc}]),Al,Bf]]}),h})();var tp=J(3475);class cd{}class ld{}class Ws{constructor(l){this.normalizedNames=new Map,this.lazyUpdate=null,l?this.lazyInit="string"==typeof l?()=>{this.headers=new Map,l.split("\n").forEach(a=>{const v=a.indexOf(":");if(v>0){const C=a.slice(0,v),N=C.toLowerCase(),K=a.slice(v+1).trim();this.maybeSetNormalizedName(C,N),this.headers.has(N)?this.headers.get(N).push(K):this.headers.set(N,[K])}})}:()=>{this.headers=new Map,Object.keys(l).forEach(a=>{let v=l[a];const C=a.toLowerCase();"string"==typeof v&&(v=[v]),v.length>0&&(this.headers.set(C,v),this.maybeSetNormalizedName(a,C))})}:this.headers=new Map}has(l){return this.init(),this.headers.has(l.toLowerCase())}get(l){this.init();const a=this.headers.get(l.toLowerCase());return a&&a.length>0?a[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(l){return this.init(),this.headers.get(l.toLowerCase())||null}append(l,a){return this.clone({name:l,value:a,op:"a"})}set(l,a){return this.clone({name:l,value:a,op:"s"})}delete(l,a){return this.clone({name:l,value:a,op:"d"})}maybeSetNormalizedName(l,a){this.normalizedNames.has(a)||this.normalizedNames.set(a,l)}init(){this.lazyInit&&(this.lazyInit instanceof Ws?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(l=>this.applyUpdate(l)),this.lazyUpdate=null))}copyFrom(l){l.init(),Array.from(l.headers.keys()).forEach(a=>{this.headers.set(a,l.headers.get(a)),this.normalizedNames.set(a,l.normalizedNames.get(a))})}clone(l){const a=new Ws;return a.lazyInit=this.lazyInit&&this.lazyInit instanceof Ws?this.lazyInit:this,a.lazyUpdate=(this.lazyUpdate||[]).concat([l]),a}applyUpdate(l){const a=l.name.toLowerCase();switch(l.op){case"a":case"s":let v=l.value;if("string"==typeof v&&(v=[v]),0===v.length)return;this.maybeSetNormalizedName(l.name,a);const C=("a"===l.op?this.headers.get(a):void 0)||[];C.push(...v),this.headers.set(a,C);break;case"d":const N=l.value;if(N){let K=this.headers.get(a);if(!K)return;K=K.filter(ne=>-1===N.indexOf(ne)),0===K.length?(this.headers.delete(a),this.normalizedNames.delete(a)):this.headers.set(a,K)}else this.headers.delete(a),this.normalizedNames.delete(a)}}forEach(l){this.init(),Array.from(this.normalizedNames.keys()).forEach(a=>l(this.normalizedNames.get(a),this.headers.get(a)))}}class Ah{encodeKey(l){return fd(l)}encodeValue(l){return fd(l)}decodeKey(l){return decodeURIComponent(l)}decodeValue(l){return decodeURIComponent(l)}}const yf=/%(\d[a-f0-9])/gi,np={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function fd(h){return encodeURIComponent(h).replace(yf,(l,a)=>{var v;return null!==(v=np[a])&&void 0!==v?v:l})}function rp(h){return`${h}`}class fc{constructor(l={}){if(this.updates=null,this.cloneFrom=null,this.encoder=l.encoder||new Ah,l.fromString){if(l.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Th(h,l){const a=new Map;return h.length>0&&h.replace(/^\?/,"").split("&").forEach(C=>{const N=C.indexOf("="),[K,ne]=-1==N?[l.decodeKey(C),""]:[l.decodeKey(C.slice(0,N)),l.decodeValue(C.slice(N+1))],be=a.get(K)||[];be.push(ne),a.set(K,be)}),a}(l.fromString,this.encoder)}else l.fromObject?(this.map=new Map,Object.keys(l.fromObject).forEach(a=>{const v=l.fromObject[a];this.map.set(a,Array.isArray(v)?v:[v])})):this.map=null}has(l){return this.init(),this.map.has(l)}get(l){this.init();const a=this.map.get(l);return a?a[0]:null}getAll(l){return this.init(),this.map.get(l)||null}keys(){return this.init(),Array.from(this.map.keys())}append(l,a){return this.clone({param:l,value:a,op:"a"})}appendAll(l){const a=[];return Object.keys(l).forEach(v=>{const C=l[v];Array.isArray(C)?C.forEach(N=>{a.push({param:v,value:N,op:"a"})}):a.push({param:v,value:C,op:"a"})}),this.clone(a)}set(l,a){return this.clone({param:l,value:a,op:"s"})}delete(l,a){return this.clone({param:l,value:a,op:"d"})}toString(){return this.init(),this.keys().map(l=>{const a=this.encoder.encodeKey(l);return this.map.get(l).map(v=>a+"="+this.encoder.encodeValue(v)).join("&")}).filter(l=>""!==l).join("&")}clone(l){const a=new fc({encoder:this.encoder});return a.cloneFrom=this.cloneFrom||this,a.updates=(this.updates||[]).concat(l),a}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(l=>this.map.set(l,this.cloneFrom.map.get(l))),this.updates.forEach(l=>{switch(l.op){case"a":case"s":const a=("a"===l.op?this.map.get(l.param):void 0)||[];a.push(rp(l.value)),this.map.set(l.param,a);break;case"d":if(void 0===l.value){this.map.delete(l.param);break}{let v=this.map.get(l.param)||[];const C=v.indexOf(rp(l.value));-1!==C&&v.splice(C,1),v.length>0?this.map.set(l.param,v):this.map.delete(l.param)}}}),this.cloneFrom=this.updates=null)}}class Rp{constructor(){this.map=new Map}set(l,a){return this.map.set(l,a),this}get(l){return this.map.has(l)||this.map.set(l,l.defaultValue()),this.map.get(l)}delete(l){return this.map.delete(l),this}has(l){return this.map.has(l)}keys(){return this.map.keys()}}function ip(h){return"undefined"!=typeof ArrayBuffer&&h instanceof ArrayBuffer}function dd(h){return"undefined"!=typeof Blob&&h instanceof Blob}function pd(h){return"undefined"!=typeof FormData&&h instanceof FormData}class Vc{constructor(l,a,v,C){let N;if(this.url=a,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=l.toUpperCase(),function Fp(h){switch(h){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||C?(this.body=void 0!==v?v:null,N=C):N=v,N&&(this.reportProgress=!!N.reportProgress,this.withCredentials=!!N.withCredentials,N.responseType&&(this.responseType=N.responseType),N.headers&&(this.headers=N.headers),N.context&&(this.context=N.context),N.params&&(this.params=N.params)),this.headers||(this.headers=new Ws),this.context||(this.context=new Rp),this.params){const K=this.params.toString();if(0===K.length)this.urlWithParams=a;else{const ne=a.indexOf("?");this.urlWithParams=a+(-1===ne?"?":ne<a.length-1?"&":"")+K}}else this.params=new fc,this.urlWithParams=a}serializeBody(){return null===this.body?null:ip(this.body)||dd(this.body)||pd(this.body)||function La(h){return"undefined"!=typeof URLSearchParams&&h instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||pd(this.body)?null:dd(this.body)?this.body.type||null:ip(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(l={}){var a;const v=l.method||this.method,C=l.url||this.url,N=l.responseType||this.responseType,K=void 0!==l.body?l.body:this.body,ne=void 0!==l.withCredentials?l.withCredentials:this.withCredentials,be=void 0!==l.reportProgress?l.reportProgress:this.reportProgress;let it=l.headers||this.headers,Ot=l.params||this.params;const mt=null!==(a=l.context)&&void 0!==a?a:this.context;return void 0!==l.setHeaders&&(it=Object.keys(l.setHeaders).reduce((qt,Ct)=>qt.set(Ct,l.setHeaders[Ct]),it)),l.setParams&&(Ot=Object.keys(l.setParams).reduce((qt,Ct)=>qt.set(Ct,l.setParams[Ct]),Ot)),new Vc(v,C,K,{params:Ot,headers:it,context:mt,reportProgress:be,responseType:N,withCredentials:ne})}}var gi=(()=>((gi=gi||{})[gi.Sent=0]="Sent",gi[gi.UploadProgress=1]="UploadProgress",gi[gi.ResponseHeader=2]="ResponseHeader",gi[gi.DownloadProgress=3]="DownloadProgress",gi[gi.Response=4]="Response",gi[gi.User=5]="User",gi))();class Nl{constructor(l,a=200,v="OK"){this.headers=l.headers||new Ws,this.status=void 0!==l.status?l.status:a,this.statusText=l.statusText||v,this.url=l.url||null,this.ok=this.status>=200&&this.status<300}}class _f extends Nl{constructor(l={}){super(l),this.type=gi.ResponseHeader}clone(l={}){return new _f({headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class jc extends Nl{constructor(l={}){super(l),this.type=gi.Response,this.body=void 0!==l.body?l.body:null}clone(l={}){return new jc({body:void 0!==l.body?l.body:this.body,headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class Zf extends Nl{constructor(l){super(l,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${l.url||"(unknown url)"}`:`Http failure response for ${l.url||"(unknown url)"}: ${l.status} ${l.statusText}`,this.error=l.error||null}}function xl(h,l){return{body:l,headers:h.headers,context:h.context,observe:h.observe,params:h.params,reportProgress:h.reportProgress,responseType:h.responseType,withCredentials:h.withCredentials}}let Va=(()=>{class h{constructor(a){this.handler=a}request(a,v,C={}){let N;if(a instanceof Vc)N=a;else{let be,it;be=C.headers instanceof Ws?C.headers:new Ws(C.headers),C.params&&(it=C.params instanceof fc?C.params:new fc({fromObject:C.params})),N=new Vc(a,v,void 0!==C.body?C.body:null,{headers:be,context:C.context,params:it,reportProgress:C.reportProgress,responseType:C.responseType||"json",withCredentials:C.withCredentials})}const K=(0,It.of)(N).pipe(oi(be=>this.handler.handle(be)));if(a instanceof Vc||"events"===C.observe)return K;const ne=K.pipe((0,_r.h)(be=>be instanceof jc));switch(C.observe||"body"){case"body":switch(N.responseType){case"arraybuffer":return ne.pipe((0,Ft.U)(be=>{if(null!==be.body&&!(be.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return be.body}));case"blob":return ne.pipe((0,Ft.U)(be=>{if(null!==be.body&&!(be.body instanceof Blob))throw new Error("Response is not a Blob.");return be.body}));case"text":return ne.pipe((0,Ft.U)(be=>{if(null!==be.body&&"string"!=typeof be.body)throw new Error("Response is not a string.");return be.body}));default:return ne.pipe((0,Ft.U)(be=>be.body))}case"response":return ne;default:throw new Error(`Unreachable: unhandled observe type ${C.observe}}`)}}delete(a,v={}){return this.request("DELETE",a,v)}get(a,v={}){return this.request("GET",a,v)}head(a,v={}){return this.request("HEAD",a,v)}jsonp(a,v){return this.request("JSONP",a,{params:(new fc).append(v,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(a,v={}){return this.request("OPTIONS",a,v)}patch(a,v,C={}){return this.request("PATCH",a,xl(C,v))}post(a,v,C={}){return this.request("POST",a,xl(C,v))}put(a,v,C={}){return this.request("PUT",a,xl(C,v))}}return h.\u0275fac=function(a){return new(a||h)(d.LFG(cd))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac}),h})();class Jf{constructor(l,a){this.next=l,this.interceptor=a}handle(l){return this.interceptor.intercept(l,this.next)}}const Sh=new d.OlP("HTTP_INTERCEPTORS");let wf=(()=>{class h{intercept(a,v){return v.handle(a)}}return h.\u0275fac=function(a){return new(a||h)},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac}),h})();const Fl=/^\)\]\}',?\n/;let bf=(()=>{class h{constructor(a){this.xhrFactory=a}handle(a){if("JSONP"===a.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ni.y(v=>{const C=this.xhrFactory.build();if(C.open(a.method,a.urlWithParams),a.withCredentials&&(C.withCredentials=!0),a.headers.forEach((Ct,In)=>C.setRequestHeader(Ct,In.join(","))),a.headers.has("Accept")||C.setRequestHeader("Accept","application/json, text/plain, */*"),!a.headers.has("Content-Type")){const Ct=a.detectContentTypeHeader();null!==Ct&&C.setRequestHeader("Content-Type",Ct)}if(a.responseType){const Ct=a.responseType.toLowerCase();C.responseType="json"!==Ct?Ct:"text"}const N=a.serializeBody();let K=null;const ne=()=>{if(null!==K)return K;const Ct=C.statusText||"OK",In=new Ws(C.getAllResponseHeaders()),Qi=function Bc(h){return"responseURL"in h&&h.responseURL?h.responseURL:/^X-Request-URL:/m.test(h.getAllResponseHeaders())?h.getResponseHeader("X-Request-URL"):null}(C)||a.url;return K=new _f({headers:In,status:C.status,statusText:Ct,url:Qi}),K},be=()=>{let{headers:Ct,status:In,statusText:Qi,url:du}=ne(),Ci=null;204!==In&&(Ci=void 0===C.response?C.responseText:C.response),0===In&&(In=Ci?200:0);let va=In>=200&&In<300;if("json"===a.responseType&&"string"==typeof Ci){const kl=Ci;Ci=Ci.replace(Fl,"");try{Ci=""!==Ci?JSON.parse(Ci):null}catch(Gc){Ci=kl,va&&(va=!1,Ci={error:Gc,text:Ci})}}va?(v.next(new jc({body:Ci,headers:Ct,status:In,statusText:Qi,url:du||void 0})),v.complete()):v.error(new Zf({error:Ci,headers:Ct,status:In,statusText:Qi,url:du||void 0}))},it=Ct=>{const{url:In}=ne(),Qi=new Zf({error:Ct,status:C.status||0,statusText:C.statusText||"Unknown Error",url:In||void 0});v.error(Qi)};let Ot=!1;const mt=Ct=>{Ot||(v.next(ne()),Ot=!0);let In={type:gi.DownloadProgress,loaded:Ct.loaded};Ct.lengthComputable&&(In.total=Ct.total),"text"===a.responseType&&!!C.responseText&&(In.partialText=C.responseText),v.next(In)},qt=Ct=>{let In={type:gi.UploadProgress,loaded:Ct.loaded};Ct.lengthComputable&&(In.total=Ct.total),v.next(In)};return C.addEventListener("load",be),C.addEventListener("error",it),C.addEventListener("timeout",it),C.addEventListener("abort",it),a.reportProgress&&(C.addEventListener("progress",mt),null!==N&&C.upload&&C.upload.addEventListener("progress",qt)),C.send(N),v.next({type:gi.Sent}),()=>{C.removeEventListener("error",it),C.removeEventListener("abort",it),C.removeEventListener("load",be),C.removeEventListener("timeout",it),a.reportProgress&&(C.removeEventListener("progress",mt),null!==N&&C.upload&&C.upload.removeEventListener("progress",qt)),C.readyState!==C.DONE&&C.abort()}})}}return h.\u0275fac=function(a){return new(a||h)(d.LFG(k.JF))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac}),h})();const Ef=new d.OlP("XSRF_COOKIE_NAME"),Hc=new d.OlP("XSRF_HEADER_NAME");class Qf{}let Oh=(()=>{class h{constructor(a,v,C){this.doc=a,this.platform=v,this.cookieName=C,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const a=this.doc.cookie||"";return a!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,k.Mx)(a,this.cookieName),this.lastCookieString=a),this.lastToken}}return h.\u0275fac=function(a){return new(a||h)(d.LFG(k.K0),d.LFG(d.Lbi),d.LFG(Ef))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac}),h})(),Df=(()=>{class h{constructor(a,v){this.tokenService=a,this.headerName=v}intercept(a,v){const C=a.url.toLowerCase();if("GET"===a.method||"HEAD"===a.method||C.startsWith("http://")||C.startsWith("https://"))return v.handle(a);const N=this.tokenService.getToken();return null!==N&&!a.headers.has(this.headerName)&&(a=a.clone({headers:a.headers.set(this.headerName,N)})),v.handle(a)}}return h.\u0275fac=function(a){return new(a||h)(d.LFG(Qf),d.LFG(Hc))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac}),h})(),ja=(()=>{class h{constructor(a,v){this.backend=a,this.injector=v,this.chain=null}handle(a){if(null===this.chain){const v=this.injector.get(Sh,[]);this.chain=v.reduceRight((C,N)=>new Jf(C,N),this.backend)}return this.chain.handle(a)}}return h.\u0275fac=function(a){return new(a||h)(d.LFG(ld),d.LFG(d.zs3))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac}),h})(),Vp=(()=>{class h{static disable(){return{ngModule:h,providers:[{provide:Df,useClass:wf}]}}static withOptions(a={}){return{ngModule:h,providers:[a.cookieName?{provide:Ef,useValue:a.cookieName}:[],a.headerName?{provide:Hc,useValue:a.headerName}:[]]}}}return h.\u0275fac=function(a){return new(a||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({providers:[Df,{provide:Sh,useExisting:Df,multi:!0},{provide:Qf,useClass:Oh},{provide:Ef,useValue:"XSRF-TOKEN"},{provide:Hc,useValue:"X-XSRF-TOKEN"}]}),h})(),Nh=(()=>{class h{}return h.\u0275fac=function(a){return new(a||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({providers:[Va,{provide:cd,useClass:ja},bf,{provide:ld,useExisting:bf}],imports:[[Vp.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),h})(),vd=(()=>{class h{constructor(a){this.router=a,this.title="lms"}ngOninit(){"ScWsFNvm30lvIn59zdqd"!=sessionStorage.customerID&&this.router.navigateByUrl("login")}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(Jn))},h.\u0275cmp=d.Xpm({type:h,selectors:[["app-admin"]],decls:1,vars:0,template:function(a,v){1&a&&d._UZ(0,"router-outlet")},directives:[bs],encapsulation:2}),h})(),Xf=(()=>{class h{constructor(a){this.http=a}startWash(a,v){return this.http.post("https://laundrymanagementsystem51001.herokuapp.com/washProcess/"+a+"/"+v,a)}startIron(a,v){return this.http.post("https://laundrymanagementsystem51001.herokuapp.com/ironProcess/"+a+"/"+v,a)}}return h.\u0275fac=function(a){return new(a||h)(d.LFG(Va))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac}),h})();function yd(h,l){if(1&h){const a=d.EpF();d.TgZ(0,"a",6),d.NdJ("click",function(){return d.CHM(a),d.oxw().logout()}),d._uU(1,"Log out"),d.qZA()}}const cs=function(){return["../../admin"]},Ph=function(){return["../admin/dashboard"]};let Rh=(()=>{class h{constructor(a){this.auth=a,this.title="lms",this.user=sessionStorage.customerID}logout(){this.auth.logout()}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(pi))},h.\u0275cmp=d.Xpm({type:h,selectors:[["app-adminHeader"]],inputs:{view:"view"},decls:11,vars:9,consts:[[1,"headerContainer","cover-container","d-flex","w-100","h-100","p-3","mx-auto","flex-column"],[1,"mb-auto"],[1,"float-md-start","mb-0"],[1,"nav","nav-masthead","justify-content-center","float-md-end"],[1,"nav-link",3,"routerLink"],["class","nav-link",3,"click",4,"ngIf"],[1,"nav-link",3,"click"]],template:function(a,v){1&a&&(d.TgZ(0,"div",0)(1,"header",1)(2,"div")(3,"h3",2),d._uU(4,"Noble Laundry"),d.qZA(),d.TgZ(5,"nav",3)(6,"a",4),d._uU(7,"Home"),d.qZA(),d.TgZ(8,"a",4),d._uU(9,"Dashboard"),d.qZA(),d.YNc(10,yd,2,0,"a",5),d.qZA()()()()),2&a&&(d.xp6(6),d.ekj("active","home"==v.view),d.Q6J("routerLink",d.DdM(7,cs)),d.xp6(2),d.ekj("active","dashboard"==v.view),d.Q6J("routerLink",d.DdM(8,Ph)),d.xp6(2),d.Q6J("ngIf",v.user))},directives:[xo,k.O5],encapsulation:2}),h})(),up=(()=>{class h{constructor(a){this.sanitized=a}transform(a){return this.sanitized.bypassSecurityTrustHtml(a)}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(ur,16))},h.\u0275pipe=d.Yjl({name:"safeHtml",type:h,pure:!0}),h})(),jp=(()=>{class h{constructor(a){this.sanitized=a}transform(a){return"Order received"==a?'<span style="color:purple">Order received</span>':"Preparing to wash"==a?'<span style="color:orange">Preparing to wash</span>':"Preparing to iron"==a?'<span style="color:orange">Preparing to iron</span>':"Washing"==a?'<span style="color:yellow">Washing</span>':"Drying"==a?'<span style="color:lightblue">Drying</span>':"Ironing"==a?'<span style="color:darkblue">Ironing</span>':"Ready to pick up"==a?'<span style="color:green">Ready to pick up</span>':void 0}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(ur,16))},h.\u0275pipe=d.Yjl({name:"status",type:h,pure:!0}),h})();function _d(h,l){if(1&h){const a=d.EpF();d.TgZ(0,"a",15,16),d.NdJ("click",function(){const N=d.CHM(a).$implicit;return d.oxw().setOrder(N)}),d.TgZ(2,"div",17),d._UZ(3,"strong",18),d.ALo(4,"safeHtml"),d.ALo(5,"status"),d.TgZ(6,"small",19),d._uU(7),d.ALo(8,"date"),d.qZA()(),d.TgZ(9,"div",20),d._uU(10),d.qZA()()}if(2&h){const a=l.$implicit;d.xp6(3),d.Q6J("innerHtml",d.lcZ(4,3,d.lcZ(5,5,a.status)),d.oJD),d.xp6(4),d.Oqu(d.xi3(8,7,a.timeStamp,"dd/MM/yyyy")),d.xp6(3),d.hij("Order Id:",a.orderID,"")}}function wd(h,l){1&h&&(d.TgZ(0,"div",21)(1,"h3"),d._uU(2,"Click on an order to view its status"),d.qZA()())}function bd(h,l){if(1&h&&(d.TgZ(0,"div",12)(1,"h5"),d._uU(2),d.qZA()()),2&h){const a=d.oxw();d.xp6(2),d.hij("Order ID: ",a.orderID,"")}}function hc(h,l){if(1&h&&(d.TgZ(0,"div",27)(1,"h5"),d._uU(2),d.qZA()()),2&h){const a=d.oxw(2);d.xp6(2),d.hij("Total number of items: ",a.totalItems,"")}}function eh(h,l){if(1&h){const a=d.EpF();d.TgZ(0,"button",28),d.NdJ("click",function(){return d.CHM(a),d.oxw(2).sendToWash()}),d._uU(1,"Send to washing"),d.qZA()}if(2&h){const a=d.oxw(2);d.Q6J("disabled","Order received"!=a.status)}}function cp(h,l){if(1&h){const a=d.EpF();d.TgZ(0,"button",28),d.NdJ("click",function(){return d.CHM(a),d.oxw(2).sendToIron()}),d._uU(1,"Send to ironing"),d.qZA()}if(2&h){const a=d.oxw(2);d.Q6J("disabled","Order received"!=a.status&&"Drying"!=a.status)}}function th(h,l){if(1&h&&(d.TgZ(0,"tr")(1,"th",32),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA()()),2&h){const a=l.$implicit;d.xp6(2),d.Oqu(a.clothID),d.xp6(2),d.Oqu(a.clothType),d.xp6(2),d.Oqu(a.clothColor)}}function Fh(h,l){if(1&h&&(d.TgZ(0,"table",29)(1,"thead")(2,"tr")(3,"th",30),d._uU(4,"ClothID"),d.qZA(),d.TgZ(5,"th",30),d._uU(6,"Cloth Type"),d.qZA(),d.TgZ(7,"th",30),d._uU(8,"Color"),d.qZA()()(),d.TgZ(9,"tbody"),d.YNc(10,th,7,3,"tr",31),d.qZA()()),2&h){const a=d.oxw(2);d.xp6(10),d.Q6J("ngForOf",a.clothList)}}function Ed(h,l){if(1&h&&(d.TgZ(0,"div",22)(1,"h5"),d._uU(2,"Status"),d.qZA(),d._UZ(3,"div",23),d.ALo(4,"safeHtml"),d.YNc(5,hc,3,1,"div",24),d.YNc(6,eh,2,1,"button",25),d.YNc(7,cp,2,1,"button",25),d.YNc(8,Fh,11,1,"table",26),d.qZA()),2&h){const a=d.oxw();d.xp6(3),d.Q6J("innerHTML",d.lcZ(4,5,a.progressHtml),d.oJD),d.xp6(2),d.Q6J("ngIf",a.totalItems),d.xp6(1),d.Q6J("ngIf","Washing"==a.service),d.xp6(1),d.Q6J("ngIf","Ironing"==a.service),d.xp6(1),d.Q6J("ngIf",a.clothList)}}let kh=(()=>{class h{constructor(a,v){this.afs=a,this.fs=v,this.title="lms",this.progressHtml="",this.service="",this.orderID=""}ngOnInit(){this.ordersCollection=this.afs.collection("Orders",a=>a.orderBy("timeStamp")),this.orders=this.ordersCollection.valueChanges(),this.orderCountCollection=this.afs.collection("orderCount"),this.orderCount=this.orderCountCollection.valueChanges(),this.orderCount.subscribe(a=>{this.totalWashingOrders=a[0].Washing,this.totalIroningOrders=a[0].Ironing})}setOrder(a){"Order received"==a.status?this.progressHtml='<div class="progress-bar bg-info" role="progressbar" style="width: 5%" aria-valuenow="5" aria-valuemin="0" aria-valuemax="100"></div>   <span style="margin-left:10px">Order received</span>     ':"Preparing to wash"==a.status?this.progressHtml='<div class="progress-bar bg-warning" role="progressbar" style="width: 20%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">Preparing to wash</div>        ':"Preparing to iron"==a.status?this.progressHtml='<div class="progress-bar bg-warning" role="progressbar" style="width: 20%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">Preparing to iron</div>        ':"Washing"==a.status?this.progressHtml='  <div class="progress-bar" role="progressbar" style="width: 40%" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100">Washing</div>        ':"Drying"==a.status?this.progressHtml='  <div class="progress-bar" role="progressbar" style="width: 60%" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100">Drying</div>        ':"Ironing"==a.status?this.progressHtml='  <div class="progress-bar" role="progressbar" style="width: 80%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100">Ironing</div>        ':"Ready to pick up"==a.status&&(this.progressHtml='  <div class="progress-bar bg-success" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">Ready to pick up</div>        '),this.service=a.service,this.orderID=a.orderID,this.clothList=a.clothes,this.totalItems=a.totalItems,this.status=a.status,console.log(a)}sendToWash(){this.totalWashingOrders+this.totalItems<100?(alert("Pushed for washing"),this.fs.startWash(this.orderID,this.totalItems).subscribe(a=>{console.log(a)})):alert("Cloth limit of 100 reached. Try again tomorrow.")}sendToIron(){this.totalIroningOrders+this.totalItems<100?(alert("Pushed for ironing"),this.fs.startIron(this.orderID,this.totalItems).subscribe(a=>{console.log(a)})):alert("Cloth limit of 100 reached. Try again tomorrow.")}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(Sl.AngularFirestore),d.Y36(Xf))},h.\u0275cmp=d.Xpm({type:h,selectors:[["app-status"]],decls:19,vars:7,consts:[["view","dashboard"],[1,"row"],[1,"col-sm-4","sideNavContainer"],[1,"d-flex","flex-column","align-items-stretch","flex-shrink-0","bg-white",2,"width","380px","height","100%"],["href","/",1,"d-flex","align-items-center","flex-shrink-0","p-3","link-dark","text-decoration-none","border-bottom"],["width","30","height","24",1,"bi","me-2"],[0,"xlink","href","#bootstrap"],[1,"fs-5","fw-semibold"],[1,"list-group","list-group-flush","border-bottom","scrollarea"],["class","list-group-item list-group-item-action py-3 lh-tight",3,"click",4,"ngFor","ngForOf"],[1,"col-sm-8"],["class","nothingToShow",4,"ngIf"],[1,"metadata"],["class","metadata",4,"ngIf"],["class","progressBox",4,"ngIf"],[1,"list-group-item","list-group-item-action","py-3","lh-tight",3,"click"],["orderLink",""],[1,"d-flex","w-100","align-items-center","justify-content-between"],[1,"mb-1",3,"innerHtml"],[1,"text-muted"],[1,"col-10","mb-1","small"],[1,"nothingToShow"],[1,"progressBox"],[1,"progress",3,"innerHTML"],["class","metadata","style","margin-left:0",4,"ngIf"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],["class","table table-striped",4,"ngIf"],[1,"metadata",2,"margin-left","0"],[1,"btn","btn-primary",3,"disabled","click"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(a,v){1&a&&(d._UZ(0,"app-adminHeader",0),d.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),d.O4$(),d.TgZ(5,"svg",5),d._UZ(6,"use",6),d.qZA(),d.kcU(),d.TgZ(7,"span",7),d._uU(8,"Orders"),d.qZA()(),d.TgZ(9,"div",8),d.YNc(10,_d,11,10,"a",9),d.ALo(11,"async"),d.qZA()()(),d.TgZ(12,"div",10),d.YNc(13,wd,3,0,"div",11),d.TgZ(14,"div",12)(15,"h3"),d._uU(16),d.qZA()(),d.YNc(17,bd,3,1,"div",13),d.YNc(18,Ed,9,7,"div",14),d.qZA()()),2&a&&(d.xp6(10),d.Q6J("ngForOf",d.lcZ(11,5,v.orders)),d.xp6(3),d.Q6J("ngIf",!v.orderID),d.xp6(3),d.Oqu(v.service),d.xp6(1),d.Q6J("ngIf",v.orderID),d.xp6(1),d.Q6J("ngIf",v.progressHtml))},directives:[Rh,k.sg,k.O5],pipes:[k.Ov,up,jp,k.uU],styles:["a[_ngcontent-%COMP%]{cursor:pointer}.metadata[_ngcontent-%COMP%]{margin:30px 0 0 30px}.table[_ngcontent-%COMP%]{margin:40px 0}.nothingToShow[_ngcontent-%COMP%]{width:100%;height:100%;display:grid}.nothingToShow[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:auto}"]}),h})(),nh=(()=>{class h{constructor(a){this.router=a,this.title="lms",this.user=sessionStorage.username}ngOnInit(){"Admin"!=this.user&&this.router.navigateByUrl("")}}return h.\u0275fac=function(a){return new(a||h)(d.Y36(Jn))},h.\u0275cmp=d.Xpm({type:h,selectors:[["app-adminHome"]],decls:6,vars:0,consts:[["view","home"],[1,"col-sm-12",2,"text-align","center","background-color","rgba(0,0,0,0.5)","z-index","10","position","absolute"],["src","assets/img3.jpg",2,"height","87vh","z-index","-10"],["id","overlay"],["id","text"]],template:function(a,v){1&a&&(d._UZ(0,"app-adminHeader",0),d.TgZ(1,"div",1),d._UZ(2,"img",2),d.TgZ(3,"div",3)(4,"div",4),d._uU(5,"Laundry with perfection and punctuality"),d.qZA()()())},directives:[Rh],encapsulation:2}),h})(),Lh=(()=>{class h{}return h.\u0275fac=function(a){return new(a||h)},h.\u0275mod=d.oAB({type:h,bootstrap:[vd]}),h.\u0275inj=d.cJS({providers:[Xf],imports:[[Wt,ra.forRoot([{path:"admin",component:nh},{path:"admin/dashboard",component:kh}]),Al,Bf,Nh]]}),h})();J(2451);let Dd=(()=>{let h=class{};return h.\u0275fac=function(a){return new(a||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({providers:[Tl]}),h})();const rh={apiKey:"AIzaSyAiCTJ8WY7wLzrUHFVmgdKyhBtjJFLNDQY",authDomain:"laundry-management-syste-a98b6.firebaseapp.com",projectId:"laundry-management-syste-a98b6",storageBucket:"laundry-management-syste-a98b6.appspot.com",messagingSenderId:"808948443790",appId:"1:808948443790:web:f6d0f3ea23d58f2636f7df",measurementId:"G-566E0NVKPF"};let Ua=(()=>{class h{}return h.\u0275fac=function(a){return new(a||h)},h.\u0275mod=d.oAB({type:h,bootstrap:[Po]}),h.\u0275inj=d.cJS({providers:[pi],imports:[[Wt,ra,Yf,Lh,tp.AngularFireModule.initializeApp(rh),Sl.AngularFirestoreModule,Dd]]}),h})();(0,d.G48)(),An().bootstrapModule(Ua).catch(h=>console.error(h))},8416:(wt,we,J)=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0}),function k(d){for(var Se in d)we.hasOwnProperty(Se)||(we[Se]=d[Se])}(J(6448))},3475:(wt,we,J)=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0}),function k(d){for(var Se in d)we.hasOwnProperty(Se)||(we[Se]=d[Se])}(J(218))},3029:(wt,we,J)=>{"use strict";function d(je){return je&&"object"==typeof je&&"default"in je?je:{default:je}}var Se=d(J(9278));Se.default.registerVersion("firebase","7.24.0","app"),wt.exports=Se.default},8306:(wt,we,J)=>{"use strict";J.d(we,{y:()=>V});var k=J(2961),d=J(727),Se=J(8822),Ae=J(4671);var ye=J(2416),xe=J(576),ge=J(2806);let V=(()=>{class se{constructor(ze){ze&&(this._subscribe=ze)}lift(ze){const Me=new se;return Me.source=this,Me.operator=ze,Me}subscribe(ze,Me,Re){const Ue=function De(se){return se&&se instanceof k.Lv||function me(se){return se&&(0,xe.m)(se.next)&&(0,xe.m)(se.error)&&(0,xe.m)(se.complete)}(se)&&(0,d.Nn)(se)}(ze)?ze:new k.Hp(ze,Me,Re);return(0,ge.x)(()=>{const{operator:ke,source:Oe}=this;Ue.add(ke?ke.call(Ue,Oe):Oe?this._subscribe(Ue):this._trySubscribe(Ue))}),Ue}_trySubscribe(ze){try{return this._subscribe(ze)}catch(Me){ze.error(Me)}}forEach(ze,Me){return new(Me=Q(Me))((Re,Ue)=>{const ke=new k.Hp({next:Oe=>{try{ze(Oe)}catch($e){Ue($e),ke.unsubscribe()}},error:Ue,complete:Re});this.subscribe(ke)})}_subscribe(ze){var Me;return null===(Me=this.source)||void 0===Me?void 0:Me.subscribe(ze)}[Se.L](){return this}pipe(...ze){return function je(se){return 0===se.length?Ae.y:1===se.length?se[0]:function(ze){return se.reduce((Me,Re)=>Re(Me),ze)}}(ze)(this)}toPromise(ze){return new(ze=Q(ze))((Me,Re)=>{let Ue;this.subscribe(ke=>Ue=ke,ke=>Re(ke),()=>Me(Ue))})}}return se.create=Le=>new se(Le),se})();function Q(se){var Le;return null!==(Le=null!=se?se:ye.v.Promise)&&void 0!==Le?Le:Promise}},7579:(wt,we,J)=>{"use strict";J.d(we,{x:()=>ye});var k=J(8306),d=J(727);const Ae=(0,J(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=J(8737),je=J(2806);let ye=(()=>{class ge extends k.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Q){const me=new xe(this,this);return me.operator=Q,me}_throwIfClosed(){if(this.closed)throw new Ae}next(Q){(0,je.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(Q)}})}error(Q){(0,je.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Q;const{observers:me}=this;for(;me.length;)me.shift().error(Q)}})}complete(){(0,je.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Q}=this;for(;Q.length;)Q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Q;return(null===(Q=this.observers)||void 0===Q?void 0:Q.length)>0}_trySubscribe(Q){return this._throwIfClosed(),super._trySubscribe(Q)}_subscribe(Q){return this._throwIfClosed(),this._checkFinalizedStatuses(Q),this._innerSubscribe(Q)}_innerSubscribe(Q){const{hasError:me,isStopped:De,observers:se}=this;return me||De?d.Lc:(this.currentObservers=null,se.push(Q),new d.w0(()=>{this.currentObservers=null,(0,ae.P)(se,Q)}))}_checkFinalizedStatuses(Q){const{hasError:me,thrownError:De,isStopped:se}=this;me?Q.error(De):se&&Q.complete()}asObservable(){const Q=new k.y;return Q.source=this,Q}}return ge.create=(V,Q)=>new xe(V,Q),ge})();class xe extends ye{constructor(V,Q){super(),this.destination=V,this.source=Q}next(V){var Q,me;null===(me=null===(Q=this.destination)||void 0===Q?void 0:Q.next)||void 0===me||me.call(Q,V)}error(V){var Q,me;null===(me=null===(Q=this.destination)||void 0===Q?void 0:Q.error)||void 0===me||me.call(Q,V)}complete(){var V,Q;null===(Q=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===Q||Q.call(V)}_subscribe(V){var Q,me;return null!==(me=null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(V))&&void 0!==me?me:d.Lc}}},2961:(wt,we,J)=>{"use strict";J.d(we,{Hp:()=>ze,Lv:()=>me});var k=J(576),d=J(727),Se=J(2416),Ae=J(7849);function ae(){}const je=ge("C",void 0,void 0);function ge(Oe,$e,Ne){return{kind:Oe,value:$e,error:Ne}}var V=J(3410),Q=J(2806);class me extends d.w0{constructor($e){super(),this.isStopped=!1,$e?(this.destination=$e,(0,d.Nn)($e)&&$e.add(this)):this.destination=ke}static create($e,Ne,Ye){return new ze($e,Ne,Ye)}next($e){this.isStopped?Ue(function xe(Oe){return ge("N",Oe,void 0)}($e),this):this._next($e)}error($e){this.isStopped?Ue(function ye(Oe){return ge("E",void 0,Oe)}($e),this):(this.isStopped=!0,this._error($e))}complete(){this.isStopped?Ue(je,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next($e){this.destination.next($e)}_error($e){try{this.destination.error($e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const De=Function.prototype.bind;function se(Oe,$e){return De.call(Oe,$e)}class Le{constructor($e){this.partialObserver=$e}next($e){const{partialObserver:Ne}=this;if(Ne.next)try{Ne.next($e)}catch(Ye){Me(Ye)}}error($e){const{partialObserver:Ne}=this;if(Ne.error)try{Ne.error($e)}catch(Ye){Me(Ye)}else Me($e)}complete(){const{partialObserver:$e}=this;if($e.complete)try{$e.complete()}catch(Ne){Me(Ne)}}}class ze extends me{constructor($e,Ne,Ye){let B;if(super(),(0,k.m)($e)||!$e)B={next:null!=$e?$e:void 0,error:null!=Ne?Ne:void 0,complete:null!=Ye?Ye:void 0};else{let U;this&&Se.v.useDeprecatedNextContext?(U=Object.create($e),U.unsubscribe=()=>this.unsubscribe(),B={next:$e.next&&se($e.next,U),error:$e.error&&se($e.error,U),complete:$e.complete&&se($e.complete,U)}):B=$e}this.destination=new Le(B)}}function Me(Oe){Se.v.useDeprecatedSynchronousErrorHandling?(0,Q.O)(Oe):(0,Ae.h)(Oe)}function Ue(Oe,$e){const{onStoppedNotification:Ne}=Se.v;Ne&&V.z.setTimeout(()=>Ne(Oe,$e))}const ke={closed:!0,next:ae,error:function Re(Oe){throw Oe},complete:ae}},727:(wt,we,J)=>{"use strict";J.d(we,{Lc:()=>je,w0:()=>ae,Nn:()=>ye});var k=J(576);const Se=(0,J(3888).d)(ge=>function(Q){ge(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((me,De)=>`${De+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q});var Ae=J(8737);class ae{constructor(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let V;if(!this.closed){this.closed=!0;const{_parentage:Q}=this;if(Q)if(this._parentage=null,Array.isArray(Q))for(const se of Q)se.remove(this);else Q.remove(this);const{initialTeardown:me}=this;if((0,k.m)(me))try{me()}catch(se){V=se instanceof Se?se.errors:[se]}const{_finalizers:De}=this;if(De){this._finalizers=null;for(const se of De)try{xe(se)}catch(Le){V=null!=V?V:[],Le instanceof Se?V=[...V,...Le.errors]:V.push(Le)}}if(V)throw new Se(V)}}add(V){var Q;if(V&&V!==this)if(this.closed)xe(V);else{if(V instanceof ae){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._finalizers=null!==(Q=this._finalizers)&&void 0!==Q?Q:[]).push(V)}}_hasParent(V){const{_parentage:Q}=this;return Q===V||Array.isArray(Q)&&Q.includes(V)}_addParent(V){const{_parentage:Q}=this;this._parentage=Array.isArray(Q)?(Q.push(V),Q):Q?[Q,V]:V}_removeParent(V){const{_parentage:Q}=this;Q===V?this._parentage=null:Array.isArray(Q)&&(0,Ae.P)(Q,V)}remove(V){const{_finalizers:Q}=this;Q&&(0,Ae.P)(Q,V),V instanceof ae&&V._removeParent(this)}}ae.EMPTY=(()=>{const ge=new ae;return ge.closed=!0,ge})();const je=ae.EMPTY;function ye(ge){return ge instanceof ae||ge&&"closed"in ge&&(0,k.m)(ge.remove)&&(0,k.m)(ge.add)&&(0,k.m)(ge.unsubscribe)}function xe(ge){(0,k.m)(ge)?ge():ge.unsubscribe()}},2416:(wt,we,J)=>{"use strict";J.d(we,{v:()=>k});const k={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(wt,we,J)=>{"use strict";J.d(we,{E:()=>d});const d=new(J(8306).y)(ae=>ae.complete())},8996:(wt,we,J)=>{"use strict";J.d(we,{D:()=>$e});var k=J(8421),d=J(5363),Se=J(9468),je=J(8306),xe=J(2202),ge=J(576),V=J(9672);function me(Ne,Ye){if(!Ne)throw new Error("Iterable cannot be null");return new je.y(B=>{(0,V.f)(B,Ye,()=>{const U=Ne[Symbol.asyncIterator]();(0,V.f)(B,Ye,()=>{U.next().then(A=>{A.done?B.complete():B.next(A.value)})},0,!0)})})}var De=J(3670),se=J(8239),Le=J(1144),ze=J(6495),Me=J(2206),Re=J(4532),Ue=J(3260);function $e(Ne,Ye){return Ye?function Oe(Ne,Ye){if(null!=Ne){if((0,De.c)(Ne))return function Ae(Ne,Ye){return(0,k.Xf)(Ne).pipe((0,Se.R)(Ye),(0,d.Q)(Ye))}(Ne,Ye);if((0,Le.z)(Ne))return function ye(Ne,Ye){return new je.y(B=>{let U=0;return Ye.schedule(function(){U===Ne.length?B.complete():(B.next(Ne[U++]),B.closed||this.schedule())})})}(Ne,Ye);if((0,se.t)(Ne))return function ae(Ne,Ye){return(0,k.Xf)(Ne).pipe((0,Se.R)(Ye),(0,d.Q)(Ye))}(Ne,Ye);if((0,Me.D)(Ne))return me(Ne,Ye);if((0,ze.T)(Ne))return function Q(Ne,Ye){return new je.y(B=>{let U;return(0,V.f)(B,Ye,()=>{U=Ne[xe.h](),(0,V.f)(B,Ye,()=>{let A,F;try{({value:A,done:F}=U.next())}catch($){return void B.error($)}F?B.complete():B.next(A)},0,!0)}),()=>(0,ge.m)(null==U?void 0:U.return)&&U.return()})}(Ne,Ye);if((0,Ue.L)(Ne))return function ke(Ne,Ye){return me((0,Ue.Q)(Ne),Ye)}(Ne,Ye)}throw(0,Re.z)(Ne)}(Ne,Ye):(0,k.Xf)(Ne)}},8421:(wt,we,J)=>{"use strict";J.d(we,{Xf:()=>De});var k=J(655),d=J(1144),Se=J(8239),Ae=J(8306),ae=J(3670),je=J(2206),ye=J(4532),xe=J(6495),ge=J(3260),V=J(576),Q=J(7849),me=J(8822);function De(Oe){if(Oe instanceof Ae.y)return Oe;if(null!=Oe){if((0,ae.c)(Oe))return function se(Oe){return new Ae.y($e=>{const Ne=Oe[me.L]();if((0,V.m)(Ne.subscribe))return Ne.subscribe($e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,d.z)(Oe))return function Le(Oe){return new Ae.y($e=>{for(let Ne=0;Ne<Oe.length&&!$e.closed;Ne++)$e.next(Oe[Ne]);$e.complete()})}(Oe);if((0,Se.t)(Oe))return function ze(Oe){return new Ae.y($e=>{Oe.then(Ne=>{$e.closed||($e.next(Ne),$e.complete())},Ne=>$e.error(Ne)).then(null,Q.h)})}(Oe);if((0,je.D)(Oe))return Re(Oe);if((0,xe.T)(Oe))return function Me(Oe){return new Ae.y($e=>{for(const Ne of Oe)if($e.next(Ne),$e.closed)return;$e.complete()})}(Oe);if((0,ge.L)(Oe))return function Ue(Oe){return Re((0,ge.Q)(Oe))}(Oe)}throw(0,ye.z)(Oe)}function Re(Oe){return new Ae.y($e=>{(function ke(Oe,$e){var Ne,Ye,B,U;return(0,k.mG)(this,void 0,void 0,function*(){try{for(Ne=(0,k.KL)(Oe);!(Ye=yield Ne.next()).done;)if($e.next(Ye.value),$e.closed)return}catch(A){B={error:A}}finally{try{Ye&&!Ye.done&&(U=Ne.return)&&(yield U.call(Ne))}finally{if(B)throw B.error}}$e.complete()})})(Oe,$e).catch(Ne=>$e.error(Ne))})}},9646:(wt,we,J)=>{"use strict";J.d(we,{of:()=>Se});var k=J(7669),d=J(8996);function Se(...Ae){const ae=(0,k.yG)(Ae);return(0,d.D)(Ae,ae)}},5403:(wt,we,J)=>{"use strict";J.d(we,{x:()=>d});var k=J(2961);function d(Ae,ae,je,ye,xe){return new Se(Ae,ae,je,ye,xe)}class Se extends k.Lv{constructor(ae,je,ye,xe,ge,V){super(ae),this.onFinalize=ge,this.shouldUnsubscribe=V,this._next=je?function(Q){try{je(Q)}catch(me){ae.error(me)}}:super._next,this._error=xe?function(Q){try{xe(Q)}catch(me){ae.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(Q){ae.error(Q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:je}=this;super.unsubscribe(),!je&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},9300:(wt,we,J)=>{"use strict";J.d(we,{h:()=>Se});var k=J(4482),d=J(5403);function Se(Ae,ae){return(0,k.e)((je,ye)=>{let xe=0;je.subscribe((0,d.x)(ye,ge=>Ae.call(ae,ge,xe++)&&ye.next(ge)))})}},4004:(wt,we,J)=>{"use strict";J.d(we,{U:()=>Se});var k=J(4482),d=J(5403);function Se(Ae,ae){return(0,k.e)((je,ye)=>{let xe=0;je.subscribe((0,d.x)(ye,ge=>{ye.next(Ae.call(ae,ge,xe++))}))})}},8189:(wt,we,J)=>{"use strict";J.d(we,{J:()=>Se});var k=J(5577),d=J(4671);function Se(Ae=1/0){return(0,k.z)(d.y,Ae)}},5577:(wt,we,J)=>{"use strict";J.d(we,{z:()=>xe});var k=J(4004),d=J(8421),Se=J(4482),Ae=J(9672),ae=J(5403),ye=J(576);function xe(ge,V,Q=1/0){return(0,ye.m)(V)?xe((me,De)=>(0,k.U)((se,Le)=>V(me,se,De,Le))((0,d.Xf)(ge(me,De))),Q):("number"==typeof V&&(Q=V),(0,Se.e)((me,De)=>function je(ge,V,Q,me,De,se,Le,ze){const Me=[];let Re=0,Ue=0,ke=!1;const Oe=()=>{ke&&!Me.length&&!Re&&V.complete()},$e=Ye=>Re<me?Ne(Ye):Me.push(Ye),Ne=Ye=>{se&&V.next(Ye),Re++;let B=!1;(0,d.Xf)(Q(Ye,Ue++)).subscribe((0,ae.x)(V,U=>{null==De||De(U),se?$e(U):V.next(U)},()=>{B=!0},void 0,()=>{if(B)try{for(Re--;Me.length&&Re<me;){const U=Me.shift();Le?(0,Ae.f)(V,Le,()=>Ne(U)):Ne(U)}Oe()}catch(U){V.error(U)}}))};return ge.subscribe((0,ae.x)(V,$e,()=>{ke=!0,Oe()})),()=>{null==ze||ze()}}(me,De,ge,Q)))}},5363:(wt,we,J)=>{"use strict";J.d(we,{Q:()=>Ae});var k=J(9672),d=J(4482),Se=J(5403);function Ae(ae,je=0){return(0,d.e)((ye,xe)=>{ye.subscribe((0,Se.x)(xe,ge=>(0,k.f)(xe,ae,()=>xe.next(ge),je),()=>(0,k.f)(xe,ae,()=>xe.complete(),je),ge=>(0,k.f)(xe,ae,()=>xe.error(ge),je)))})}},5026:(wt,we,J)=>{"use strict";J.d(we,{R:()=>Ae});var k=J(4482),d=J(5403);function Se(ae,je,ye,xe,ge){return(V,Q)=>{let me=ye,De=je,se=0;V.subscribe((0,d.x)(Q,Le=>{const ze=se++;De=me?ae(De,Le,ze):(me=!0,Le),xe&&Q.next(De)},ge&&(()=>{me&&Q.next(De),Q.complete()})))}}function Ae(ae,je){return(0,k.e)(Se(ae,je,arguments.length>=2,!0))}},9468:(wt,we,J)=>{"use strict";J.d(we,{R:()=>d});var k=J(4482);function d(Se,Ae=0){return(0,k.e)((ae,je)=>{je.add(Se.schedule(()=>ae.subscribe(je),Ae))})}},5698:(wt,we,J)=>{"use strict";J.d(we,{q:()=>Ae});var k=J(515),d=J(4482),Se=J(5403);function Ae(ae){return ae<=0?()=>k.E:(0,d.e)((je,ye)=>{let xe=0;je.subscribe((0,Se.x)(ye,ge=>{++xe<=ae&&(ye.next(ge),ae<=xe&&ye.complete())}))})}},8505:(wt,we,J)=>{"use strict";J.d(we,{b:()=>ae});var k=J(576),d=J(4482),Se=J(5403),Ae=J(4671);function ae(je,ye,xe){const ge=(0,k.m)(je)||ye||xe?{next:je,error:ye,complete:xe}:je;return ge?(0,d.e)((V,Q)=>{var me;null===(me=ge.subscribe)||void 0===me||me.call(ge);let De=!0;V.subscribe((0,Se.x)(Q,se=>{var Le;null===(Le=ge.next)||void 0===Le||Le.call(ge,se),Q.next(se)},()=>{var se;De=!1,null===(se=ge.complete)||void 0===se||se.call(ge),Q.complete()},se=>{var Le;De=!1,null===(Le=ge.error)||void 0===Le||Le.call(ge,se),Q.error(se)},()=>{var se,Le;De&&(null===(se=ge.unsubscribe)||void 0===se||se.call(ge)),null===(Le=ge.finalize)||void 0===Le||Le.call(ge)}))}):Ae.y}},4408:(wt,we,J)=>{"use strict";J.d(we,{o:()=>ae});var k=J(727);class d extends k.w0{constructor(ye,xe){super()}schedule(ye,xe=0){return this}}const Se={setInterval(je,ye,...xe){const{delegate:ge}=Se;return(null==ge?void 0:ge.setInterval)?ge.setInterval(je,ye,...xe):setInterval(je,ye,...xe)},clearInterval(je){const{delegate:ye}=Se;return((null==ye?void 0:ye.clearInterval)||clearInterval)(je)},delegate:void 0};var Ae=J(8737);class ae extends d{constructor(ye,xe){super(ye,xe),this.scheduler=ye,this.work=xe,this.pending=!1}schedule(ye,xe=0){if(this.closed)return this;this.state=ye;const ge=this.id,V=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(V,ge,xe)),this.pending=!0,this.delay=xe,this.id=this.id||this.requestAsyncId(V,this.id,xe),this}requestAsyncId(ye,xe,ge=0){return Se.setInterval(ye.flush.bind(ye,this),ge)}recycleAsyncId(ye,xe,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return xe;Se.clearInterval(xe)}execute(ye,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ye,xe);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,xe){let V,ge=!1;try{this.work(ye)}catch(Q){ge=!0,V=Q||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),V}unsubscribe(){if(!this.closed){const{id:ye,scheduler:xe}=this,{actions:ge}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ae.P)(ge,this),null!=ye&&(this.id=this.recycleAsyncId(xe,ye,null)),this.delay=null,super.unsubscribe()}}}},640:(wt,we,J)=>{"use strict";J.d(we,{v:()=>Se});const k={now:()=>(k.delegate||Date).now(),delegate:void 0};class d{constructor(ae,je=d.now){this.schedulerActionCtor=ae,this.now=je}schedule(ae,je=0,ye){return new this.schedulerActionCtor(this,ae).schedule(ye,je)}}d.now=k.now;class Se extends d{constructor(ae,je=d.now){super(ae,je),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:je}=this;if(this._active)return void je.push(ae);let ye;this._active=!0;do{if(ye=ae.execute(ae.state,ae.delay))break}while(ae=je.shift());if(this._active=!1,ye){for(;ae=je.shift();)ae.unsubscribe();throw ye}}}},4986:(wt,we,J)=>{"use strict";J.d(we,{z:()=>Se});var k=J(4408);const Se=new(J(640).v)(k.o)},3410:(wt,we,J)=>{"use strict";J.d(we,{z:()=>k});const k={setTimeout(d,Se,...Ae){const{delegate:ae}=k;return(null==ae?void 0:ae.setTimeout)?ae.setTimeout(d,Se,...Ae):setTimeout(d,Se,...Ae)},clearTimeout(d){const{delegate:Se}=k;return((null==Se?void 0:Se.clearTimeout)||clearTimeout)(d)},delegate:void 0}},2202:(wt,we,J)=>{"use strict";J.d(we,{h:()=>d});const d=function k(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(wt,we,J)=>{"use strict";J.d(we,{L:()=>k});const k="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(wt,we,J)=>{"use strict";J.d(we,{_6:()=>je,jO:()=>Ae,yG:()=>ae});var k=J(576);function Se(ye){return ye[ye.length-1]}function Ae(ye){return(0,k.m)(Se(ye))?ye.pop():void 0}function ae(ye){return function d(ye){return ye&&(0,k.m)(ye.schedule)}(Se(ye))?ye.pop():void 0}function je(ye,xe){return"number"==typeof Se(ye)?ye.pop():xe}},8737:(wt,we,J)=>{"use strict";function k(d,Se){if(d){const Ae=d.indexOf(Se);0<=Ae&&d.splice(Ae,1)}}J.d(we,{P:()=>k})},3888:(wt,we,J)=>{"use strict";function k(d){const Ae=d(ae=>{Error.call(ae),ae.stack=(new Error).stack});return Ae.prototype=Object.create(Error.prototype),Ae.prototype.constructor=Ae,Ae}J.d(we,{d:()=>k})},2806:(wt,we,J)=>{"use strict";J.d(we,{O:()=>Ae,x:()=>Se});var k=J(2416);let d=null;function Se(ae){if(k.v.useDeprecatedSynchronousErrorHandling){const je=!d;if(je&&(d={errorThrown:!1,error:null}),ae(),je){const{errorThrown:ye,error:xe}=d;if(d=null,ye)throw xe}}else ae()}function Ae(ae){k.v.useDeprecatedSynchronousErrorHandling&&d&&(d.errorThrown=!0,d.error=ae)}},9672:(wt,we,J)=>{"use strict";function k(d,Se,Ae,ae=0,je=!1){const ye=Se.schedule(function(){Ae(),je?d.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(d.add(ye),!je)return ye}J.d(we,{f:()=>k})},4671:(wt,we,J)=>{"use strict";function k(d){return d}J.d(we,{y:()=>k})},1144:(wt,we,J)=>{"use strict";J.d(we,{z:()=>k});const k=d=>d&&"number"==typeof d.length&&"function"!=typeof d},2206:(wt,we,J)=>{"use strict";J.d(we,{D:()=>d});var k=J(576);function d(Se){return Symbol.asyncIterator&&(0,k.m)(null==Se?void 0:Se[Symbol.asyncIterator])}},576:(wt,we,J)=>{"use strict";function k(d){return"function"==typeof d}J.d(we,{m:()=>k})},3670:(wt,we,J)=>{"use strict";J.d(we,{c:()=>Se});var k=J(8822),d=J(576);function Se(Ae){return(0,d.m)(Ae[k.L])}},6495:(wt,we,J)=>{"use strict";J.d(we,{T:()=>Se});var k=J(2202),d=J(576);function Se(Ae){return(0,d.m)(null==Ae?void 0:Ae[k.h])}},8239:(wt,we,J)=>{"use strict";J.d(we,{t:()=>d});var k=J(576);function d(Se){return(0,k.m)(null==Se?void 0:Se.then)}},3260:(wt,we,J)=>{"use strict";J.d(we,{L:()=>Ae,Q:()=>Se});var k=J(655),d=J(576);function Se(ae){return(0,k.FC)(this,arguments,function*(){const ye=ae.getReader();try{for(;;){const{value:xe,done:ge}=yield(0,k.qq)(ye.read());if(ge)return yield(0,k.qq)(void 0);yield yield(0,k.qq)(xe)}}finally{ye.releaseLock()}})}function Ae(ae){return(0,d.m)(null==ae?void 0:ae.getReader)}},4482:(wt,we,J)=>{"use strict";J.d(we,{A:()=>d,e:()=>Se});var k=J(576);function d(Ae){return(0,k.m)(null==Ae?void 0:Ae.lift)}function Se(Ae){return ae=>{if(d(ae))return ae.lift(function(je){try{return Ae(je,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(wt,we,J)=>{"use strict";J.d(we,{h:()=>Se});var k=J(2416),d=J(3410);function Se(Ae){d.z.setTimeout(()=>{const{onUnhandledError:ae}=k.v;if(!ae)throw Ae;ae(Ae)})}},4532:(wt,we,J)=>{"use strict";function k(d){return new TypeError(`You provided ${null!==d&&"object"==typeof d?"an invalid object":`'${d}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}J.d(we,{z:()=>k})},9628:(wt,we,J)=>{"use strict";J.r(we),J.d(we,{__assign:()=>Se,__asyncDelegator:()=>Re,__asyncGenerator:()=>Me,__asyncValues:()=>Ue,__await:()=>ze,__awaiter:()=>xe,__classPrivateFieldGet:()=>Ne,__classPrivateFieldSet:()=>Ye,__createBinding:()=>V,__decorate:()=>ae,__exportStar:()=>Q,__extends:()=>d,__generator:()=>ge,__importDefault:()=>$e,__importStar:()=>Oe,__makeTemplateObject:()=>ke,__metadata:()=>ye,__param:()=>je,__read:()=>De,__rest:()=>Ae,__spread:()=>se,__spreadArrays:()=>Le,__values:()=>me});var k=function(B,U){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,F){A.__proto__=F}||function(A,F){for(var $ in F)F.hasOwnProperty($)&&(A[$]=F[$])})(B,U)};function d(B,U){function A(){this.constructor=B}k(B,U),B.prototype=null===U?Object.create(U):(A.prototype=U.prototype,new A)}var Se=function(){return Se=Object.assign||function(U){for(var A,F=1,$=arguments.length;F<$;F++)for(var j in A=arguments[F])Object.prototype.hasOwnProperty.call(A,j)&&(U[j]=A[j]);return U},Se.apply(this,arguments)};function Ae(B,U){var A={};for(var F in B)Object.prototype.hasOwnProperty.call(B,F)&&U.indexOf(F)<0&&(A[F]=B[F]);if(null!=B&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(F=Object.getOwnPropertySymbols(B);$<F.length;$++)U.indexOf(F[$])<0&&Object.prototype.propertyIsEnumerable.call(B,F[$])&&(A[F[$]]=B[F[$]])}return A}function ae(B,U,A,F){var ie,$=arguments.length,j=$<3?U:null===F?F=Object.getOwnPropertyDescriptor(U,A):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(B,U,A,F);else for(var te=B.length-1;te>=0;te--)(ie=B[te])&&(j=($<3?ie(j):$>3?ie(U,A,j):ie(U,A))||j);return $>3&&j&&Object.defineProperty(U,A,j),j}function je(B,U){return function(A,F){U(A,F,B)}}function ye(B,U){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(B,U)}function xe(B,U,A,F){return new(A||(A=Promise))(function(j,ie){function te(rt){try{_e(F.next(rt))}catch(Ge){ie(Ge)}}function He(rt){try{_e(F.throw(rt))}catch(Ge){ie(Ge)}}function _e(rt){rt.done?j(rt.value):function $(j){return j instanceof A?j:new A(function(ie){ie(j)})}(rt.value).then(te,He)}_e((F=F.apply(B,U||[])).next())})}function ge(B,U){var F,$,j,ie,A={label:0,sent:function(){if(1&j[0])throw j[1];return j[1]},trys:[],ops:[]};return ie={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(ie[Symbol.iterator]=function(){return this}),ie;function te(_e){return function(rt){return function He(_e){if(F)throw new TypeError("Generator is already executing.");for(;A;)try{if(F=1,$&&(j=2&_e[0]?$.return:_e[0]?$.throw||((j=$.return)&&j.call($),0):$.next)&&!(j=j.call($,_e[1])).done)return j;switch($=0,j&&(_e=[2&_e[0],j.value]),_e[0]){case 0:case 1:j=_e;break;case 4:return A.label++,{value:_e[1],done:!1};case 5:A.label++,$=_e[1],_e=[0];continue;case 7:_e=A.ops.pop(),A.trys.pop();continue;default:if(!(j=(j=A.trys).length>0&&j[j.length-1])&&(6===_e[0]||2===_e[0])){A=0;continue}if(3===_e[0]&&(!j||_e[1]>j[0]&&_e[1]<j[3])){A.label=_e[1];break}if(6===_e[0]&&A.label<j[1]){A.label=j[1],j=_e;break}if(j&&A.label<j[2]){A.label=j[2],A.ops.push(_e);break}j[2]&&A.ops.pop(),A.trys.pop();continue}_e=U.call(B,A)}catch(rt){_e=[6,rt],$=0}finally{F=j=0}if(5&_e[0])throw _e[1];return{value:_e[0]?_e[1]:void 0,done:!0}}([_e,rt])}}}function V(B,U,A,F){void 0===F&&(F=A),B[F]=U[A]}function Q(B,U){for(var A in B)"default"!==A&&!U.hasOwnProperty(A)&&(U[A]=B[A])}function me(B){var U="function"==typeof Symbol&&Symbol.iterator,A=U&&B[U],F=0;if(A)return A.call(B);if(B&&"number"==typeof B.length)return{next:function(){return B&&F>=B.length&&(B=void 0),{value:B&&B[F++],done:!B}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}function De(B,U){var A="function"==typeof Symbol&&B[Symbol.iterator];if(!A)return B;var $,ie,F=A.call(B),j=[];try{for(;(void 0===U||U-- >0)&&!($=F.next()).done;)j.push($.value)}catch(te){ie={error:te}}finally{try{$&&!$.done&&(A=F.return)&&A.call(F)}finally{if(ie)throw ie.error}}return j}function se(){for(var B=[],U=0;U<arguments.length;U++)B=B.concat(De(arguments[U]));return B}function Le(){for(var B=0,U=0,A=arguments.length;U<A;U++)B+=arguments[U].length;var F=Array(B),$=0;for(U=0;U<A;U++)for(var j=arguments[U],ie=0,te=j.length;ie<te;ie++,$++)F[$]=j[ie];return F}function ze(B){return this instanceof ze?(this.v=B,this):new ze(B)}function Me(B,U,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,F=A.apply(B,U||[]),j=[];return $={},ie("next"),ie("throw"),ie("return"),$[Symbol.asyncIterator]=function(){return this},$;function ie(Ve){F[Ve]&&($[Ve]=function(ft){return new Promise(function(St,Vn){j.push([Ve,ft,St,Vn])>1||te(Ve,ft)})})}function te(Ve,ft){try{!function He(Ve){Ve.value instanceof ze?Promise.resolve(Ve.value.v).then(_e,rt):Ge(j[0][2],Ve)}(F[Ve](ft))}catch(St){Ge(j[0][3],St)}}function _e(Ve){te("next",Ve)}function rt(Ve){te("throw",Ve)}function Ge(Ve,ft){Ve(ft),j.shift(),j.length&&te(j[0][0],j[0][1])}}function Re(B){var U,A;return U={},F("next"),F("throw",function($){throw $}),F("return"),U[Symbol.iterator]=function(){return this},U;function F($,j){U[$]=B[$]?function(ie){return(A=!A)?{value:ze(B[$](ie)),done:"return"===$}:j?j(ie):ie}:j}}function Ue(B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A,U=B[Symbol.asyncIterator];return U?U.call(B):(B=me(B),A={},F("next"),F("throw"),F("return"),A[Symbol.asyncIterator]=function(){return this},A);function F(j){A[j]=B[j]&&function(ie){return new Promise(function(te,He){!function $(j,ie,te,He){Promise.resolve(He).then(function(_e){j({value:_e,done:te})},ie)}(te,He,(ie=B[j](ie)).done,ie.value)})}}}function ke(B,U){return Object.defineProperty?Object.defineProperty(B,"raw",{value:U}):B.raw=U,B}function Oe(B){if(B&&B.__esModule)return B;var U={};if(null!=B)for(var A in B)Object.hasOwnProperty.call(B,A)&&(U[A]=B[A]);return U.default=B,U}function $e(B){return B&&B.__esModule?B:{default:B}}function Ne(B,U){if(!U.has(B))throw new TypeError("attempted to get private field on non-instance");return U.get(B)}function Ye(B,U,A){if(!U.has(B))throw new TypeError("attempted to set private field on non-instance");return U.set(B,A),A}},7754:(wt,we,J)=>{"use strict";J.r(we),J.d(we,{__assign:()=>Se,__asyncDelegator:()=>Re,__asyncGenerator:()=>Me,__asyncValues:()=>Ue,__await:()=>ze,__awaiter:()=>xe,__classPrivateFieldGet:()=>Ne,__classPrivateFieldSet:()=>Ye,__createBinding:()=>V,__decorate:()=>ae,__exportStar:()=>Q,__extends:()=>d,__generator:()=>ge,__importDefault:()=>$e,__importStar:()=>Oe,__makeTemplateObject:()=>ke,__metadata:()=>ye,__param:()=>je,__read:()=>De,__rest:()=>Ae,__spread:()=>se,__spreadArrays:()=>Le,__values:()=>me});var k=function(B,U){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,F){A.__proto__=F}||function(A,F){for(var $ in F)F.hasOwnProperty($)&&(A[$]=F[$])})(B,U)};function d(B,U){function A(){this.constructor=B}k(B,U),B.prototype=null===U?Object.create(U):(A.prototype=U.prototype,new A)}var Se=function(){return Se=Object.assign||function(U){for(var A,F=1,$=arguments.length;F<$;F++)for(var j in A=arguments[F])Object.prototype.hasOwnProperty.call(A,j)&&(U[j]=A[j]);return U},Se.apply(this,arguments)};function Ae(B,U){var A={};for(var F in B)Object.prototype.hasOwnProperty.call(B,F)&&U.indexOf(F)<0&&(A[F]=B[F]);if(null!=B&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(F=Object.getOwnPropertySymbols(B);$<F.length;$++)U.indexOf(F[$])<0&&Object.prototype.propertyIsEnumerable.call(B,F[$])&&(A[F[$]]=B[F[$]])}return A}function ae(B,U,A,F){var ie,$=arguments.length,j=$<3?U:null===F?F=Object.getOwnPropertyDescriptor(U,A):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(B,U,A,F);else for(var te=B.length-1;te>=0;te--)(ie=B[te])&&(j=($<3?ie(j):$>3?ie(U,A,j):ie(U,A))||j);return $>3&&j&&Object.defineProperty(U,A,j),j}function je(B,U){return function(A,F){U(A,F,B)}}function ye(B,U){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(B,U)}function xe(B,U,A,F){return new(A||(A=Promise))(function(j,ie){function te(rt){try{_e(F.next(rt))}catch(Ge){ie(Ge)}}function He(rt){try{_e(F.throw(rt))}catch(Ge){ie(Ge)}}function _e(rt){rt.done?j(rt.value):function $(j){return j instanceof A?j:new A(function(ie){ie(j)})}(rt.value).then(te,He)}_e((F=F.apply(B,U||[])).next())})}function ge(B,U){var F,$,j,ie,A={label:0,sent:function(){if(1&j[0])throw j[1];return j[1]},trys:[],ops:[]};return ie={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(ie[Symbol.iterator]=function(){return this}),ie;function te(_e){return function(rt){return function He(_e){if(F)throw new TypeError("Generator is already executing.");for(;A;)try{if(F=1,$&&(j=2&_e[0]?$.return:_e[0]?$.throw||((j=$.return)&&j.call($),0):$.next)&&!(j=j.call($,_e[1])).done)return j;switch($=0,j&&(_e=[2&_e[0],j.value]),_e[0]){case 0:case 1:j=_e;break;case 4:return A.label++,{value:_e[1],done:!1};case 5:A.label++,$=_e[1],_e=[0];continue;case 7:_e=A.ops.pop(),A.trys.pop();continue;default:if(!(j=(j=A.trys).length>0&&j[j.length-1])&&(6===_e[0]||2===_e[0])){A=0;continue}if(3===_e[0]&&(!j||_e[1]>j[0]&&_e[1]<j[3])){A.label=_e[1];break}if(6===_e[0]&&A.label<j[1]){A.label=j[1],j=_e;break}if(j&&A.label<j[2]){A.label=j[2],A.ops.push(_e);break}j[2]&&A.ops.pop(),A.trys.pop();continue}_e=U.call(B,A)}catch(rt){_e=[6,rt],$=0}finally{F=j=0}if(5&_e[0])throw _e[1];return{value:_e[0]?_e[1]:void 0,done:!0}}([_e,rt])}}}function V(B,U,A,F){void 0===F&&(F=A),B[F]=U[A]}function Q(B,U){for(var A in B)"default"!==A&&!U.hasOwnProperty(A)&&(U[A]=B[A])}function me(B){var U="function"==typeof Symbol&&Symbol.iterator,A=U&&B[U],F=0;if(A)return A.call(B);if(B&&"number"==typeof B.length)return{next:function(){return B&&F>=B.length&&(B=void 0),{value:B&&B[F++],done:!B}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}function De(B,U){var A="function"==typeof Symbol&&B[Symbol.iterator];if(!A)return B;var $,ie,F=A.call(B),j=[];try{for(;(void 0===U||U-- >0)&&!($=F.next()).done;)j.push($.value)}catch(te){ie={error:te}}finally{try{$&&!$.done&&(A=F.return)&&A.call(F)}finally{if(ie)throw ie.error}}return j}function se(){for(var B=[],U=0;U<arguments.length;U++)B=B.concat(De(arguments[U]));return B}function Le(){for(var B=0,U=0,A=arguments.length;U<A;U++)B+=arguments[U].length;var F=Array(B),$=0;for(U=0;U<A;U++)for(var j=arguments[U],ie=0,te=j.length;ie<te;ie++,$++)F[$]=j[ie];return F}function ze(B){return this instanceof ze?(this.v=B,this):new ze(B)}function Me(B,U,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,F=A.apply(B,U||[]),j=[];return $={},ie("next"),ie("throw"),ie("return"),$[Symbol.asyncIterator]=function(){return this},$;function ie(Ve){F[Ve]&&($[Ve]=function(ft){return new Promise(function(St,Vn){j.push([Ve,ft,St,Vn])>1||te(Ve,ft)})})}function te(Ve,ft){try{!function He(Ve){Ve.value instanceof ze?Promise.resolve(Ve.value.v).then(_e,rt):Ge(j[0][2],Ve)}(F[Ve](ft))}catch(St){Ge(j[0][3],St)}}function _e(Ve){te("next",Ve)}function rt(Ve){te("throw",Ve)}function Ge(Ve,ft){Ve(ft),j.shift(),j.length&&te(j[0][0],j[0][1])}}function Re(B){var U,A;return U={},F("next"),F("throw",function($){throw $}),F("return"),U[Symbol.iterator]=function(){return this},U;function F($,j){U[$]=B[$]?function(ie){return(A=!A)?{value:ze(B[$](ie)),done:"return"===$}:j?j(ie):ie}:j}}function Ue(B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A,U=B[Symbol.asyncIterator];return U?U.call(B):(B=me(B),A={},F("next"),F("throw"),F("return"),A[Symbol.asyncIterator]=function(){return this},A);function F(j){A[j]=B[j]&&function(ie){return new Promise(function(te,He){!function $(j,ie,te,He){Promise.resolve(He).then(function(_e){j({value:_e,done:te})},ie)}(te,He,(ie=B[j](ie)).done,ie.value)})}}}function ke(B,U){return Object.defineProperty?Object.defineProperty(B,"raw",{value:U}):B.raw=U,B}function Oe(B){if(B&&B.__esModule)return B;var U={};if(null!=B)for(var A in B)Object.hasOwnProperty.call(B,A)&&(U[A]=B[A]);return U.default=B,U}function $e(B){return B&&B.__esModule?B:{default:B}}function Ne(B,U){if(!U.has(B))throw new TypeError("attempted to get private field on non-instance");return U.get(B)}function Ye(B,U,A){if(!U.has(B))throw new TypeError("attempted to set private field on non-instance");return U.set(B,A),A}},617:(wt,we,J)=>{"use strict";J.r(we),J.d(we,{__assign:()=>Se,__asyncDelegator:()=>Re,__asyncGenerator:()=>Me,__asyncValues:()=>Ue,__await:()=>ze,__awaiter:()=>xe,__classPrivateFieldGet:()=>Ne,__classPrivateFieldSet:()=>Ye,__createBinding:()=>V,__decorate:()=>ae,__exportStar:()=>Q,__extends:()=>d,__generator:()=>ge,__importDefault:()=>$e,__importStar:()=>Oe,__makeTemplateObject:()=>ke,__metadata:()=>ye,__param:()=>je,__read:()=>De,__rest:()=>Ae,__spread:()=>se,__spreadArrays:()=>Le,__values:()=>me});var k=function(B,U){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,F){A.__proto__=F}||function(A,F){for(var $ in F)F.hasOwnProperty($)&&(A[$]=F[$])})(B,U)};function d(B,U){function A(){this.constructor=B}k(B,U),B.prototype=null===U?Object.create(U):(A.prototype=U.prototype,new A)}var Se=function(){return Se=Object.assign||function(U){for(var A,F=1,$=arguments.length;F<$;F++)for(var j in A=arguments[F])Object.prototype.hasOwnProperty.call(A,j)&&(U[j]=A[j]);return U},Se.apply(this,arguments)};function Ae(B,U){var A={};for(var F in B)Object.prototype.hasOwnProperty.call(B,F)&&U.indexOf(F)<0&&(A[F]=B[F]);if(null!=B&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(F=Object.getOwnPropertySymbols(B);$<F.length;$++)U.indexOf(F[$])<0&&Object.prototype.propertyIsEnumerable.call(B,F[$])&&(A[F[$]]=B[F[$]])}return A}function ae(B,U,A,F){var ie,$=arguments.length,j=$<3?U:null===F?F=Object.getOwnPropertyDescriptor(U,A):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(B,U,A,F);else for(var te=B.length-1;te>=0;te--)(ie=B[te])&&(j=($<3?ie(j):$>3?ie(U,A,j):ie(U,A))||j);return $>3&&j&&Object.defineProperty(U,A,j),j}function je(B,U){return function(A,F){U(A,F,B)}}function ye(B,U){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(B,U)}function xe(B,U,A,F){return new(A||(A=Promise))(function(j,ie){function te(rt){try{_e(F.next(rt))}catch(Ge){ie(Ge)}}function He(rt){try{_e(F.throw(rt))}catch(Ge){ie(Ge)}}function _e(rt){rt.done?j(rt.value):function $(j){return j instanceof A?j:new A(function(ie){ie(j)})}(rt.value).then(te,He)}_e((F=F.apply(B,U||[])).next())})}function ge(B,U){var F,$,j,ie,A={label:0,sent:function(){if(1&j[0])throw j[1];return j[1]},trys:[],ops:[]};return ie={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(ie[Symbol.iterator]=function(){return this}),ie;function te(_e){return function(rt){return function He(_e){if(F)throw new TypeError("Generator is already executing.");for(;A;)try{if(F=1,$&&(j=2&_e[0]?$.return:_e[0]?$.throw||((j=$.return)&&j.call($),0):$.next)&&!(j=j.call($,_e[1])).done)return j;switch($=0,j&&(_e=[2&_e[0],j.value]),_e[0]){case 0:case 1:j=_e;break;case 4:return A.label++,{value:_e[1],done:!1};case 5:A.label++,$=_e[1],_e=[0];continue;case 7:_e=A.ops.pop(),A.trys.pop();continue;default:if(!(j=(j=A.trys).length>0&&j[j.length-1])&&(6===_e[0]||2===_e[0])){A=0;continue}if(3===_e[0]&&(!j||_e[1]>j[0]&&_e[1]<j[3])){A.label=_e[1];break}if(6===_e[0]&&A.label<j[1]){A.label=j[1],j=_e;break}if(j&&A.label<j[2]){A.label=j[2],A.ops.push(_e);break}j[2]&&A.ops.pop(),A.trys.pop();continue}_e=U.call(B,A)}catch(rt){_e=[6,rt],$=0}finally{F=j=0}if(5&_e[0])throw _e[1];return{value:_e[0]?_e[1]:void 0,done:!0}}([_e,rt])}}}function V(B,U,A,F){void 0===F&&(F=A),B[F]=U[A]}function Q(B,U){for(var A in B)"default"!==A&&!U.hasOwnProperty(A)&&(U[A]=B[A])}function me(B){var U="function"==typeof Symbol&&Symbol.iterator,A=U&&B[U],F=0;if(A)return A.call(B);if(B&&"number"==typeof B.length)return{next:function(){return B&&F>=B.length&&(B=void 0),{value:B&&B[F++],done:!B}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}function De(B,U){var A="function"==typeof Symbol&&B[Symbol.iterator];if(!A)return B;var $,ie,F=A.call(B),j=[];try{for(;(void 0===U||U-- >0)&&!($=F.next()).done;)j.push($.value)}catch(te){ie={error:te}}finally{try{$&&!$.done&&(A=F.return)&&A.call(F)}finally{if(ie)throw ie.error}}return j}function se(){for(var B=[],U=0;U<arguments.length;U++)B=B.concat(De(arguments[U]));return B}function Le(){for(var B=0,U=0,A=arguments.length;U<A;U++)B+=arguments[U].length;var F=Array(B),$=0;for(U=0;U<A;U++)for(var j=arguments[U],ie=0,te=j.length;ie<te;ie++,$++)F[$]=j[ie];return F}function ze(B){return this instanceof ze?(this.v=B,this):new ze(B)}function Me(B,U,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,F=A.apply(B,U||[]),j=[];return $={},ie("next"),ie("throw"),ie("return"),$[Symbol.asyncIterator]=function(){return this},$;function ie(Ve){F[Ve]&&($[Ve]=function(ft){return new Promise(function(St,Vn){j.push([Ve,ft,St,Vn])>1||te(Ve,ft)})})}function te(Ve,ft){try{!function He(Ve){Ve.value instanceof ze?Promise.resolve(Ve.value.v).then(_e,rt):Ge(j[0][2],Ve)}(F[Ve](ft))}catch(St){Ge(j[0][3],St)}}function _e(Ve){te("next",Ve)}function rt(Ve){te("throw",Ve)}function Ge(Ve,ft){Ve(ft),j.shift(),j.length&&te(j[0][0],j[0][1])}}function Re(B){var U,A;return U={},F("next"),F("throw",function($){throw $}),F("return"),U[Symbol.iterator]=function(){return this},U;function F($,j){U[$]=B[$]?function(ie){return(A=!A)?{value:ze(B[$](ie)),done:"return"===$}:j?j(ie):ie}:j}}function Ue(B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A,U=B[Symbol.asyncIterator];return U?U.call(B):(B=me(B),A={},F("next"),F("throw"),F("return"),A[Symbol.asyncIterator]=function(){return this},A);function F(j){A[j]=B[j]&&function(ie){return new Promise(function(te,He){!function $(j,ie,te,He){Promise.resolve(He).then(function(_e){j({value:_e,done:te})},ie)}(te,He,(ie=B[j](ie)).done,ie.value)})}}}function ke(B,U){return Object.defineProperty?Object.defineProperty(B,"raw",{value:U}):B.raw=U,B}function Oe(B){if(B&&B.__esModule)return B;var U={};if(null!=B)for(var A in B)Object.hasOwnProperty.call(B,A)&&(U[A]=B[A]);return U.default=B,U}function $e(B){return B&&B.__esModule?B:{default:B}}function Ne(B,U){if(!U.has(B))throw new TypeError("attempted to get private field on non-instance");return U.get(B)}function Ye(B,U,A){if(!U.has(B))throw new TypeError("attempted to set private field on non-instance");return U.set(B,A),A}},8713:(wt,we,J)=>{"use strict";J.r(we),J.d(we,{__assign:()=>Se,__asyncDelegator:()=>Re,__asyncGenerator:()=>Me,__asyncValues:()=>Ue,__await:()=>ze,__awaiter:()=>xe,__classPrivateFieldGet:()=>Ne,__classPrivateFieldSet:()=>Ye,__createBinding:()=>V,__decorate:()=>ae,__exportStar:()=>Q,__extends:()=>d,__generator:()=>ge,__importDefault:()=>$e,__importStar:()=>Oe,__makeTemplateObject:()=>ke,__metadata:()=>ye,__param:()=>je,__read:()=>De,__rest:()=>Ae,__spread:()=>se,__spreadArrays:()=>Le,__values:()=>me});var k=function(B,U){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,F){A.__proto__=F}||function(A,F){for(var $ in F)F.hasOwnProperty($)&&(A[$]=F[$])})(B,U)};function d(B,U){function A(){this.constructor=B}k(B,U),B.prototype=null===U?Object.create(U):(A.prototype=U.prototype,new A)}var Se=function(){return Se=Object.assign||function(U){for(var A,F=1,$=arguments.length;F<$;F++)for(var j in A=arguments[F])Object.prototype.hasOwnProperty.call(A,j)&&(U[j]=A[j]);return U},Se.apply(this,arguments)};function Ae(B,U){var A={};for(var F in B)Object.prototype.hasOwnProperty.call(B,F)&&U.indexOf(F)<0&&(A[F]=B[F]);if(null!=B&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(F=Object.getOwnPropertySymbols(B);$<F.length;$++)U.indexOf(F[$])<0&&Object.prototype.propertyIsEnumerable.call(B,F[$])&&(A[F[$]]=B[F[$]])}return A}function ae(B,U,A,F){var ie,$=arguments.length,j=$<3?U:null===F?F=Object.getOwnPropertyDescriptor(U,A):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(B,U,A,F);else for(var te=B.length-1;te>=0;te--)(ie=B[te])&&(j=($<3?ie(j):$>3?ie(U,A,j):ie(U,A))||j);return $>3&&j&&Object.defineProperty(U,A,j),j}function je(B,U){return function(A,F){U(A,F,B)}}function ye(B,U){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(B,U)}function xe(B,U,A,F){return new(A||(A=Promise))(function(j,ie){function te(rt){try{_e(F.next(rt))}catch(Ge){ie(Ge)}}function He(rt){try{_e(F.throw(rt))}catch(Ge){ie(Ge)}}function _e(rt){rt.done?j(rt.value):function $(j){return j instanceof A?j:new A(function(ie){ie(j)})}(rt.value).then(te,He)}_e((F=F.apply(B,U||[])).next())})}function ge(B,U){var F,$,j,ie,A={label:0,sent:function(){if(1&j[0])throw j[1];return j[1]},trys:[],ops:[]};return ie={next:te(0),throw:te(1),return:te(2)},"function"==typeof Symbol&&(ie[Symbol.iterator]=function(){return this}),ie;function te(_e){return function(rt){return function He(_e){if(F)throw new TypeError("Generator is already executing.");for(;A;)try{if(F=1,$&&(j=2&_e[0]?$.return:_e[0]?$.throw||((j=$.return)&&j.call($),0):$.next)&&!(j=j.call($,_e[1])).done)return j;switch($=0,j&&(_e=[2&_e[0],j.value]),_e[0]){case 0:case 1:j=_e;break;case 4:return A.label++,{value:_e[1],done:!1};case 5:A.label++,$=_e[1],_e=[0];continue;case 7:_e=A.ops.pop(),A.trys.pop();continue;default:if(!(j=(j=A.trys).length>0&&j[j.length-1])&&(6===_e[0]||2===_e[0])){A=0;continue}if(3===_e[0]&&(!j||_e[1]>j[0]&&_e[1]<j[3])){A.label=_e[1];break}if(6===_e[0]&&A.label<j[1]){A.label=j[1],j=_e;break}if(j&&A.label<j[2]){A.label=j[2],A.ops.push(_e);break}j[2]&&A.ops.pop(),A.trys.pop();continue}_e=U.call(B,A)}catch(rt){_e=[6,rt],$=0}finally{F=j=0}if(5&_e[0])throw _e[1];return{value:_e[0]?_e[1]:void 0,done:!0}}([_e,rt])}}}function V(B,U,A,F){void 0===F&&(F=A),B[F]=U[A]}function Q(B,U){for(var A in B)"default"!==A&&!U.hasOwnProperty(A)&&(U[A]=B[A])}function me(B){var U="function"==typeof Symbol&&Symbol.iterator,A=U&&B[U],F=0;if(A)return A.call(B);if(B&&"number"==typeof B.length)return{next:function(){return B&&F>=B.length&&(B=void 0),{value:B&&B[F++],done:!B}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}function De(B,U){var A="function"==typeof Symbol&&B[Symbol.iterator];if(!A)return B;var $,ie,F=A.call(B),j=[];try{for(;(void 0===U||U-- >0)&&!($=F.next()).done;)j.push($.value)}catch(te){ie={error:te}}finally{try{$&&!$.done&&(A=F.return)&&A.call(F)}finally{if(ie)throw ie.error}}return j}function se(){for(var B=[],U=0;U<arguments.length;U++)B=B.concat(De(arguments[U]));return B}function Le(){for(var B=0,U=0,A=arguments.length;U<A;U++)B+=arguments[U].length;var F=Array(B),$=0;for(U=0;U<A;U++)for(var j=arguments[U],ie=0,te=j.length;ie<te;ie++,$++)F[$]=j[ie];return F}function ze(B){return this instanceof ze?(this.v=B,this):new ze(B)}function Me(B,U,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,F=A.apply(B,U||[]),j=[];return $={},ie("next"),ie("throw"),ie("return"),$[Symbol.asyncIterator]=function(){return this},$;function ie(Ve){F[Ve]&&($[Ve]=function(ft){return new Promise(function(St,Vn){j.push([Ve,ft,St,Vn])>1||te(Ve,ft)})})}function te(Ve,ft){try{!function He(Ve){Ve.value instanceof ze?Promise.resolve(Ve.value.v).then(_e,rt):Ge(j[0][2],Ve)}(F[Ve](ft))}catch(St){Ge(j[0][3],St)}}function _e(Ve){te("next",Ve)}function rt(Ve){te("throw",Ve)}function Ge(Ve,ft){Ve(ft),j.shift(),j.length&&te(j[0][0],j[0][1])}}function Re(B){var U,A;return U={},F("next"),F("throw",function($){throw $}),F("return"),U[Symbol.iterator]=function(){return this},U;function F($,j){U[$]=B[$]?function(ie){return(A=!A)?{value:ze(B[$](ie)),done:"return"===$}:j?j(ie):ie}:j}}function Ue(B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A,U=B[Symbol.asyncIterator];return U?U.call(B):(B=me(B),A={},F("next"),F("throw"),F("return"),A[Symbol.asyncIterator]=function(){return this},A);function F(j){A[j]=B[j]&&function(ie){return new Promise(function(te,He){!function $(j,ie,te,He){Promise.resolve(He).then(function(_e){j({value:_e,done:te})},ie)}(te,He,(ie=B[j](ie)).done,ie.value)})}}}function ke(B,U){return Object.defineProperty?Object.defineProperty(B,"raw",{value:U}):B.raw=U,B}function Oe(B){if(B&&B.__esModule)return B;var U={};if(null!=B)for(var A in B)Object.hasOwnProperty.call(B,A)&&(U[A]=B[A]);return U.default=B,U}function $e(B){return B&&B.__esModule?B:{default:B}}function Ne(B,U){if(!U.has(B))throw new TypeError("attempted to get private field on non-instance");return U.get(B)}function Ye(B,U,A){if(!U.has(B))throw new TypeError("attempted to set private field on non-instance");return U.set(B,A),A}},655:(wt,we,J)=>{"use strict";function xe(A,F,$,j){return new($||($=Promise))(function(te,He){function _e(Ve){try{Ge(j.next(Ve))}catch(ft){He(ft)}}function rt(Ve){try{Ge(j.throw(Ve))}catch(ft){He(ft)}}function Ge(Ve){Ve.done?te(Ve.value):function ie(te){return te instanceof $?te:new $(function(He){He(te)})}(Ve.value).then(_e,rt)}Ge((j=j.apply(A,F||[])).next())})}function Me(A){return this instanceof Me?(this.v=A,this):new Me(A)}function Re(A,F,$){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,j=$.apply(A,F||[]),te=[];return ie={},He("next"),He("throw"),He("return"),ie[Symbol.asyncIterator]=function(){return this},ie;function He(St){j[St]&&(ie[St]=function(Vn){return new Promise(function(bn,or){te.push([St,Vn,bn,or])>1||_e(St,Vn)})})}function _e(St,Vn){try{!function rt(St){St.value instanceof Me?Promise.resolve(St.value.v).then(Ge,Ve):ft(te[0][2],St)}(j[St](Vn))}catch(bn){ft(te[0][3],bn)}}function Ge(St){_e("next",St)}function Ve(St){_e("throw",St)}function ft(St,Vn){St(Vn),te.shift(),te.length&&_e(te[0][0],te[0][1])}}function ke(A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,F=A[Symbol.asyncIterator];return F?F.call(A):(A=function me(A){var F="function"==typeof Symbol&&Symbol.iterator,$=F&&A[F],j=0;if($)return $.call(A);if(A&&"number"==typeof A.length)return{next:function(){return A&&j>=A.length&&(A=void 0),{value:A&&A[j++],done:!A}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")}(A),$={},j("next"),j("throw"),j("return"),$[Symbol.asyncIterator]=function(){return this},$);function j(te){$[te]=A[te]&&function(He){return new Promise(function(_e,rt){!function ie(te,He,_e,rt){Promise.resolve(rt).then(function(Ge){te({value:Ge,done:_e})},He)}(_e,rt,(He=A[te](He)).done,He.value)})}}}J.d(we,{FC:()=>Re,KL:()=>ke,mG:()=>xe,qq:()=>Me})},9808:(wt,we,J)=>{"use strict";J.d(we,{Do:()=>Oe,EM:()=>Yr,HT:()=>ae,JF:()=>nr,K0:()=>ye,Mx:()=>hn,O5:()=>vr,Ov:()=>yn,PM:()=>_i,S$:()=>Me,V_:()=>V,Ye:()=>$e,b0:()=>ke,bD:()=>ms,ez:()=>Mi,lw:()=>xe,mr:()=>Ue,q:()=>Se,sg:()=>mr,uU:()=>Tn,w_:()=>je});var k=J(1223);let d=null;function Se(){return d}function ae(x){d||(d=x)}class je{}const ye=new k.OlP("DocumentToken");let xe=(()=>{class x{historyGo(P){throw new Error("Not implemented")}}return x.\u0275fac=function(P){return new(P||x)},x.\u0275prov=k.Yz7({token:x,factory:function(){return function ge(){return(0,k.LFG)(Q)}()},providedIn:"platform"}),x})();const V=new k.OlP("Location Initialized");let Q=(()=>{class x extends xe{constructor(P){super(),this._doc=P,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Se().getBaseHref(this._doc)}onPopState(P){const Z=Se().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",P,!1),()=>Z.removeEventListener("popstate",P)}onHashChange(P){const Z=Se().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",P,!1),()=>Z.removeEventListener("hashchange",P)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(P){this.location.pathname=P}pushState(P,Z,he){me()?this._history.pushState(P,Z,he):this.location.hash=he}replaceState(P,Z,he){me()?this._history.replaceState(P,Z,he):this.location.hash=he}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return x.\u0275fac=function(P){return new(P||x)(k.LFG(ye))},x.\u0275prov=k.Yz7({token:x,factory:function(){return function De(){return new Q((0,k.LFG)(ye))}()},providedIn:"platform"}),x})();function me(){return!!window.history.pushState}function se(x,z){if(0==x.length)return z;if(0==z.length)return x;let P=0;return x.endsWith("/")&&P++,z.startsWith("/")&&P++,2==P?x+z.substring(1):1==P?x+z:x+"/"+z}function Le(x){const z=x.match(/#|\?|$/),P=z&&z.index||x.length;return x.slice(0,P-("/"===x[P-1]?1:0))+x.slice(P)}function ze(x){return x&&"?"!==x[0]?"?"+x:x}let Me=(()=>{class x{historyGo(P){throw new Error("Not implemented")}}return x.\u0275fac=function(P){return new(P||x)},x.\u0275prov=k.Yz7({token:x,factory:function(){return function Re(x){const z=(0,k.LFG)(ye).location;return new ke((0,k.LFG)(xe),z&&z.origin||"")}()},providedIn:"root"}),x})();const Ue=new k.OlP("appBaseHref");let ke=(()=>{class x extends Me{constructor(P,Z){if(super(),this._platformLocation=P,this._removeListenerFns=[],null==Z&&(Z=this._platformLocation.getBaseHrefFromDOM()),null==Z)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Z}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return se(this._baseHref,P)}path(P=!1){const Z=this._platformLocation.pathname+ze(this._platformLocation.search),he=this._platformLocation.hash;return he&&P?`${Z}${he}`:Z}pushState(P,Z,he,Be){const Qe=this.prepareExternalUrl(he+ze(Be));this._platformLocation.pushState(P,Z,Qe)}replaceState(P,Z,he,Be){const Qe=this.prepareExternalUrl(he+ze(Be));this._platformLocation.replaceState(P,Z,Qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var Z,he;null===(he=(Z=this._platformLocation).historyGo)||void 0===he||he.call(Z,P)}}return x.\u0275fac=function(P){return new(P||x)(k.LFG(xe),k.LFG(Ue,8))},x.\u0275prov=k.Yz7({token:x,factory:x.\u0275fac}),x})(),Oe=(()=>{class x extends Me{constructor(P,Z){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(P){const Z=se(this._baseHref,P);return Z.length>0?"#"+Z:Z}pushState(P,Z,he,Be){let Qe=this.prepareExternalUrl(he+ze(Be));0==Qe.length&&(Qe=this._platformLocation.pathname),this._platformLocation.pushState(P,Z,Qe)}replaceState(P,Z,he,Be){let Qe=this.prepareExternalUrl(he+ze(Be));0==Qe.length&&(Qe=this._platformLocation.pathname),this._platformLocation.replaceState(P,Z,Qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var Z,he;null===(he=(Z=this._platformLocation).historyGo)||void 0===he||he.call(Z,P)}}return x.\u0275fac=function(P){return new(P||x)(k.LFG(xe),k.LFG(Ue,8))},x.\u0275prov=k.Yz7({token:x,factory:x.\u0275fac}),x})(),$e=(()=>{class x{constructor(P,Z){this._subject=new k.vpe,this._urlChangeListeners=[],this._platformStrategy=P;const he=this._platformStrategy.getBaseHref();this._platformLocation=Z,this._baseHref=Le(B(he)),this._platformStrategy.onPopState(Be=>{this._subject.emit({url:this.path(!0),pop:!0,state:Be.state,type:Be.type})})}path(P=!1){return this.normalize(this._platformStrategy.path(P))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(P,Z=""){return this.path()==this.normalize(P+ze(Z))}normalize(P){return x.stripTrailingSlash(function Ye(x,z){return x&&z.startsWith(x)?z.substring(x.length):z}(this._baseHref,B(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._platformStrategy.prepareExternalUrl(P)}go(P,Z="",he=null){this._platformStrategy.pushState(he,"",P,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+ze(Z)),he)}replaceState(P,Z="",he=null){this._platformStrategy.replaceState(he,"",P,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+ze(Z)),he)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(P=0){var Z,he;null===(he=(Z=this._platformStrategy).historyGo)||void 0===he||he.call(Z,P)}onUrlChange(P){this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)}))}_notifyUrlChangeListeners(P="",Z){this._urlChangeListeners.forEach(he=>he(P,Z))}subscribe(P,Z,he){return this._subject.subscribe({next:P,error:Z,complete:he})}}return x.normalizeQueryParams=ze,x.joinWithSlash=se,x.stripTrailingSlash=Le,x.\u0275fac=function(P){return new(P||x)(k.LFG(Me),k.LFG(xe))},x.\u0275prov=k.Yz7({token:x,factory:function(){return function Ne(){return new $e((0,k.LFG)(Me),(0,k.LFG)(xe))}()},providedIn:"root"}),x})();function B(x){return x.replace(/\/index.html$/,"")}var $=(()=>(($=$||{})[$.Format=0]="Format",$[$.Standalone=1]="Standalone",$))(),j=(()=>((j=j||{})[j.Narrow=0]="Narrow",j[j.Abbreviated=1]="Abbreviated",j[j.Wide=2]="Wide",j[j.Short=3]="Short",j))(),ie=(()=>((ie=ie||{})[ie.Short=0]="Short",ie[ie.Medium=1]="Medium",ie[ie.Long=2]="Long",ie[ie.Full=3]="Full",ie))(),te=(()=>((te=te||{})[te.Decimal=0]="Decimal",te[te.Group=1]="Group",te[te.List=2]="List",te[te.PercentSign=3]="PercentSign",te[te.PlusSign=4]="PlusSign",te[te.MinusSign=5]="MinusSign",te[te.Exponential=6]="Exponential",te[te.SuperscriptingExponent=7]="SuperscriptingExponent",te[te.PerMille=8]="PerMille",te[te.Infinity=9]="Infinity",te[te.NaN=10]="NaN",te[te.TimeSeparator=11]="TimeSeparator",te[te.CurrencyDecimal=12]="CurrencyDecimal",te[te.CurrencyGroup=13]="CurrencyGroup",te))();function bn(x,z){return En((0,k.cg1)(x)[k.wAp.DateFormat],z)}function or(x,z){return En((0,k.cg1)(x)[k.wAp.TimeFormat],z)}function Kn(x,z){return En((0,k.cg1)(x)[k.wAp.DateTimeFormat],z)}function mn(x,z){const P=(0,k.cg1)(x),Z=P[k.wAp.NumberSymbols][z];if(void 0===Z){if(z===te.CurrencyDecimal)return P[k.wAp.NumberSymbols][te.Decimal];if(z===te.CurrencyGroup)return P[k.wAp.NumberSymbols][te.Group]}return Z}function Wt(x){if(!x[k.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${x[k.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function En(x,z){for(let P=z;P>-1;P--)if(void 0!==x[P])return x[P];throw new Error("Locale data API: locale data undefined")}function pr(x){const[z,P]=x.split(":");return{hours:+z,minutes:+P}}const jn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,On={},st=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ve=(()=>((ve=ve||{})[ve.Short=0]="Short",ve[ve.ShortGMT=1]="ShortGMT",ve[ve.Long=2]="Long",ve[ve.Extended=3]="Extended",ve))(),oe=(()=>((oe=oe||{})[oe.FullYear=0]="FullYear",oe[oe.Month=1]="Month",oe[oe.Date=2]="Date",oe[oe.Hours=3]="Hours",oe[oe.Minutes=4]="Minutes",oe[oe.Seconds=5]="Seconds",oe[oe.FractionalSeconds=6]="FractionalSeconds",oe[oe.Day=7]="Day",oe))(),pe=(()=>((pe=pe||{})[pe.DayPeriods=0]="DayPeriods",pe[pe.Days=1]="Days",pe[pe.Months=2]="Months",pe[pe.Eras=3]="Eras",pe))();function Pe(x,z,P,Z){let he=function It(x){if(zr(x))return x;if("number"==typeof x&&!isNaN(x))return new Date(x);if("string"==typeof x){if(x=x.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(x)){const[he,Be=1,Qe=1]=x.split("-").map(ct=>+ct);return Ce(he,Be-1,Qe)}const P=parseFloat(x);if(!isNaN(x-P))return new Date(P);let Z;if(Z=x.match(jn))return function rn(x){const z=new Date(0);let P=0,Z=0;const he=x[8]?z.setUTCFullYear:z.setFullYear,Be=x[8]?z.setUTCHours:z.setHours;x[9]&&(P=Number(x[9]+x[10]),Z=Number(x[9]+x[11])),he.call(z,Number(x[1]),Number(x[2])-1,Number(x[3]));const Qe=Number(x[4]||0)-P,ct=Number(x[5]||0)-Z,ot=Number(x[6]||0),vn=Math.floor(1e3*parseFloat("0."+(x[7]||0)));return Be.call(z,Qe,ct,ot,vn),z}(Z)}const z=new Date(x);if(!zr(z))throw new Error(`Unable to convert "${x}" into a date`);return z}(x);z=lt(P,z)||z;let ct,Qe=[];for(;z;){if(ct=st.exec(z),!ct){Qe.push(z);break}{Qe=Qe.concat(ct.slice(1));const fn=Qe.pop();if(!fn)break;z=fn}}let ot=he.getTimezoneOffset();Z&&(ot=hs(Z,ot),he=function Bn(x,z,P){const Z=P?-1:1,he=x.getTimezoneOffset();return function $r(x,z){return(x=new Date(x.getTime())).setMinutes(x.getMinutes()+z),x}(x,Z*(hs(z,he)-he))}(he,Z,!0));let vn="";return Qe.forEach(fn=>{const pt=function gr(x){if(ur[x])return ur[x];let z;switch(x){case"G":case"GG":case"GGG":z=Tt(pe.Eras,j.Abbreviated);break;case"GGGG":z=Tt(pe.Eras,j.Wide);break;case"GGGGG":z=Tt(pe.Eras,j.Narrow);break;case"y":z=tt(oe.FullYear,1,0,!1,!0);break;case"yy":z=tt(oe.FullYear,2,0,!0,!0);break;case"yyy":z=tt(oe.FullYear,3,0,!1,!0);break;case"yyyy":z=tt(oe.FullYear,4,0,!1,!0);break;case"Y":z=ro(1);break;case"YY":z=ro(2,!0);break;case"YYY":z=ro(3);break;case"YYYY":z=ro(4);break;case"M":case"L":z=tt(oe.Month,1,1);break;case"MM":case"LL":z=tt(oe.Month,2,1);break;case"MMM":z=Tt(pe.Months,j.Abbreviated);break;case"MMMM":z=Tt(pe.Months,j.Wide);break;case"MMMMM":z=Tt(pe.Months,j.Narrow);break;case"LLL":z=Tt(pe.Months,j.Abbreviated,$.Standalone);break;case"LLLL":z=Tt(pe.Months,j.Wide,$.Standalone);break;case"LLLLL":z=Tt(pe.Months,j.Narrow,$.Standalone);break;case"w":z=tn(1);break;case"ww":z=tn(2);break;case"W":z=tn(1,!0);break;case"d":z=tt(oe.Date,1);break;case"dd":z=tt(oe.Date,2);break;case"c":case"cc":z=tt(oe.Day,1);break;case"ccc":z=Tt(pe.Days,j.Abbreviated,$.Standalone);break;case"cccc":z=Tt(pe.Days,j.Wide,$.Standalone);break;case"ccccc":z=Tt(pe.Days,j.Narrow,$.Standalone);break;case"cccccc":z=Tt(pe.Days,j.Short,$.Standalone);break;case"E":case"EE":case"EEE":z=Tt(pe.Days,j.Abbreviated);break;case"EEEE":z=Tt(pe.Days,j.Wide);break;case"EEEEE":z=Tt(pe.Days,j.Narrow);break;case"EEEEEE":z=Tt(pe.Days,j.Short);break;case"a":case"aa":case"aaa":z=Tt(pe.DayPeriods,j.Abbreviated);break;case"aaaa":z=Tt(pe.DayPeriods,j.Wide);break;case"aaaaa":z=Tt(pe.DayPeriods,j.Narrow);break;case"b":case"bb":case"bbb":z=Tt(pe.DayPeriods,j.Abbreviated,$.Standalone,!0);break;case"bbbb":z=Tt(pe.DayPeriods,j.Wide,$.Standalone,!0);break;case"bbbbb":z=Tt(pe.DayPeriods,j.Narrow,$.Standalone,!0);break;case"B":case"BB":case"BBB":z=Tt(pe.DayPeriods,j.Abbreviated,$.Format,!0);break;case"BBBB":z=Tt(pe.DayPeriods,j.Wide,$.Format,!0);break;case"BBBBB":z=Tt(pe.DayPeriods,j.Narrow,$.Format,!0);break;case"h":z=tt(oe.Hours,1,-12);break;case"hh":z=tt(oe.Hours,2,-12);break;case"H":z=tt(oe.Hours,1);break;case"HH":z=tt(oe.Hours,2);break;case"m":z=tt(oe.Minutes,1);break;case"mm":z=tt(oe.Minutes,2);break;case"s":z=tt(oe.Seconds,1);break;case"ss":z=tt(oe.Seconds,2);break;case"S":z=tt(oe.FractionalSeconds,1);break;case"SS":z=tt(oe.FractionalSeconds,2);break;case"SSS":z=tt(oe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":z=ar(ve.Short);break;case"ZZZZZ":z=ar(ve.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":z=ar(ve.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":z=ar(ve.Long);break;default:return null}return ur[x]=z,z}(fn);vn+=pt?pt(he,P,ot):"''"===fn?"'":fn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),vn}function Ce(x,z,P){const Z=new Date(0);return Z.setFullYear(x,z,P),Z.setHours(0,0,0),Z}function lt(x,z){const P=function _e(x){return(0,k.cg1)(x)[k.wAp.LocaleId]}(x);if(On[P]=On[P]||{},On[P][z])return On[P][z];let Z="";switch(z){case"shortDate":Z=bn(x,ie.Short);break;case"mediumDate":Z=bn(x,ie.Medium);break;case"longDate":Z=bn(x,ie.Long);break;case"fullDate":Z=bn(x,ie.Full);break;case"shortTime":Z=or(x,ie.Short);break;case"mediumTime":Z=or(x,ie.Medium);break;case"longTime":Z=or(x,ie.Long);break;case"fullTime":Z=or(x,ie.Full);break;case"short":const he=lt(x,"shortTime"),Be=lt(x,"shortDate");Z=dt(Kn(x,ie.Short),[he,Be]);break;case"medium":const Qe=lt(x,"mediumTime"),ct=lt(x,"mediumDate");Z=dt(Kn(x,ie.Medium),[Qe,ct]);break;case"long":const ot=lt(x,"longTime"),vn=lt(x,"longDate");Z=dt(Kn(x,ie.Long),[ot,vn]);break;case"full":const fn=lt(x,"fullTime"),pt=lt(x,"fullDate");Z=dt(Kn(x,ie.Full),[fn,pt])}return Z&&(On[P][z]=Z),Z}function dt(x,z){return z&&(x=x.replace(/\{([^}]+)}/g,function(P,Z){return null!=z&&Z in z?z[Z]:P})),x}function Zt(x,z,P="-",Z,he){let Be="";(x<0||he&&x<=0)&&(he?x=1-x:(x=-x,Be=P));let Qe=String(x);for(;Qe.length<z;)Qe="0"+Qe;return Z&&(Qe=Qe.substr(Qe.length-z)),Be+Qe}function tt(x,z,P=0,Z=!1,he=!1){return function(Be,Qe){let ct=function sr(x,z){switch(x){case oe.FullYear:return z.getFullYear();case oe.Month:return z.getMonth();case oe.Date:return z.getDate();case oe.Hours:return z.getHours();case oe.Minutes:return z.getMinutes();case oe.Seconds:return z.getSeconds();case oe.FractionalSeconds:return z.getMilliseconds();case oe.Day:return z.getDay();default:throw new Error(`Unknown DateType value "${x}".`)}}(x,Be);if((P>0||ct>-P)&&(ct+=P),x===oe.Hours)0===ct&&-12===P&&(ct=12);else if(x===oe.FractionalSeconds)return function Pt(x,z){return Zt(x,3).substr(0,z)}(ct,z);const ot=mn(Qe,te.MinusSign);return Zt(ct,z,ot,Z,he)}}function Tt(x,z,P=$.Format,Z=!1){return function(he,Be){return function Qn(x,z,P,Z,he,Be){switch(P){case pe.Months:return function Ve(x,z,P){const Z=(0,k.cg1)(x),Be=En([Z[k.wAp.MonthsFormat],Z[k.wAp.MonthsStandalone]],z);return En(Be,P)}(z,he,Z)[x.getMonth()];case pe.Days:return function Ge(x,z,P){const Z=(0,k.cg1)(x),Be=En([Z[k.wAp.DaysFormat],Z[k.wAp.DaysStandalone]],z);return En(Be,P)}(z,he,Z)[x.getDay()];case pe.DayPeriods:const Qe=x.getHours(),ct=x.getMinutes();if(Be){const vn=function _n(x){const z=(0,k.cg1)(x);return Wt(z),(z[k.wAp.ExtraData][2]||[]).map(Z=>"string"==typeof Z?pr(Z):[pr(Z[0]),pr(Z[1])])}(z),fn=function Bt(x,z,P){const Z=(0,k.cg1)(x);Wt(Z);const Be=En([Z[k.wAp.ExtraData][0],Z[k.wAp.ExtraData][1]],z)||[];return En(Be,P)||[]}(z,he,Z),pt=vn.findIndex(wr=>{if(Array.isArray(wr)){const[Cn,Zn]=wr,Sn=Qe>=Cn.hours&&ct>=Cn.minutes,ci=Qe<Zn.hours||Qe===Zn.hours&&ct<Zn.minutes;if(Cn.hours<Zn.hours){if(Sn&&ci)return!0}else if(Sn||ci)return!0}else if(wr.hours===Qe&&wr.minutes===ct)return!0;return!1});if(-1!==pt)return fn[pt]}return function rt(x,z,P){const Z=(0,k.cg1)(x),Be=En([Z[k.wAp.DayPeriodsFormat],Z[k.wAp.DayPeriodsStandalone]],z);return En(Be,P)}(z,he,Z)[Qe<12?0:1];case pe.Eras:return function ft(x,z){return En((0,k.cg1)(x)[k.wAp.Eras],z)}(z,Z)[x.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${P}`)}}(he,Be,x,z,P,Z)}}function ar(x){return function(z,P,Z){const he=-1*Z,Be=mn(P,te.MinusSign),Qe=he>0?Math.floor(he/60):Math.ceil(he/60);switch(x){case ve.Short:return(he>=0?"+":"")+Zt(Qe,2,Be)+Zt(Math.abs(he%60),2,Be);case ve.ShortGMT:return"GMT"+(he>=0?"+":"")+Zt(Qe,1,Be);case ve.Long:return"GMT"+(he>=0?"+":"")+Zt(Qe,2,Be)+":"+Zt(Math.abs(he%60),2,Be);case ve.Extended:return 0===Z?"Z":(he>=0?"+":"")+Zt(Qe,2,Be)+":"+Zt(Math.abs(he%60),2,Be);default:throw new Error(`Unknown zone width "${x}"`)}}}function Un(x){return Ce(x.getFullYear(),x.getMonth(),x.getDate()+(4-x.getDay()))}function tn(x,z=!1){return function(P,Z){let he;if(z){const Be=new Date(P.getFullYear(),P.getMonth(),1).getDay()-1,Qe=P.getDate();he=1+Math.floor((Qe+Be)/7)}else{const Be=Un(P),Qe=function Bi(x){const z=Ce(x,0,1).getDay();return Ce(x,0,1+(z<=4?4:11)-z)}(Be.getFullYear()),ct=Be.getTime()-Qe.getTime();he=1+Math.round(ct/6048e5)}return Zt(he,x,mn(Z,te.MinusSign))}}function ro(x,z=!1){return function(P,Z){return Zt(Un(P).getFullYear(),x,mn(Z,te.MinusSign),z)}}const ur={};function hs(x,z){x=x.replace(/:/g,"");const P=Date.parse("Jan 01, 1970 00:00:00 "+x)/6e4;return isNaN(P)?z:P}function zr(x){return x instanceof Date&&!isNaN(x.valueOf())}function hn(x,z){z=encodeURIComponent(z);for(const P of x.split(";")){const Z=P.indexOf("="),[he,Be]=-1==Z?[P,""]:[P.slice(0,Z),P.slice(Z+1)];if(he.trim()===z)return decodeURIComponent(Be)}return null}class Ht{constructor(z,P,Z,he){this.$implicit=z,this.ngForOf=P,this.index=Z,this.count=he}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mr=(()=>{class x{constructor(P,Z,he){this._viewContainer=P,this._template=Z,this._differs=he,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const Z=this._viewContainer;P.forEachOperation((he,Be,Qe)=>{if(null==he.previousIndex)Z.createEmbeddedView(this._template,new Ht(he.item,this._ngForOf,-1,-1),null===Qe?void 0:Qe);else if(null==Qe)Z.remove(null===Be?void 0:Be);else if(null!==Be){const ct=Z.get(Be);Z.move(ct,Qe),kt(ct,he)}});for(let he=0,Be=Z.length;he<Be;he++){const ct=Z.get(he).context;ct.index=he,ct.count=Be,ct.ngForOf=this._ngForOf}P.forEachIdentityChange(he=>{kt(Z.get(he.currentIndex),he)})}static ngTemplateContextGuard(P,Z){return!0}}return x.\u0275fac=function(P){return new(P||x)(k.Y36(k.s_b),k.Y36(k.Rgc),k.Y36(k.ZZ4))},x.\u0275dir=k.lG2({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),x})();function kt(x,z){x.context.$implicit=z.item}let vr=(()=>{class x{constructor(P,Z){this._viewContainer=P,this._context=new At,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){uo("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){uo("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,Z){return!0}}return x.\u0275fac=function(P){return new(P||x)(k.Y36(k.s_b),k.Y36(k.Rgc))},x.\u0275dir=k.lG2({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),x})();class At{constructor(){this.$implicit=null,this.ngIf=null}}function uo(x,z){if(z&&!z.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,k.AaK)(z)}'.`)}function an(x,z){return new k.vHH(2100,"")}class Vr{createSubscription(z,P){return z.subscribe({next:P,error:Z=>{throw Z}})}dispose(z){z.unsubscribe()}onDestroy(z){z.unsubscribe()}}class Go{createSubscription(z,P){return z.then(P,Z=>{throw Z})}dispose(z){}onDestroy(z){}}const Vt=new Go,Rn=new Vr;let yn=(()=>{class x{constructor(P){this._ref=P,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(P){return this._obj?P!==this._obj?(this._dispose(),this.transform(P)):this._latestValue:(P&&this._subscribe(P),this._latestValue)}_subscribe(P){this._obj=P,this._strategy=this._selectStrategy(P),this._subscription=this._strategy.createSubscription(P,Z=>this._updateLatestValue(P,Z))}_selectStrategy(P){if((0,k.QGY)(P))return Vt;if((0,k.F4k)(P))return Rn;throw an()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(P,Z){P===this._obj&&(this._latestValue=Z,this._ref.markForCheck())}}return x.\u0275fac=function(P){return new(P||x)(k.Y36(k.sBO,16))},x.\u0275pipe=k.Yjl({name:"async",type:x,pure:!1}),x})();const bt=new k.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Tn=(()=>{class x{constructor(P,Z){this.locale=P,this.defaultTimezone=Z}transform(P,Z="mediumDate",he,Be){var Qe;if(null==P||""===P||P!=P)return null;try{return Pe(P,Z,Be||this.locale,null!==(Qe=null!=he?he:this.defaultTimezone)&&void 0!==Qe?Qe:void 0)}catch(ct){throw an()}}}return x.\u0275fac=function(P){return new(P||x)(k.Y36(k.soG,16),k.Y36(bt,24))},x.\u0275pipe=k.Yjl({name:"date",type:x,pure:!0}),x})(),Mi=(()=>{class x{}return x.\u0275fac=function(P){return new(P||x)},x.\u0275mod=k.oAB({type:x}),x.\u0275inj=k.cJS({}),x})();const ms="browser";function _i(x){return"server"===x}let Yr=(()=>{class x{}return x.\u0275prov=(0,k.Yz7)({token:x,providedIn:"root",factory:()=>new Dn((0,k.LFG)(ye),window)}),x})();class Dn{constructor(z,P){this.document=z,this.window=P,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(z){this.supportsScrolling()&&this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){if(!this.supportsScrolling())return;const P=function co(x,z){const P=x.getElementById(z)||x.getElementsByName(z)[0];if(P)return P;if("function"==typeof x.createTreeWalker&&x.body&&(x.body.createShadowRoot||x.body.attachShadow)){const Z=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let he=Z.currentNode;for(;he;){const Be=he.shadowRoot;if(Be){const Qe=Be.getElementById(z)||Be.querySelector(`[name="${z}"]`);if(Qe)return Qe}he=Z.nextNode()}}return null}(this.document,z);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(z){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=z)}}scrollToElement(z){const P=z.getBoundingClientRect(),Z=P.left+this.window.pageXOffset,he=P.top+this.window.pageYOffset,Be=this.offset();this.window.scrollTo(Z-Be[0],he-Be[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const z=Fn(this.window.history)||Fn(Object.getPrototypeOf(this.window.history));return!(!z||!z.writable&&!z.set)}catch(z){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(z){return!1}}}function Fn(x){return Object.getOwnPropertyDescriptor(x,"scrollRestoration")}class nr{}},1223:(wt,we,J)=>{"use strict";J.d(we,{deG:()=>Wl,tb:()=>C_,AFp:()=>w_,ip1:()=>__,CZH:()=>_m,hGG:()=>zE,z2F:()=>Am,sBO:()=>OE,Sil:()=>fE,_Vd:()=>gg,EJc:()=>cE,SBq:()=>Sp,qLn:()=>da,vpe:()=>Gl,tBr:()=>As,XFs:()=>st,OlP:()=>Fr,zs3:()=>yu,ZZ4:()=>xm,aQg:()=>Pm,soG:()=>bm,YKP:()=>Py,h0i:()=>Gd,PXZ:()=>DE,R0b:()=>Kc,FiY:()=>Po,Lbi:()=>D_,g9A:()=>E_,Qsj:()=>ob,FYo:()=>Sy,JOm:()=>s,q3G:()=>Cr,tp0:()=>Qa,Rgc:()=>xp,dDg:()=>S_,q4F:()=>Oy,GfV:()=>My,s_b:()=>yg,ifc:()=>tt,eFA:()=>N_,G48:()=>ME,Gpc:()=>ke,_c5:()=>$E,VLi:()=>wE,c2e:()=>I_,zSh:()=>Ad,wAp:()=>zt,vHH:()=>Ye,EiD:()=>uu,mCW:()=>rs,qzn:()=>Ji,JVY:()=>fl,pB0:()=>Ss,eBb:()=>hl,L6k:()=>Ql,LAX:()=>Dc,cg1:()=>Zg,kL8:()=>Qv,yhl:()=>ll,dqk:()=>$t,sIi:()=>Dt,CqO:()=>iv,QGY:()=>Gg,F4k:()=>rv,RDi:()=>Be,AaK:()=>Me,z3N:()=>ko,qOj:()=>Gh,TTD:()=>Co,_Bn:()=>Iy,xp6:()=>Sl,uIk:()=>jl,ekj:()=>Wg,Suo:()=>Qy,Xpm:()=>rn,lG2:()=>oo,Yz7:()=>vt,cJS:()=>_n,oAB:()=>Wr,Yjl:()=>so,Y36:()=>Ep,_UZ:()=>Ug,qZA:()=>ag,TgZ:()=>sg,EpF:()=>nv,n5z:()=>Zo,LFG:()=>xn,$8M:()=>Vu,$Z:()=>ev,NdJ:()=>qg,CRH:()=>Xy,kcU:()=>Or,O4$:()=>un,oxw:()=>uv,ALo:()=>Gy,lcZ:()=>qy,xi3:()=>$y,Q6J:()=>Vg,DdM:()=>Ly,iGM:()=>Jy,MAs:()=>Ln,CHM:()=>Io,oJD:()=>ec,LSH:()=>Tc,YNc:()=>Xt,_uU:()=>xv,Oqu:()=>Yg,hij:()=>cg});var k=J(8189),d=J(8421),Se=J(515),Ae=J(7669),ae=J(8996),ye=J(7579),xe=J(727),ge=J(8306),V=J(5698),Q=J(2961),me=J(4482);function se(t,n,...i){return!0===n?(t(),null):!1===n?null:n(...i).pipe((0,V.q)(1)).subscribe(()=>t())}function Le(t){for(let n in t)if(t[n]===Le)return n;throw Error("Could not find renamed property on target object.")}function ze(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Re(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ue=Le({__forward_ref__:Le});function ke(t){return t.__forward_ref__=ke,t.toString=function(){return Me(this())},t}function Oe(t){return $e(t)?t():t}function $e(t){return"function"==typeof t&&t.hasOwnProperty(Ue)&&t.__forward_ref__===ke}class Ye extends Error{constructor(n,i){super(function B(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function U(t){return"string"==typeof t?t:null==t?"":String(t)}function A(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():U(t)}function ie(t,n){const i=n?` in ${n}`:"";throw new Ye(-201,`No provider for ${A(t)} found${i}`)}function Lt(t,n){null==t&&function sn(t,n,i,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${i} ${c} ${n} <=Actual]`))}(n,t,null,"!=")}function vt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _n(t){return{providers:t.providers||[],imports:t.imports||[]}}function Bt(t){return dr(t,Ho)||dr(t,jn)}function dr(t,n){return t.hasOwnProperty(n)?t[n]:null}function mi(t){return t&&(t.hasOwnProperty(xs)||t.hasOwnProperty(On))?t[xs]:null}const Ho=Le({\u0275prov:Le}),xs=Le({\u0275inj:Le}),jn=Le({ngInjectableDef:Le}),On=Le({ngInjectorDef:Le});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let ve;function pe(t){const n=ve;return ve=t,n}function Pe(t,n,i){const c=Bt(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:i&st.Optional?null:void 0!==n?n:void ie(Me(t),"Injector")}function lt(t){return{toString:t}.toString()}var dt=(()=>((dt=dt||{})[dt.OnPush=0]="OnPush",dt[dt.Default=1]="Default",dt))(),tt=(()=>{return(t=tt||(tt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",tt;var t})();const sr="undefined"!=typeof globalThis&&globalThis,Tt="undefined"!=typeof window&&window,Qn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$t=sr||"undefined"!=typeof global&&global||Tt||Qn,Un={},tn=[],ro=Le({\u0275cmp:Le}),ur=Le({\u0275dir:Le}),gr=Le({\u0275pipe:Le}),hs=Le({\u0275mod:Le}),$r=Le({\u0275fac:Le}),Bn=Le({__NG_ELEMENT_ID__:Le});let It=0;function rn(t){return lt(()=>{const i={},c={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===dt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||tn,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||tt.Emulated,id:"c",styles:t.styles||tn,_:null,setInput:null,schemas:t.schemas||null,tView:null},p=t.directives,y=t.features,E=t.pipes;return c.id+=It++,c.inputs=ds(t.inputs,i),c.outputs=ds(t.outputs),y&&y.forEach(I=>I(c)),c.directiveDefs=p?()=>("function"==typeof p?p():p).map(ni):null,c.pipeDefs=E?()=>("function"==typeof E?E():E).map(Ps):null,c})}function ni(t){return Ft(t)||function vi(t){return t[ur]||null}(t)}function Ps(t){return function _o(t){return t[gr]||null}(t)}const io={};function Wr(t){return lt(()=>{const n={type:t.type,bootstrap:t.bootstrap||tn,declarations:t.declarations||tn,imports:t.imports||tn,exports:t.exports||tn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(io[t.id]=t.type),n})}function ds(t,n){if(null==t)return Un;const i={};for(const c in t)if(t.hasOwnProperty(c)){let p=t[c],y=p;Array.isArray(p)&&(y=p[1],p=p[0]),i[p]=c,n&&(n[p]=y)}return i}const oo=rn;function so(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ft(t){return t[ro]||null}function kr(t,n){const i=t[hs]||null;if(!i&&!0===n)throw new Error(`Type ${Me(t)} does not have '\u0275mod' property.`);return i}function an(t){return Array.isArray(t)&&"object"==typeof t[1]}function Vr(t){return Array.isArray(t)&&!0===t[1]}function Go(t){return 0!=(8&t.flags)}function Vt(t){return 2==(2&t.flags)}function Rn(t){return 1==(1&t.flags)}function yn(t){return null!==t.template}function si(t){return 0!=(512&t[2])}function ui(t,n){return t.hasOwnProperty($r)?t[$r]:null}class qi{constructor(n,i,c){this.previousValue=n,this.currentValue=i,this.firstChange=c}isFirstChange(){return this.firstChange}}function Co(){return _i}function _i(t){return t.type.prototype.ngOnChanges&&(t.setInput=Du),zo}function zo(){const t=Yr(this),n=null==t?void 0:t.current;if(n){const i=t.previous;if(i===Un)t.previous=n;else for(let c in n)i[c]=n[c];t.current=null,this.ngOnChanges(n)}}function Du(t,n,i,c){const p=Yr(t)||function Dn(t,n){return t[vs]=n}(t,{previous:Un,current:null}),y=p.current||(p.current={}),E=p.previous,I=this.declaredInputs[i],O=E[I];y[I]=new qi(O&&O.currentValue,n,E===Un),t[c]=n}Co.ngInherit=!0;const vs="__ngSimpleChanges__";function Yr(t){return t[vs]||null}const z="math";let he;function Be(t){he=t}function Qe(){return void 0!==he?he:"undefined"!=typeof document?document:void 0}function ot(t){return!!t.listen}const vn={createRenderer:(t,n)=>Qe()};function pt(t){for(;Array.isArray(t);)t=t[0];return t}function Zn(t,n){return pt(n[t])}function Sn(t,n){return pt(n[t.index])}function dn(t,n){return t.data[n]}function jr(t,n){return t[n]}function xt(t,n){const i=n[t];return an(i)?i:i[0]}function on(t){return 4==(4&t[2])}function lo(t){return 128==(128&t[2])}function xi(t,n){return null==n?null:t[n]}function Wo(t){t[18]=0}function fo(t,n){t[5]+=n;let i=t,c=t[3];for(;null!==c&&(1===n&&1===i[5]||-1===n&&0===i[5]);)c[5]+=n,i=c,c=c[3]}const Mt={lFrame:pc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function lr(){return Mt.bindingsEnabled}function Ze(){return Mt.lFrame.lView}function Ut(){return Mt.lFrame.tView}function Io(t){return Mt.lFrame.contextLView=t,t[8]}function pn(){let t=wn();for(;null!==t&&64===t.type;)t=t.parent;return t}function wn(){return Mt.lFrame.currentTNode}function nn(t,n){const i=Mt.lFrame;i.currentTNode=t,i.isParent=n}function Zs(){return Mt.lFrame.isParent}function ys(){return Mt.isInCheckNoChangesMode}function Vs(t){Mt.isInCheckNoChangesMode=t}function Ur(){const t=Mt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Br(){return Mt.lFrame.bindingIndex++}function Da(t,n){const i=Mt.lFrame;i.bindingIndex=i.bindingRootIndex=t,br(n)}function br(t){Mt.lFrame.currentDirectiveIndex=t}function nt(){return Mt.lFrame.currentQueryIndex}function To(t){Mt.lFrame.currentQueryIndex=t}function dc(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function _s(t,n,i){if(i&st.SkipSelf){let p=n,y=t;for(;!(p=p.parent,null!==p||i&st.Host||(p=dc(y),null===p||(y=y[15],10&p.type))););if(null===p)return!1;n=p,t=y}const c=Mt.lFrame=Su();return c.currentTNode=n,c.lView=t,!0}function Ri(t){const n=Su(),i=t[1];Mt.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function Su(){const t=Mt.lFrame,n=null===t?null:t.child;return null===n?pc(t):n}function pc(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Yo(){const t=Mt.lFrame;return Mt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const _=Yo;function S(){const t=Yo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function le(){return Mt.lFrame.selectedIndex}function Te(t){Mt.lFrame.selectedIndex=t}function Xe(){const t=Mt.lFrame;return dn(t.tView,t.selectedIndex)}function un(){Mt.lFrame.currentNamespace="svg"}function Or(){!function Gr(){Mt.lFrame.currentNamespace=null}()}function Jr(t,n){for(let i=n.directiveStart,c=n.directiveEnd;i<c;i++){const y=t.data[i].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:I,ngAfterViewInit:O,ngAfterViewChecked:H,ngOnDestroy:q}=y;E&&(t.contentHooks||(t.contentHooks=[])).push(-i,E),I&&((t.contentHooks||(t.contentHooks=[])).push(i,I),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(i,I)),O&&(t.viewHooks||(t.viewHooks=[])).push(-i,O),H&&((t.viewHooks||(t.viewHooks=[])).push(i,H),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(i,H)),null!=q&&(t.destroyHooks||(t.destroyHooks=[])).push(i,q)}}function xr(t,n,i){ql(t,n,3,i)}function $n(t,n,i,c){(3&t[2])===i&&ql(t,n,i,c)}function Qr(t,n){let i=t[2];(3&i)===n&&(i&=2047,i+=1,t[2]=i)}function ql(t,n,i,c){const y=null!=c?c:-1,E=n.length-1;let I=0;for(let O=void 0!==c?65535&t[18]:0;O<E;O++)if("number"==typeof n[O+1]){if(I=n[O],null!=c&&I>=c)break}else n[O]<0&&(t[18]+=65536),(I<y||-1==y)&&(Ca(t,i,n,O),t[18]=(4294901760&t[18])+O+2),O++}function Ca(t,n,i,c){const p=i[c]<0,y=i[c+1],I=t[p?-i[c]:i[c]];if(p){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{y.call(I)}finally{}}}else try{y.call(I)}finally{}}class ws{constructor(n,i,c){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=c}}function qr(t,n,i){const c=ot(t);let p=0;for(;p<i.length;){const y=i[p];if("number"==typeof y){if(0!==y)break;p++;const E=i[p++],I=i[p++],O=i[p++];c?t.setAttribute(n,I,O,E):n.setAttributeNS(E,I,O)}else{const E=y,I=i[++p];Ou(E)?c&&t.setProperty(n,E,I):c?t.setAttribute(n,E,I):n.setAttribute(E,I),p++}}return p}function Aa(t){return 3===t||4===t||6===t}function Ou(t){return 64===t.charCodeAt(0)}function So(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let c=0;c<n.length;c++){const p=n[c];"number"==typeof p?i=p:0===i||Es(t,i,p,null,-1===i||2===i?n[++c]:null)}}return t}function Es(t,n,i,c,p){let y=0,E=t.length;if(-1===n)E=-1;else for(;y<t.length;){const I=t[y++];if("number"==typeof I){if(I===n){E=-1;break}if(I>n){E=y-1;break}}}for(;y<t.length;){const I=t[y];if("number"==typeof I)break;if(I===i){if(null===c)return void(null!==p&&(t[y+1]=p));if(c===t[y+1])return void(t[y+2]=p)}y++,null!==c&&y++,null!==p&&y++}-1!==E&&(t.splice(E,0,n),y=E+1),t.splice(y++,0,i),null!==c&&t.splice(y++,0,c),null!==p&&t.splice(y++,0,p)}function Zc(t){return-1!==t}function qa(t){return 32767&t}function zn(t,n){let i=function Xs(t){return t>>16}(t),c=n;for(;i>0;)c=c[15],i--;return c}let Nu=!0;function xu(t){const n=Nu;return Nu=t,n}let Mo=0;function ea(t,n){const i=$a(t,n);if(-1!==i)return i;const c=n[1];c.firstCreatePass&&(t.injectorIndex=n.length,Ru(c.data,t),Ru(n,null),Ru(c.blueprint,null));const p=_t(t,n),y=t.injectorIndex;if(Zc(p)){const E=qa(p),I=zn(p,n),O=I[1].data;for(let H=0;H<8;H++)n[y+H]=I[E+H]|O[E+H]}return n[y+8]=p,y}function Ru(t,n){t.push(0,0,0,0,0,0,0,0,n)}function $a(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function _t(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,c=null,p=n;for(;null!==p;){const y=p[1],E=y.type;if(c=2===E?y.declTNode:1===E?p[6]:null,null===c)return-1;if(i++,p=p[15],-1!==c.injectorIndex)return c.injectorIndex|i<<16}return-1}function Rr(t,n,i){!function $l(t,n,i){let c;"string"==typeof i?c=i.charCodeAt(0)||0:i.hasOwnProperty(Bn)&&(c=i[Bn]),null==c&&(c=i[Bn]=Mo++);const p=255&c;n.data[t+(p>>5)]|=1<<p}(t,n,i)}function za(t,n,i){if(i&st.Optional)return t;ie(n,"NodeInjector")}function Wa(t,n,i,c){if(i&st.Optional&&void 0===c&&(c=null),0==(i&(st.Self|st.Host))){const p=t[9],y=pe(void 0);try{return p?p.get(n,c,i&st.Optional):Pe(n,c,i&st.Optional)}finally{pe(y)}}return za(c,n,i)}function Ta(t,n,i,c=st.Default,p){if(null!==t){const y=function el(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Bn)?t[Bn]:void 0;return"number"==typeof n?n>=0?255&n:Xc:n}(i);if("function"==typeof y){if(!_s(n,t,c))return c&st.Host?za(p,i,c):Wa(n,i,c,p);try{const E=y(c);if(null!=E||c&st.Optional)return E;ie(i)}finally{_()}}else if("number"==typeof y){let E=null,I=$a(t,n),O=-1,H=c&st.Host?n[16][6]:null;for((-1===I||c&st.SkipSelf)&&(O=-1===I?_t(t,n):n[I+8],-1!==O&&Lu(c,!1)?(E=n[1],I=qa(O),n=zn(O,n)):I=-1);-1!==I;){const q=n[1];if(ku(y,I,q.data)){const re=Fu(I,n,i,E,c,H);if(re!==Qc)return re}O=n[I+8],-1!==O&&Lu(c,n[1].data[I+8]===H)&&ku(y,I,n)?(E=q,I=qa(O),n=zn(O,n)):I=-1}}}return Wa(n,i,c,p)}const Qc={};function Xc(){return new ta(pn(),Ze())}function Fu(t,n,i,c,p,y){const E=n[1],I=E.data[t+8],q=No(I,E,i,null==c?Vt(I)&&Nu:c!=E&&0!=(3&I.type),p&st.Host&&y===I);return null!==q?Fi(n,E,q,I):Qc}function No(t,n,i,c,p){const y=t.providerIndexes,E=n.data,I=1048575&y,O=t.directiveStart,q=y>>20,de=p?I+q:t.directiveEnd;for(let Ie=c?I:I+q;Ie<de;Ie++){const Ke=E[Ie];if(Ie<O&&i===Ke||Ie>=O&&Ke.type===i)return Ie}if(p){const Ie=E[O];if(Ie&&yn(Ie)&&Ie.type===i)return O}return null}function Fi(t,n,i,c){let p=t[i];const y=n.data;if(function Ia(t){return t instanceof ws}(p)){const E=p;E.resolving&&function F(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Ye(-200,`Circular dependency in DI detected for ${t}${i}`)}(A(y[i]));const I=xu(E.canSeeViewProviders);E.resolving=!0;const O=E.injectImpl?pe(E.injectImpl):null;_s(t,c,st.Default);try{p=t[i]=E.factory(void 0,y,t,c),n.firstCreatePass&&i>=c.directiveStart&&function Ha(t,n,i){const{ngOnChanges:c,ngOnInit:p,ngDoCheck:y}=n.type.prototype;if(c){const E=_i(n);(i.preOrderHooks||(i.preOrderHooks=[])).push(t,E),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,E)}p&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-t,p),y&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t,y),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,y))}(i,y[i],n)}finally{null!==O&&pe(O),xu(I),E.resolving=!1,_()}}return p}function ku(t,n,i){return!!(i[n+(t>>5)]&1<<t)}function Lu(t,n){return!(t&st.Self||t&st.Host&&n)}class ta{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,c){return Ta(this._tNode,this._lView,n,c,i)}}function Zo(t){return lt(()=>{const n=t.prototype.constructor,i=n[$r]||Us(n),c=Object.prototype;let p=Object.getPrototypeOf(t.prototype).constructor;for(;p&&p!==c;){const y=p[$r]||Us(p);if(y&&y!==i)return y;p=Object.getPrototypeOf(p)}return y=>new y})}function Us(t){return $e(t)?()=>{const n=Us(Oe(t));return n&&n()}:ui(t)}function Vu(t){return function Oo(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const c=i.length;let p=0;for(;p<c;){const y=i[p];if(Aa(y))break;if(0===y)p+=2;else if("number"==typeof y)for(p++;p<c&&"string"==typeof i[p];)p++;else{if(y===n)return i[p+1];p+=2}}}return null}(pn(),t)}const Sa="__parameters__";function ho(t,n,i){return lt(()=>{const c=function ki(t){return function(...i){if(t){const c=t(...i);for(const p in c)this[p]=c[p]}}}(n);function p(...y){if(this instanceof p)return c.apply(this,y),this;const E=new p(...y);return I.annotation=E,I;function I(O,H,q){const re=O.hasOwnProperty(Sa)?O[Sa]:Object.defineProperty(O,Sa,{value:[]})[Sa];for(;re.length<=q;)re.push(null);return(re[q]=re[q]||[]).push(E),O}}return i&&(p.prototype=Object.create(i.prototype)),p.prototype.ngMetadataName=t,p.annotationCls=p,p})}class Fr{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=vt({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Wl=new Fr("AnalyzeForEntryComponents");function Xr(t,n){void 0===n&&(n=t);for(let i=0;i<t.length;i++){let c=t[i];Array.isArray(c)?(n===t&&(n=t.slice(0,i)),Xr(c,n)):n!==t&&n.push(c)}return n}function Qo(t,n){t.forEach(i=>Array.isArray(i)?Qo(i,n):n(i))}function Bs(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Ja(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Vi(t,n,i){let c=Jn(t,n);return c>=0?t[1|c]=i:(c=~c,function Ma(t,n,i,c){let p=t.length;if(p==n)t.push(i,c);else if(1===p)t.push(c,t[0]),t[0]=i;else{for(p--,t.push(t[p-1],t[p]);p>n;)t[p]=t[p-2],p--;t[n]=i,t[n+1]=c}}(t,c,n,i)),c}function Hu(t,n){const i=Jn(t,n);if(i>=0)return t[1|i]}function Jn(t,n){return function Gu(t,n,i){let c=0,p=t.length>>i;for(;p!==c;){const y=c+(p-c>>1),E=t[y<<i];if(n===E)return y<<i;E>n?p=y:c=y+1}return~(p<<i)}(t,n,1)}const xa={},rl="__NG_DI_FLAG__",Cs="ngTempTokenPath",wc=/\n/gm,ra="__source",qu=Le({provide:String,useValue:Le});let Is;function il(t){const n=Is;return Is=t,n}function xf(t,n=st.Default){if(void 0===Is)throw new Ye(203,"");return null===Is?Pe(t,void 0,n):Is.get(t,n&st.Optional?null:void 0,n)}function xn(t,n=st.Default){return(function oe(){return ve}()||xf)(Oe(t),n)}const Pf=xn;function go(t){const n=[];for(let i=0;i<t.length;i++){const c=Oe(t[i]);if(Array.isArray(c)){if(0===c.length)throw new Ye(900,"");let p,y=st.Default;for(let E=0;E<c.length;E++){const I=c[E],O=Zi(I);"number"==typeof O?-1===O?p=I.token:y|=O:p=I}n.push(xn(p,y))}else n.push(xn(c))}return n}function qs(t,n){return t[rl]=n,t.prototype[rl]=n,t}function Zi(t){return t[rl]}const As=qs(ho("Inject",t=>({token:t})),-1),Po=qs(ho("Optional"),8),Qa=qs(ho("SkipSelf"),4);let Xa,nu;function aa(t){var n;return(null===(n=function ul(){if(void 0===Xa&&(Xa=null,$t.trustedTypes))try{Xa=$t.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Xa}())||void 0===n?void 0:n.createHTML(t))||t}function Ku(t){var n;return(null===(n=function ru(){if(void 0===nu&&(nu=null,$t.trustedTypes))try{nu=$t.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return nu}())||void 0===n?void 0:n.createHTML(t))||t}class Ts{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Yu extends Ts{getTypeName(){return"HTML"}}class $s extends Ts{getTypeName(){return"Style"}}class Jl extends Ts{getTypeName(){return"Script"}}class iu extends Ts{getTypeName(){return"URL"}}class Zu extends Ts{getTypeName(){return"ResourceURL"}}function ko(t){return t instanceof Ts?t.changingThisBreaksApplicationSecurity:t}function Ji(t,n){const i=ll(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===n}function ll(t){return t instanceof Ts&&t.getTypeName()||null}function fl(t){return new Yu(t)}function Ql(t){return new $s(t)}function hl(t){return new Jl(t)}function Dc(t){return new iu(t)}function Ss(t){return new Zu(t)}class Cc{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(aa(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch(i){return null}}}class Rf{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i);const c=this.inertDocument.createElement("body");i.appendChild(c)}}getInertBodyElement(n){const i=this.inertDocument.createElement("template");if("content"in i)return i.innerHTML=aa(n),i;const c=this.inertDocument.createElement("body");return c.innerHTML=aa(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(n){const i=n.attributes;for(let p=i.length-1;0<p;p--){const E=i.item(p).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&n.removeAttribute(E)}let c=n.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Ju=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ou=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function rs(t){return(t=String(t)).match(Ju)||t.match(ou)?t:"unsafe:"+t}function is(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Ic(...t){const n={};for(const i of t)for(const c in i)i.hasOwnProperty(c)&&(n[c]=!0);return n}const lh=is("area,br,col,hr,img,wbr"),fh=is("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hh=is("rp,rt"),su=Ic(lh,Ic(fh,is("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ic(hh,is("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ic(hh,fh)),Ac=is("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ua=is("srcset"),Lo=Ic(Ac,ua,is("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),is("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mo=is("script,style,template");class Ms{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,c=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?c=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,c&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let p=this.checkClobberedElement(i,i.nextSibling);if(p){i=p;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!su.hasOwnProperty(i))return this.sanitizedSomething=!0,!mo.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const c=n.attributes;for(let p=0;p<c.length;p++){const y=c.item(p),E=y.name,I=E.toLowerCase();if(!Lo.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let O=y.value;Ac[I]&&(O=rs(O)),ua[I]&&(t=O,O=(t=String(t)).split(",").map(n=>rs(n.trim())).join(", ")),this.buf.push(" ",E,'="',Qu(O),'"')}var t;return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();su.hasOwnProperty(i)&&!lh.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Qu(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const ca=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,au=/([^\#-~ |!])/g;function Qu(t){return t.replace(/&/g,"&amp;").replace(ca,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(au,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vo;function uu(t,n){let i=null;try{vo=vo||function Hn(t){const n=new Rf(t);return function Ff(){try{return!!(new window.DOMParser).parseFromString(aa(""),"text/html")}catch(t){return!1}}()?new Cc(n):n}(t);let c=n?String(n):"";i=vo.getInertBodyElement(c);let p=5,y=c;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,c=y,y=i.innerHTML,i=vo.getInertBodyElement(c)}while(c!==y);return aa((new Ms).sanitizeChildren(cu(i)||i))}finally{if(i){const c=cu(i)||i;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function cu(t){return"content"in t&&function Xu(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Cr=(()=>((Cr=Cr||{})[Cr.NONE=0]="NONE",Cr[Cr.HTML=1]="HTML",Cr[Cr.STYLE=2]="STYLE",Cr[Cr.SCRIPT=3]="SCRIPT",Cr[Cr.URL=4]="URL",Cr[Cr.RESOURCE_URL=5]="RESOURCE_URL",Cr))();function ec(t){const n=ji();return n?Ku(n.sanitize(Cr.HTML,t)||""):Ji(t,"HTML")?Ku(ko(t)):uu(Qe(),U(t))}function Tc(t){const n=ji();return n?n.sanitize(Cr.URL,t)||"":Ji(t,"URL")?ko(t):rs(U(t))}function ji(){const t=Ze();return t&&t[12]}const jo="__ngContext__";function Ir(t,n){t[jo]=n}function fa(t){const n=function Os(t){return t[jo]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function ha(t){return t.ngOriginalError}function Fa(t,...n){t.error(...n)}class da{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n),c=function rf(t){return t&&t.ngErrorLogger||Fa}(n);c(this._console,"ERROR",n),i&&c(this._console,"ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&ha(n);for(;i&&ha(i);)i=ha(i);return i||null}}const Pc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($t))();function pa(t){return t instanceof Function?t():t}var s=(()=>((s=s||{})[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s))();function o(t,n){return undefined(t,n)}function w(t){const n=t[3];return Vr(n)?n[3]:n}function R(t){return ee(t[13])}function W(t){return ee(t[4])}function ee(t){for(;null!==t&&!Vr(t);)t=t[4];return t}function ue(t,n,i,c,p){if(null!=c){let y,E=!1;Vr(c)?y=c:an(c)&&(E=!0,c=c[0]);const I=pt(c);0===t&&null!==i?null==p?ss(n,i,I):ka(n,i,I,p||null,!0):1===t&&null!==i?ka(n,i,I,p||null,!0):2===t?function ed(t,n,i){const c=Il(t,n);c&&function ph(t,n,i,c){ot(t)?t.removeChild(n,i,c):n.removeChild(i)}(t,c,n,i)}(n,I,E):3===t&&n.destroyNode(I),null!=y&&function _h(t,n,i,c,p){const y=i[7];y!==pt(i)&&ue(n,t,c,y,p);for(let I=10;I<i.length;I++){const O=i[I];Al(O[1],O,t,n,c,y)}}(n,t,y,i,p)}}function yt(t,n,i){if(ot(t))return t.createElement(n,i);{const c=null!==i?function Z(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":n===z?"http://www.w3.org/1998/MathML/":null}(i):null;return null===c?t.createElement(n):t.createElementNS(c,n)}}function Gt(t,n){const i=t[9],c=i.indexOf(n),p=n[3];1024&n[2]&&(n[2]&=-1025,fo(p,-1)),i.splice(c,1)}function Uo(t,n){if(t.length<=10)return;const i=10+n,c=t[i];if(c){const p=c[17];null!==p&&p!==t&&Gt(p,c),n>0&&(t[i-1][4]=c[4]);const y=Ja(t,10+n);!function gt(t,n){Al(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(c[1],c);const E=y[19];null!==E&&E.detachView(y[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function ga(t,n){if(!(256&n[2])){const i=n[11];ot(i)&&i.destroyNode&&Al(t,n,i,3,null,null),function gn(t){let n=t[13];if(!n)return fu(t[1],t);for(;n;){let i=null;if(an(n))i=n[13];else{const c=n[10];c&&(i=c)}if(!i){for(;n&&!n[4]&&n!==t;)an(n)&&fu(n[1],n),n=n[3];null===n&&(n=t),an(n)&&fu(n[1],n),i=n&&n[4]}n=i}}(n)}}function fu(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function ac(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let c=0;c<i.length;c+=2){const p=n[i[c]];if(!(p instanceof ws)){const y=i[c+1];if(Array.isArray(y))for(let E=0;E<y.length;E+=2){const I=p[y[E]],O=y[E+1];try{O.call(I)}finally{}}else try{y.call(p)}finally{}}}}(t,n),function Ns(t,n){const i=t.cleanup,c=n[7];let p=-1;if(null!==i)for(let y=0;y<i.length-1;y+=2)if("string"==typeof i[y]){const E=i[y+1],I="function"==typeof E?E(n):pt(n[E]),O=c[p=i[y+2]],H=i[y+3];"boolean"==typeof H?I.removeEventListener(i[y],O,H):H>=0?c[p=H]():c[p=-H].unsubscribe(),y+=2}else{const E=c[p=i[y+1]];i[y].call(E)}if(null!==c){for(let y=p+1;y<c.length;y++)c[y]();n[7]=null}}(t,n),1===n[1].type&&ot(n[11])&&n[11].destroy();const i=n[17];if(null!==i&&Vr(n[3])){i!==n[3]&&Gt(i,n);const c=n[19];null!==c&&c.detachView(t)}}}function Fc(t,n,i){return function Cl(t,n,i){let c=n;for(;null!==c&&40&c.type;)c=(n=c).parent;if(null===c)return i[0];if(2&c.flags){const p=t.data[c.directiveStart].encapsulation;if(p===tt.None||p===tt.Emulated)return null}return Sn(c,i)}(t,n.parent,i)}function ka(t,n,i,c,p){ot(t)?t.insertBefore(n,i,c,p):n.insertBefore(i,c,p)}function ss(t,n,i){ot(t)?t.appendChild(n,i):n.appendChild(i)}function as(t,n,i,c,p){null!==c?ka(t,n,i,c,p):ss(t,n,i)}function Il(t,n){return ot(t)?t.parentNode(n):n.parentNode}let Vf=function mh(t,n,i){return 40&t.type?Sn(t,i):null};function uc(t,n,i,c){const p=Fc(t,c,n),y=n[11],I=function lf(t,n,i){return Vf(t,n,i)}(c.parent||n[6],c,n);if(null!=p)if(Array.isArray(i))for(let O=0;O<i.length;O++)as(y,p,i[O],I,!1);else as(y,p,i,I,!1)}function ff(t,n){if(null!==n){const i=n.type;if(3&i)return Sn(n,t);if(4&i)return vh(-1,t[n.index]);if(8&i){const c=n.child;if(null!==c)return ff(t,c);{const p=t[n.index];return Vr(p)?vh(-1,p):pt(p)}}if(32&i)return o(n,t)()||pt(t[n.index]);{const c=zd(t,n);return null!==c?Array.isArray(c)?c[0]:ff(w(t[16]),c):ff(t,n.next)}}return null}function zd(t,n){return null!==n?t[16][6].projection[n.projection]:null}function vh(t,n){const i=10+t+1;if(i<n.length){const c=n[i],p=c[1].firstChild;if(null!==p)return ff(c,p)}return n[7]}function hf(t,n,i,c,p,y,E){for(;null!=i;){const I=c[i.index],O=i.type;if(E&&0===n&&(I&&Ir(pt(I),c),i.flags|=4),64!=(64&i.flags))if(8&O)hf(t,n,i.child,c,p,y,!1),ue(n,t,p,I,y);else if(32&O){const H=o(i,c);let q;for(;q=H();)ue(n,t,p,q,y);ue(n,t,p,I,y)}else 16&O?yh(t,n,c,i,p,y):ue(n,t,p,I,y);i=E?i.projectionNext:i.next}}function Al(t,n,i,c,p,y){hf(i,c,t.firstChild,n,p,y,!1)}function yh(t,n,i,c,p,y){const E=i[16],O=E[6].projection[c.projection];if(Array.isArray(O))for(let H=0;H<O.length;H++)ue(n,t,p,O[H],y);else hf(t,n,O,E[3],p,y,!0)}function Hf(t,n,i){ot(t)?t.setAttribute(n,"style",i):n.style.cssText=i}function Gf(t,n,i){ot(t)?""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i):n.className=i}function qf(t,n,i){let c=t.length;for(;;){const p=t.indexOf(n,i);if(-1===p)return p;if(0===p||t.charCodeAt(p-1)<=32){const y=n.length;if(p+y===c||t.charCodeAt(p+y)<=32)return p}i=p+1}}const kc="ng-template";function $f(t,n,i){let c=0;for(;c<t.length;){let p=t[c++];if(i&&"class"===p){if(p=t[c],-1!==qf(p.toLowerCase(),n,0))return!0}else if(1===p){for(;c<t.length&&"string"==typeof(p=t[c++]);)if(p.toLowerCase()===n)return!0;return!1}}return!1}function zf(t){return 4===t.type&&t.value!==kc}function cc(t,n,i){return n===(4!==t.type||i?t.value:kc)}function Tl(t,n,i){let c=4;const p=t.attrs||[],y=function nd(t){for(let n=0;n<t.length;n++)if(Aa(t[n]))return n;return t.length}(p);let E=!1;for(let I=0;I<n.length;I++){const O=n[I];if("number"!=typeof O){if(!E)if(4&c){if(c=2|1&c,""!==O&&!cc(t,O,i)||""===O&&1===n.length){if(pi(c))return!1;E=!0}}else{const H=8&c?O:n[++I];if(8&c&&null!==t.attrs){if(!$f(t.attrs,H,i)){if(pi(c))return!1;E=!0}continue}const re=td(8&c?"class":O,p,zf(t),i);if(-1===re){if(pi(c))return!1;E=!0;continue}if(""!==H){let de;de=re>y?"":p[re+1].toLowerCase();const Ie=8&c?de:null;if(Ie&&-1!==qf(Ie,H,0)||2&c&&H!==de){if(pi(c))return!1;E=!0}}}}else{if(!E&&!pi(c)&&!pi(O))return!1;if(E&&pi(O))continue;E=!1,c=O|1&c}}return pi(c)||E}function pi(t){return 0==(1&t)}function td(t,n,i,c){if(null===n)return-1;let p=0;if(c||!i){let y=!1;for(;p<n.length;){const E=n[p];if(E===t)return p;if(3===E||6===E)y=!0;else{if(1===E||2===E){let I=n[++p];for(;"string"==typeof I;)I=n[++p];continue}if(4===E)break;if(0===E){p+=4;continue}}p+=y?1:2}return-1}return function rd(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const c=t[i];if("number"==typeof c)return-1;if(c===n)return i;i++}return-1}(n,t)}function wh(t,n,i=!1){for(let c=0;c<n.length;c++)if(Tl(t,n[c],i))return!0;return!1}function pf(t,n){return t?":not("+n.trim()+")":n}function id(t){let n=t[0],i=1,c=2,p="",y=!1;for(;i<t.length;){let E=t[i];if("string"==typeof E)if(2&c){const I=t[++i];p+="["+E+(I.length>0?'="'+I+'"':"")+"]"}else 8&c?p+="."+E:4&c&&(p+=" "+E);else""!==p&&!pi(E)&&(n+=pf(y,p),p=""),c=E,y=y||!pi(c);i++}return""!==p&&(n+=pf(y,p)),n}const Qt={};function Sl(t){od(Ut(),Ze(),le()+t,ys())}function od(t,n,i,c){if(!c)if(3==(3&n[2])){const y=t.preOrderCheckHooks;null!==y&&xr(n,y,i)}else{const y=t.preOrderHooks;null!==y&&$n(n,y,0,i)}Te(i)}function Ml(t,n){return t<<17|n<<2}function ma(t){return t>>17&32767}function bh(t){return 2|t}function us(t){return(131068&t)>>2}function Eh(t,n){return-131069&t|n<<2}function gf(t){return 1|t}function sp(t,n){const i=t.contentQueries;if(null!==i)for(let c=0;c<i.length;c+=2){const p=i[c],y=i[c+1];if(-1!==y){const E=t.data[y];To(p),E.contentQueries(2,n[y],y)}}}function Pl(t,n,i,c,p,y,E,I,O,H){const q=n.blueprint.slice();return q[0]=p,q[2]=140|c,Wo(q),q[3]=q[15]=t,q[8]=i,q[10]=E||t&&t[10],q[11]=I||t&&t[11],q[12]=O||t&&t[12]||null,q[9]=H||t&&t[9]||null,q[6]=y,q[16]=2==n.type?t[16]:q,q}function Rl(t,n,i,c,p){let y=t.data[n];if(null===y)y=function Mh(t,n,i,c,p){const y=wn(),E=Zs(),O=t.data[n]=function md(t,n,i,c,p,y){return{type:i,index:c,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?y:y&&y.parent,i,n,c,p);return null===t.firstChild&&(t.firstChild=O),null!==y&&(E?null==y.child&&null!==O.parent&&(y.child=O):null===y.next&&(y.next=O)),O}(t,n,i,c,p),function js(){return Mt.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=i,y.value=c,y.attrs=p;const E=function Mr(){const t=Mt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();y.injectorIndex=null===E?-1:E.injectorIndex}return nn(y,!0),y}function Uc(t,n,i,c){if(0===i)return-1;const p=n.length;for(let y=0;y<i;y++)n.push(c),t.blueprint.push(c),t.data.push(null);return p}function Fl(t,n,i){Ri(n);try{const c=t.viewQuery;null!==c&&kl(1,c,i);const p=t.template;null!==p&&Ef(t,n,p,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&sp(t,n),t.staticViewQueries&&kl(2,t.viewQuery,i);const y=t.components;null!==y&&function ap(t,n){for(let i=0;i<n.length;i++)it(t,n[i])}(n,y)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[2]&=-5,S()}}function Bc(t,n,i,c){const p=n[2];if(256==(256&p))return;Ri(n);const y=ys();try{Wo(n),function Pi(t){return Mt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Ef(t,n,i,2,c);const E=3==(3&p);if(!y)if(E){const H=t.preOrderCheckHooks;null!==H&&xr(n,H,null)}else{const H=t.preOrderHooks;null!==H&&$n(n,H,0,null),Qr(n,0)}if(function K(t){for(let n=R(t);null!==n;n=W(n)){if(!n[2])continue;const i=n[9];for(let c=0;c<i.length;c++){const p=i[c],y=p[3];0==(1024&p[2])&&fo(y,1),p[2]|=1024}}}(n),function N(t){for(let n=R(t);null!==n;n=W(n))for(let i=10;i<n.length;i++){const c=n[i],p=c[1];lo(c)&&Bc(p,c,p.template,c[8])}}(n),null!==t.contentQueries&&sp(t,n),!y)if(E){const H=t.contentCheckHooks;null!==H&&xr(n,H)}else{const H=t.contentHooks;null!==H&&$n(n,H,1),Qr(n,1)}!function op(t,n){const i=t.hostBindingOpCodes;if(null!==i)try{for(let c=0;c<i.length;c++){const p=i[c];if(p<0)Te(~p);else{const y=p,E=i[++c],I=i[++c];Da(E,y),I(2,n[y])}}}finally{Te(-1)}}(t,n);const I=t.components;null!==I&&function kp(t,n){for(let i=0;i<n.length;i++)ne(t,n[i])}(n,I);const O=t.viewQuery;if(null!==O&&kl(2,O,c),!y)if(E){const H=t.viewCheckHooks;null!==H&&xr(n,H)}else{const H=t.viewHooks;null!==H&&$n(n,H,2),Qr(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),y||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,fo(n[3],-1))}finally{S()}}function bf(t,n,i,c){const p=n[10],y=!ys(),E=on(n);try{y&&!E&&p.begin&&p.begin(),E&&Fl(t,n,c),Bc(t,n,i,c)}finally{y&&!E&&p.end&&p.end()}}function Ef(t,n,i,c,p){const y=le(),E=2&c;try{Te(-1),E&&n.length>20&&od(t,n,20,ys()),i(c,p)}finally{Te(y)}}function Qf(t,n,i){!lr()||(function th(t,n,i,c){const p=i.directiveStart,y=i.directiveEnd;t.firstCreatePass||ea(i,n),Ir(c,n);const E=i.initialInputs;for(let I=p;I<y;I++){const O=t.data[I],H=yn(O);H&&rh(n,i,O);const q=Fi(n,t,I,i);Ir(q,n),null!==E&&l(0,I-p,q,O,0,E),H&&(xt(i.index,n)[8]=q)}}(t,n,i,Sn(i,n)),128==(128&i.flags)&&function Fh(t,n,i){const c=i.directiveStart,p=i.directiveEnd,E=i.index,I=function Wi(){return Mt.lFrame.currentDirectiveIndex}();try{Te(E);for(let O=c;O<p;O++){const H=t.data[O],q=n[O];br(O),(null!==H.hostBindings||0!==H.hostVars||null!==H.hostAttrs)&&Ed(H,q)}}finally{Te(-1),br(I)}}(t,n,i))}function Oh(t,n,i=Sn){const c=n.localNames;if(null!==c){let p=n.index+1;for(let y=0;y<c.length;y+=2){const E=c[y+1],I=-1===E?i(n,t):t[E];t[p++]=I}}}function Df(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ja(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function ja(t,n,i,c,p,y,E,I,O,H){const q=20+c,re=q+p,de=function Lp(t,n){const i=[];for(let c=0;c<n;c++)i.push(c<t?null:Qt);return i}(q,re),Ie="function"==typeof H?H():H;return de[1]={type:t,blueprint:de,template:i,queries:null,viewQuery:I,declTNode:n,data:de.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:O,consts:Ie,incompleteFirstPass:!1}}function xh(t,n,i,c){const p=Id(n);null===i?p.push(c):(p.push(i),t.firstCreatePass&&pu(t).push(c,p.length-1))}function vd(t,n,i){for(let c in t)if(t.hasOwnProperty(c)){const p=t[c];(i=null===i?{}:i).hasOwnProperty(c)?i[c].push(n,p):i[c]=[n,p]}return i}function hc(t,n,i,c){let p=!1;if(lr()){const y=function kh(t,n,i){const c=t.directiveRegistry;let p=null;if(c)for(let y=0;y<c.length;y++){const E=c[y];wh(i,E.selectors,!1)&&(p||(p=[]),Rr(ea(i,n),t,E.type),yn(E)?(nh(t,i),p.unshift(E)):p.push(E))}return p}(t,n,i),E=null===c?null:{"":-1};if(null!==y){p=!0,fp(i,t.data.length,y.length);for(let q=0;q<y.length;q++){const re=y[q];re.providersResolver&&re.providersResolver(re)}let I=!1,O=!1,H=Uc(t,n,y.length,null);for(let q=0;q<y.length;q++){const re=y[q];i.mergedAttrs=So(i.mergedAttrs,re.hostAttrs),Dd(t,i,n,H,re),lp(H,re,E),null!==re.contentQueries&&(i.flags|=8),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(i.flags|=128);const de=re.type.prototype;!I&&(de.ngOnChanges||de.ngOnInit||de.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i.index),I=!0),!O&&(de.ngOnChanges||de.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i.index),O=!0),H++}!function Xf(t,n){const c=n.directiveEnd,p=t.data,y=n.attrs,E=[];let I=null,O=null;for(let H=n.directiveStart;H<c;H++){const q=p[H],re=q.inputs,de=null===y||zf(n)?null:a(re,y);E.push(de),I=vd(re,H,I),O=vd(q.outputs,H,O)}null!==I&&(I.hasOwnProperty("class")&&(n.flags|=16),I.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=E,n.inputs=I,n.outputs=O}(t,i)}E&&function Lh(t,n,i){if(n){const c=t.localNames=[];for(let p=0;p<n.length;p+=2){const y=i[n[p+1]];if(null==y)throw new Ye(-301,!1);c.push(n[p],y)}}}(i,c,E)}return i.mergedAttrs=So(i.mergedAttrs,i.attrs),p}function eh(t,n,i,c,p,y){const E=y.hostBindings;if(E){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const O=~n.index;(function cp(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(I)!=O&&I.push(O),I.push(c,p,E)}}function Ed(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function nh(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function lp(t,n,i){if(i){if(n.exportAs)for(let c=0;c<n.exportAs.length;c++)i[n.exportAs[c]]=t;yn(n)&&(i[""]=t)}}function fp(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}function Dd(t,n,i,c,p){t.data[c]=p;const y=p.factory||(p.factory=ui(p.type)),E=new ws(y,yn(p),null);t.blueprint[c]=E,i[c]=E,eh(t,n,0,c,Uc(t,i,p.hostVars,Qt),p)}function rh(t,n,i){const c=Sn(n,t),p=Df(i),y=t[10],E=mt(t,Pl(t,p,null,i.onPush?64:16,c,n,y,y.createRenderer(c,i),null,null));t[n.index]=E}function Ua(t,n,i,c,p,y){const E=Sn(t,n);!function h(t,n,i,c,p,y,E){if(null==y)ot(t)?t.removeAttribute(n,p,i):n.removeAttribute(p);else{const I=null==E?U(y):E(y,c||"",p);ot(t)?t.setAttribute(n,p,I,i):i?n.setAttributeNS(i,p,I):n.setAttribute(p,I)}}(n[11],E,y,t.value,i,c,p)}function l(t,n,i,c,p,y){const E=y[n];if(null!==E){const I=c.setInput;for(let O=0;O<E.length;){const H=E[O++],q=E[O++],re=E[O++];null!==I?c.setInput(i,re,H,q):i[q]=re}}}function a(t,n){let i=null,c=0;for(;c<n.length;){const p=n[c];if(0!==p)if(5!==p){if("number"==typeof p)break;t.hasOwnProperty(p)&&(null===i&&(i=[]),i.push(p,t[p],n[c+1])),c+=2}else c+=2;else c+=4}return i}function C(t,n,i,c){return new Array(t,!0,!1,n,null,0,c,i,null,null)}function ne(t,n){const i=xt(n,t);if(lo(i)){const c=i[1];80&i[2]?Bc(c,i,c.template,i[8]):i[5]>0&&be(i)}}function be(t){for(let c=R(t);null!==c;c=W(c))for(let p=10;p<c.length;p++){const y=c[p];if(1024&y[2]){const E=y[1];Bc(E,y,E.template,y[8])}else y[5]>0&&be(y)}const i=t[1].components;if(null!==i)for(let c=0;c<i.length;c++){const p=xt(i[c],t);lo(p)&&p[5]>0&&be(p)}}function it(t,n){const i=xt(n,t),c=i[1];(function Ot(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])})(c,i),Fl(c,i,i[8])}function mt(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function qt(t){for(;t;){t[2]|=64;const n=w(t);if(si(t)&&!n)return t;t=n}return null}function Qi(t,n,i){const c=n[10];c.begin&&c.begin();try{Bc(t,n,t.template,i)}catch(p){throw Bp(n,p),p}finally{c.end&&c.end()}}function du(t){!function In(t){for(let n=0;n<t.components.length;n++){const i=t.components[n],c=fa(i),p=c[1];bf(p,c,p.template,i)}}(t[8])}function kl(t,n,i){To(0),n(t,i)}const Cd=(()=>Promise.resolve(null))();function Id(t){return t[7]||(t[7]=[])}function pu(t){return t.cleanup||(t.cleanup=[])}function Bp(t,n){const i=t[9],c=i?i.get(da,null):null;c&&c.handleError(n)}function Vh(t,n,i,c,p){for(let y=0;y<i.length;){const E=i[y++],I=i[y++],O=n[E],H=t.data[E];null!==H.setInput?H.setInput(O,p,c,I):O[I]=p}}function ya(t,n,i){const c=Zn(n,t);!function Fe(t,n,i){ot(t)?t.setValue(n,i):n.textContent=i}(t[11],c,i)}function jh(t,n,i){let c=i?t.styles:null,p=i?t.classes:null,y=0;if(null!==n)for(let E=0;E<n.length;E++){const I=n[E];"number"==typeof I?y=I:1==y?p=Re(p,I):2==y&&(c=Re(c,I+": "+n[++E]+";"))}i?t.styles=c:t.stylesWithoutHost=c,i?t.classes=p:t.classesWithoutHost=p}const Ii=new Fr("INJECTOR",-1);class qp{get(n,i=xa){if(i===xa){const c=new Error(`NullInjectorError: No provider for ${Me(n)}!`);throw c.name="NullInjectorError",c}return i}}const Ad=new Fr("Set Injector scope."),Uh={},Ig={};let hp;function Td(){return void 0===hp&&(hp=new qp),hp}function dp(t,n=null,i=null,c){const p=$p(t,n,i,c);return p._resolveInjectorDefTypes(),p}function $p(t,n=null,i=null,c){return new pp(t,i,n||Td(),c)}class pp{constructor(n,i,c,p=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];i&&Qo(i,I=>this.processProvider(I,n,i)),Qo([n],I=>this.processInjectorType(I,[],y)),this.records.set(Ii,ih(void 0,this));const E=this.records.get(Ad);this.scope=null!=E?E.value:null,this.source=p||("object"==typeof n?null:Me(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,i=xa,c=st.Default){this.assertNotDestroyed();const p=il(this),y=pe(void 0);try{if(!(c&st.SkipSelf)){let I=this.records.get(n);if(void 0===I){const O=function Zp(t){return"function"==typeof t||"object"==typeof t&&t instanceof Fr}(n)&&Bt(n);I=O&&this.injectableDefInScope(O)?ih(Bh(n),Uh):null,this.records.set(n,I)}if(null!=I)return this.hydrate(n,I)}return(c&st.Self?Td():this.parent).get(n,i=c&st.Optional&&i===xa?null:i)}catch(E){if("NullInjectorError"===E.name){if((E[Cs]=E[Cs]||[]).unshift(Me(n)),p)throw E;return function oa(t,n,i,c){const p=t[Cs];throw n[ra]&&p.unshift(n[ra]),t.message=function ol(t,n,i,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let p=Me(n);if(Array.isArray(n))p=n.map(Me).join(" -> ");else if("object"==typeof n){let y=[];for(let E in n)if(n.hasOwnProperty(E)){let I=n[E];y.push(E+":"+("string"==typeof I?JSON.stringify(I):Me(I)))}p=`{${y.join(", ")}}`}return`${i}${c?"("+c+")":""}[${p}]: ${t.replace(wc,"\n  ")}`}("\n"+t.message,p,i,c),t.ngTokenPath=p,t[Cs]=null,t}(E,n,"R3InjectorError",this.source)}throw E}finally{pe(y),il(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((c,p)=>n.push(Me(p))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ye(205,!1)}processInjectorType(n,i,c){if(!(n=Oe(n)))return!1;let p=mi(n);const y=null==p&&n.ngModule||void 0,E=void 0===y?n:y,I=-1!==c.indexOf(E);if(void 0!==y&&(p=mi(y)),null==p)return!1;if(null!=p.imports&&!I){let q;c.push(E);try{Qo(p.imports,re=>{this.processInjectorType(re,i,c)&&(void 0===q&&(q=[]),q.push(re))})}finally{}if(void 0!==q)for(let re=0;re<q.length;re++){const{ngModule:de,providers:Ie}=q[re];Qo(Ie,Ke=>this.processProvider(Ke,de,Ie||tn))}}this.injectorDefTypes.add(E);const O=ui(E)||(()=>new E);this.records.set(E,ih(O,Uh));const H=p.providers;if(null!=H&&!I){const q=n;Qo(H,re=>this.processProvider(re,q,H))}return void 0!==y&&void 0!==n.providers}processProvider(n,i,c){let p=mu(n=Oe(n))?n:Oe(n&&n.provide);const y=function gp(t,n,i){return mp(t)?ih(void 0,t.useValue):ih(gu(t),Uh)}(n);if(mu(n)||!0!==n.multi)this.records.get(p);else{let E=this.records.get(p);E||(E=ih(void 0,Uh,!0),E.factory=()=>go(E.multi),this.records.set(p,E)),p=n,E.multi.push(n)}this.records.set(p,y)}hydrate(n,i){return i.value===Uh&&(i.value=Ig,i.value=i.factory()),"object"==typeof i.value&&i.value&&function Yp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this.onDestroy.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Oe(n.providedIn);return"string"==typeof i?"any"===i||i===this.scope:this.injectorDefTypes.has(i)}}function Bh(t){const n=Bt(t),i=null!==n?n.factory:ui(t);if(null!==i)return i;if(t instanceof Fr)throw new Ye(204,!1);if(t instanceof Function)return function Ag(t){const n=t.length;if(n>0)throw function Hs(t,n){const i=[];for(let c=0;c<t;c++)i.push(n);return i}(n,"?"),new Ye(204,!1);const i=function En(t){const n=t&&(t[Ho]||t[jn]);if(n){const i=function pr(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),n}return null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Ye(204,!1)}function gu(t,n,i){let c;if(mu(t)){const p=Oe(t);return ui(p)||Bh(p)}if(mp(t))c=()=>Oe(t.useValue);else if(function Wp(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...go(t.deps||[]));else if(function zp(t){return!(!t||!t.useExisting)}(t))c=()=>xn(Oe(t.useExisting));else{const p=Oe(t&&(t.useClass||t.provide));if(!function Kp(t){return!!t.deps}(t))return ui(p)||Bh(p);c=()=>new p(...go(t.deps))}return c}function ih(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function mp(t){return null!==t&&"object"==typeof t&&qu in t}function mu(t){return"function"==typeof t}let yu=(()=>{class t{static create(i,c){var p;if(Array.isArray(i))return dp({name:""},c,i,"");{const y=null!==(p=i.name)&&void 0!==p?p:"";return dp({name:y},i.parent,i.providers,y)}}}return t.THROW_IF_NOT_FOUND=xa,t.NULL=new qp,t.\u0275prov=vt({token:t,providedIn:"any",factory:()=>xn(Ii)}),t.__NG_ELEMENT_ID__=-1,t})();function Ng(t,n){Jr(fa(t)[1],pn())}function Gh(t){let n=function Fd(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const c=[t];for(;n;){let p;if(yn(t))p=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ye(903,"");p=n.\u0275dir}if(p){if(i){c.push(p);const E=t;E.inputs=kd(t.inputs),E.declaredInputs=kd(t.declaredInputs),E.outputs=kd(t.outputs);const I=p.hostBindings;I&&rg(t,I);const O=p.viewQuery,H=p.contentQueries;if(O&&ng(t,O),H&&xg(t,H),ze(t.inputs,p.inputs),ze(t.declaredInputs,p.declaredInputs),ze(t.outputs,p.outputs),yn(p)&&p.data.animation){const q=t.data;q.animation=(q.animation||[]).concat(p.data.animation)}}const y=p.features;if(y)for(let E=0;E<y.length;E++){const I=y[E];I&&I.ngInherit&&I(t),I===Gh&&(i=!1)}}n=Object.getPrototypeOf(n)}!function tg(t){let n=0,i=null;for(let c=t.length-1;c>=0;c--){const p=t[c];p.hostVars=n+=p.hostVars,p.hostAttrs=So(p.hostAttrs,i=So(i,p.hostAttrs))}}(c)}function kd(t){return t===Un?{}:t===tn?[]:t}function ng(t,n){const i=t.viewQuery;t.viewQuery=i?(c,p)=>{n(c,p),i(c,p)}:n}function xg(t,n){const i=t.contentQueries;t.contentQueries=i?(c,p,y)=>{n(c,p,y),i(c,p,y)}:n}function rg(t,n){const i=t.hostBindings;t.hostBindings=i?(c,p)=>{n(c,p),i(c,p)}:n}let ah=null;function If(){if(!ah){const t=$t.Symbol;if(t&&t.iterator)ah=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<n.length;++i){const c=n[i];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(ah=c)}}}return ah}function Dt(t){return!!Vl(t)&&(Array.isArray(t)||!(t instanceof Map)&&If()in t)}function Vl(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function eo(t,n,i){return t[n]=i}function ls(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function jl(t,n,i,c){const p=Ze();return ls(p,Br(),n)&&(Ut(),Ua(Xe(),p,t,n,i,c)),jl}function Xt(t,n,i,c,p,y,E,I){const O=Ze(),H=Ut(),q=t+20,re=H.firstCreatePass?function et(t,n,i,c,p,y,E,I,O){const H=n.consts,q=Rl(n,t,4,E||null,xi(H,I));hc(n,i,q,xi(H,O)),Jr(n,q);const re=q.tViews=ja(2,q,c,p,y,n.directiveRegistry,n.pipeRegistry,null,n.schemas,H);return null!==n.queries&&(n.queries.template(n,q),re.queries=n.queries.embeddedTView(q)),q}(q,H,O,n,i,c,p,y,E):H.data[q];nn(re,!1);const de=O[11].createComment("");uc(H,O,de,re),Ir(de,O),mt(O,O[q]=C(de,O,de,re)),Rn(re)&&Qf(H,O,re),null!=E&&Oh(O,re,I)}function Ln(t){return jr(function Tu(){return Mt.lFrame.contextLView}(),20+t)}function Ep(t,n=st.Default){const i=Ze();return null===i?xn(t,n):Ta(pn(),i,Oe(t),n)}function ev(){throw new Error("invalid")}function Vg(t,n,i){const c=Ze();return ls(c,Br(),n)&&function cs(t,n,i,c,p,y,E,I){const O=Sn(n,i);let q,H=n.inputs;!I&&null!=H&&(q=H[c])?(Vh(t,i,q,c,p),Vt(n)&&function Ph(t,n){const i=xt(n,t);16&i[2]||(i[2]|=64)}(i,n.index)):3&n.type&&(c=function yd(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),p=null!=E?E(p,n.value||"",c):p,ot(y)?y.setProperty(O,c,p):Ou(c)||(O.setProperty?O.setProperty(c,p):O[c]=p))}(Ut(),Xe(),c,t,n,c[11],i,!1),Vg}function jg(t,n,i,c,p){const E=p?"class":"style";Vh(t,i,n.inputs[E],E,c)}function sg(t,n,i,c){const p=Ze(),y=Ut(),E=20+t,I=p[11],O=p[E]=yt(I,n,function Nr(){return Mt.lFrame.currentNamespace}()),H=y.firstCreatePass?function f0(t,n,i,c,p,y,E){const I=n.consts,H=Rl(n,t,2,p,xi(I,y));return hc(n,i,H,xi(I,E)),null!==H.attrs&&jh(H,H.attrs,!1),null!==H.mergedAttrs&&jh(H,H.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,H),H}(E,y,p,0,n,i,c):y.data[E];nn(H,!0);const q=H.mergedAttrs;null!==q&&qr(I,O,q);const re=H.classes;null!==re&&Gf(I,O,re);const de=H.styles;return null!==de&&Hf(I,O,de),64!=(64&H.flags)&&uc(y,p,O,H),0===function $i(){return Mt.lFrame.elementDepthCount}()&&Ir(O,p),function Ls(){Mt.lFrame.elementDepthCount++}(),Rn(H)&&(Qf(y,p,H),function Hc(t,n,i){if(Go(n)){const p=n.directiveEnd;for(let y=n.directiveStart;y<p;y++){const E=t.data[y];E.contentQueries&&E.contentQueries(1,i[y],y)}}}(y,H,p)),null!==c&&Oh(p,H),sg}function ag(){let t=pn();Zs()?function zi(){Mt.lFrame.isParent=!1}():(t=t.parent,nn(t,!1));const n=t;!function Ko(){Mt.lFrame.elementDepthCount--}();const i=Ut();return i.firstCreatePass&&(Jr(i,t),Go(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Mu(t){return 0!=(16&t.flags)}(n)&&jg(i,n,Ze(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Qs(t){return 0!=(32&t.flags)}(n)&&jg(i,n,Ze(),n.stylesWithoutHost,!1),ag}function Ug(t,n,i,c){return sg(t,n,i,c),ag(),Ug}function nv(){return Ze()}function Gg(t){return!!t&&"function"==typeof t.then}function rv(t){return!!t&&"function"==typeof t.subscribe}const iv=rv;function qg(t,n,i,c){const p=Ze(),y=Ut(),E=pn();return function sv(t,n,i,c,p,y,E,I){const O=Rn(c),q=t.firstCreatePass&&pu(t),re=n[8],de=Id(n);let Ie=!0;if(3&c.type||I){const ht=Sn(c,n),Et=I?I(ht):ht,Je=de.length,jt=I?Mn=>I(pt(Mn[c.index])):c.index;if(ot(i)){let Mn=null;if(!I&&O&&(Mn=function d0(t,n,i,c){const p=t.cleanup;if(null!=p)for(let y=0;y<p.length-1;y+=2){const E=p[y];if(E===i&&p[y+1]===c){const I=n[7],O=p[y+2];return I.length>O?I[O]:null}"string"==typeof E&&(y+=2)}return null}(t,n,p,c.index)),null!==Mn)(Mn.__ngLastListenerFn__||Mn).__ngNextListenerFn__=y,Mn.__ngLastListenerFn__=y,Ie=!1;else{y=$g(c,n,re,y,!1);const ir=i.listen(Et,p,y);de.push(y,ir),q&&q.push(p,jt,Je,Je+1)}}else y=$g(c,n,re,y,!0),Et.addEventListener(p,y,E),de.push(y),q&&q.push(p,jt,Je,E)}else y=$g(c,n,re,y,!1);const Ke=c.outputs;let at;if(Ie&&null!==Ke&&(at=Ke[p])){const ht=at.length;if(ht)for(let Et=0;Et<ht;Et+=2){const wu=n[at[Et]][at[Et+1]].subscribe(y),Wh=de.length;de.push(y,wu),q&&q.push(p,c.index,Wh,-(Wh+1))}}}(y,p,p[11],E,t,n,!!i,c),qg}function av(t,n,i,c){try{return!1!==i(c)}catch(p){return Bp(t,p),!1}}function $g(t,n,i,c,p){return function y(E){if(E===Function)return c;const I=2&t.flags?xt(t.index,n):n;0==(32&n[2])&&qt(I);let O=av(n,0,c,E),H=y.__ngNextListenerFn__;for(;H;)O=av(n,0,H,E)&&O,H=H.__ngNextListenerFn__;return p&&!1===O&&(E.preventDefault(),E.returnValue=!1),O}}function uv(t=1){return function L(t){return(Mt.lFrame.contextLView=function X(t,n){for(;t>0;)n=n[15],t--;return n}(t,Mt.lFrame.contextLView))[8]}(t)}function yv(t,n,i,c,p){const y=t[i+1],E=null===n;let I=c?ma(y):us(y),O=!1;for(;0!==I&&(!1===O||E);){const q=t[I+1];_0(t[I],n)&&(O=!0,t[I+1]=c?gf(q):bh(q)),I=c?ma(q):us(q)}O&&(t[i+1]=c?bh(y):gf(y))}function _0(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Jn(t,n)>=0}function Wg(t,n){return function zc(t,n,i,c){const p=Ze(),y=Ut(),E=function Hr(t){const n=Mt.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}(2);y.firstUpdatePass&&function Tv(t,n,i,c){const p=t.data;if(null===p[i+1]){const y=p[le()],E=function Av(t,n){return n>=t.expandoStartIndex}(t,i);(function Nv(t,n){return 0!=(t.flags&(n?16:32))})(y,c)&&null===n&&!E&&(n=!1),n=function S0(t,n,i,c){const p=function wi(t){const n=Mt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let y=c?n.residualClasses:n.residualStyles;if(null===p)0===(c?n.classBindings:n.styleBindings)&&(i=Dp(i=Kg(null,t,n,i,c),n.attrs,c),y=null);else{const E=n.directiveStylingLast;if(-1===E||t[E]!==p)if(i=Kg(p,t,n,i,c),null===y){let O=function M0(t,n,i){const c=i?n.classBindings:n.styleBindings;if(0!==us(c))return t[ma(c)]}(t,n,c);void 0!==O&&Array.isArray(O)&&(O=Kg(null,t,n,O[1],c),O=Dp(O,n.attrs,c),function O0(t,n,i,c){t[ma(i?n.classBindings:n.styleBindings)]=c}(t,n,c,O))}else y=function N0(t,n,i){let c;const p=n.directiveEnd;for(let y=1+n.directiveStylingLast;y<p;y++)c=Dp(c,t[y].hostAttrs,i);return Dp(c,n.attrs,i)}(t,n,c)}return void 0!==y&&(c?n.residualClasses=y:n.residualStyles=y),i}(p,y,n,c),function v0(t,n,i,c,p,y){let E=y?n.classBindings:n.styleBindings,I=ma(E),O=us(E);t[c]=i;let q,H=!1;if(Array.isArray(i)){const re=i;q=re[1],(null===q||Jn(re,q)>0)&&(H=!0)}else q=i;if(p)if(0!==O){const de=ma(t[I+1]);t[c+1]=Ml(de,I),0!==de&&(t[de+1]=Eh(t[de+1],c)),t[I+1]=function Jd(t,n){return 131071&t|n<<17}(t[I+1],c)}else t[c+1]=Ml(I,0),0!==I&&(t[I+1]=Eh(t[I+1],c)),I=c;else t[c+1]=Ml(O,0),0===I?I=c:t[O+1]=Eh(t[O+1],c),O=c;H&&(t[c+1]=bh(t[c+1])),yv(t,q,c,!0),yv(t,q,c,!1),function y0(t,n,i,c,p){const y=p?t.residualClasses:t.residualStyles;null!=y&&"string"==typeof n&&Jn(y,n)>=0&&(i[c+1]=gf(i[c+1]))}(n,q,t,c,y),E=Ml(I,O),y?n.classBindings=E:n.styleBindings=E}(p,y,n,i,E,c)}}(y,t,E,c),n!==Qt&&ls(p,E,n)&&function Mv(t,n,i,c,p,y,E,I){if(!(3&n.type))return;const O=t.data,H=O[I+1];ug(function Dh(t){return 1==(1&t)}(H)?Ov(O,n,i,p,us(H),E):void 0)||(ug(y)||function ad(t){return 2==(2&t)}(H)&&(y=Ov(O,null,i,p,I,E)),function Wd(t,n,i,c,p){const y=ot(t);if(n)p?y?t.addClass(i,c):i.classList.add(c):y?t.removeClass(i,c):i.classList.remove(c);else{let E=-1===c.indexOf("-")?void 0:s.DashCase;if(null==p)y?t.removeStyle(i,c,E):i.style.removeProperty(c);else{const I="string"==typeof p&&p.endsWith("!important");I&&(p=p.slice(0,-10),E|=s.Important),y?t.setStyle(i,c,p,E):i.style.setProperty(c,p,I?"important":"")}}}(c,E,Zn(le(),i),p,y))}(y,y.data[le()],p,p[11],t,p[E+1]=function R0(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Me(ko(t)))),t}(n,i),c,E)}(t,n,null,!0),Wg}function Kg(t,n,i,c,p){let y=null;const E=i.directiveEnd;let I=i.directiveStylingLast;for(-1===I?I=i.directiveStart:I++;I<E&&(y=n[I],c=Dp(c,y.hostAttrs,p),y!==t);)I++;return null!==t&&(i.directiveStylingLast=I),c}function Dp(t,n,i){const c=i?1:2;let p=-1;if(null!==n)for(let y=0;y<n.length;y++){const E=n[y];"number"==typeof E?p=E:p===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Vi(t,E,!!i||n[++y]))}return void 0===t?null:t}function Ov(t,n,i,c,p,y){const E=null===n;let I;for(;p>0;){const O=t[p],H=Array.isArray(O),q=H?O[1]:O,re=null===q;let de=i[p+1];de===Qt&&(de=re?tn:void 0);let Ie=re?Hu(de,c):q===c?de:void 0;if(H&&!ug(Ie)&&(Ie=Hu(O,c)),ug(Ie)&&(I=Ie,E))return I;const Ke=t[p+1];p=E?ma(Ke):us(Ke)}if(null!==n){let O=y?n.residualClasses:n.residualStyles;null!=O&&(I=Hu(O,c))}return I}function ug(t){return void 0!==t}function xv(t,n=""){const i=Ze(),c=Ut(),p=t+20,y=c.firstCreatePass?Rl(c,p,1,n,null):c.data[p],E=i[p]=function Ee(t,n){return ot(t)?t.createText(n):t.createTextNode(n)}(i[11],n);uc(c,i,E,y),nn(y,!1)}function Yg(t){return cg("",t,""),Yg}function cg(t,n,i){const c=Ze(),p=function Tf(t,n,i,c){return ls(t,Br(),i)?n+U(i)+c:Qt}(c,t,n,i);return p!==Qt&&ya(c,le(),p),cg}const $h=void 0;var ew=["en",[["a","p"],["AM","PM"],$h],[["AM","PM"],$h,$h],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$h,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$h,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$h,"{1} 'at' {0}",$h],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function X0(t){const i=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===c?1:5}];let Ud={};function Zg(t){const n=function tw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=Xv(n);if(i)return i;const c=n.split("-")[0];if(i=Xv(c),i)return i;if("en"===c)return ew;throw new Error(`Missing locale data for the locale "${t}".`)}function Qv(t){return Zg(t)[zt.PluralCase]}function Xv(t){return t in Ud||(Ud[t]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[t]),Ud[t]}var zt=(()=>((zt=zt||{})[zt.LocaleId=0]="LocaleId",zt[zt.DayPeriodsFormat=1]="DayPeriodsFormat",zt[zt.DayPeriodsStandalone=2]="DayPeriodsStandalone",zt[zt.DaysFormat=3]="DaysFormat",zt[zt.DaysStandalone=4]="DaysStandalone",zt[zt.MonthsFormat=5]="MonthsFormat",zt[zt.MonthsStandalone=6]="MonthsStandalone",zt[zt.Eras=7]="Eras",zt[zt.FirstDayOfWeek=8]="FirstDayOfWeek",zt[zt.WeekendRange=9]="WeekendRange",zt[zt.DateFormat=10]="DateFormat",zt[zt.TimeFormat=11]="TimeFormat",zt[zt.DateTimeFormat=12]="DateTimeFormat",zt[zt.NumberSymbols=13]="NumberSymbols",zt[zt.NumberFormats=14]="NumberFormats",zt[zt.CurrencyCode=15]="CurrencyCode",zt[zt.CurrencySymbol=16]="CurrencySymbol",zt[zt.CurrencyName=17]="CurrencyName",zt[zt.Currencies=18]="Currencies",zt[zt.Directionality=19]="Directionality",zt[zt.PluralCase=20]="PluralCase",zt[zt.ExtraData=21]="ExtraData",zt))();const lg="en-US";let ey=lg;function Xg(t,n,i,c,p){if(t=Oe(t),Array.isArray(t))for(let y=0;y<t.length;y++)Xg(t[y],n,i,c,p);else{const y=Ut(),E=Ze();let I=mu(t)?t:Oe(t.provide),O=gu(t);const H=pn(),q=1048575&H.providerIndexes,re=H.directiveStart,de=H.providerIndexes>>20;if(mu(t)||!t.multi){const Ie=new ws(O,p,Ep),Ke=tm(I,n,p?q:q+de,re);-1===Ke?(Rr(ea(H,E),y,I),em(y,t,n.length),n.push(I),H.directiveStart++,H.directiveEnd++,p&&(H.providerIndexes+=1048576),i.push(Ie),E.push(Ie)):(i[Ke]=Ie,E[Ke]=Ie)}else{const Ie=tm(I,n,q+de,re),Ke=tm(I,n,q,q+de),at=Ie>=0&&i[Ie],ht=Ke>=0&&i[Ke];if(p&&!ht||!p&&!at){Rr(ea(H,E),y,I);const Et=function Xw(t,n,i,c,p){const y=new ws(t,i,Ep);return y.multi=[],y.index=n,y.componentProviders=0,Cy(y,p,c&&!i),y}(p?Qw:Jw,i.length,p,c,O);!p&&ht&&(i[Ke].providerFactory=Et),em(y,t,n.length,0),n.push(I),H.directiveStart++,H.directiveEnd++,p&&(H.providerIndexes+=1048576),i.push(Et),E.push(Et)}else em(y,t,Ie>-1?Ie:Ke,Cy(i[p?Ke:Ie],O,!p&&c));!p&&c&&ht&&i[Ke].componentProviders++}}}function em(t,n,i,c){const p=mu(n),y=function vu(t){return!!t.useClass}(n);if(p||y){const O=(y?Oe(n.useClass):n).prototype.ngOnDestroy;if(O){const H=t.destroyHooks||(t.destroyHooks=[]);if(!p&&n.multi){const q=H.indexOf(i);-1===q?H.push(i,[c,O]):H[q+1].push(c,O)}else H.push(i,O)}}}function Cy(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function tm(t,n,i,c){for(let p=i;p<c;p++)if(n[p]===t)return p;return-1}function Jw(t,n,i,c){return nm(this.multi,[])}function Qw(t,n,i,c){const p=this.multi;let y;if(this.providerFactory){const E=this.providerFactory.componentProviders,I=Fi(i,i[1],this.providerFactory.index,c);y=I.slice(0,E),nm(p,y);for(let O=E;O<I.length;O++)y.push(I[O])}else y=[],nm(p,y);return y}function nm(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function Iy(t,n=[]){return i=>{i.providersResolver=(c,p)=>function Zw(t,n,i){const c=Ut();if(c.firstCreatePass){const p=yn(t);Xg(i,c.data,c.blueprint,p,!0),Xg(n,c.data,c.blueprint,p,!1)}}(c,p?p(t):t,n)}}class Ay{}class nb{resolveComponentFactory(n){throw function tb(t){const n=Error(`No component factory found for ${Me(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let gg=(()=>{class t{}return t.NULL=new nb,t})();function rb(){return Hd(pn(),Ze())}function Hd(t,n){return new Sp(Sn(t,n))}let Sp=(()=>{class t{constructor(i){this.nativeElement=i}}return t.__NG_ELEMENT_ID__=rb,t})();function ib(t){return t instanceof Sp?t.nativeElement:t}class Sy{}let ob=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function ab(){const t=Ze(),i=xt(pn().index,t);return function sb(t){return t[11]}(an(i)?i:t)}(),t})(),ub=(()=>{class t{}return t.\u0275prov=vt({token:t,providedIn:"root",factory:()=>null}),t})();class My{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Oy=new My("13.3.2"),rm={};function mg(t,n,i,c,p=!1){for(;null!==i;){const y=n[i.index];if(null!==y&&c.push(pt(y)),Vr(y))for(let I=10;I<y.length;I++){const O=y[I],H=O[1].firstChild;null!==H&&mg(O[1],O,H,c)}const E=i.type;if(8&E)mg(t,n,i.child,c);else if(32&E){const I=o(i,n);let O;for(;O=I();)c.push(O)}else if(16&E){const I=zd(n,i);if(Array.isArray(I))c.push(...I);else{const O=w(n[16]);mg(O[1],O,I,c,!0)}}i=p?i.projectionNext:i.next}return c}class Mp{constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,i=n[1];return mg(i,n,i.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Vr(n)){const i=n[8],c=i?i.indexOf(this):-1;c>-1&&(Uo(n,c),Ja(i,c))}this._attachedToViewContainer=!1}ga(this._lView[1],this._lView)}onDestroy(n){xh(this._lView[1],this._lView,null,n)}markForCheck(){qt(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Qi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Ci(t,n,i){Vs(!0);try{Qi(t,n,i)}finally{Vs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ye(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Yt(t,n){Al(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ye(902,"");this._appRef=n}}class cb extends Mp{constructor(n){super(n),this._view=n}detectChanges(){du(this._view)}checkNoChanges(){!function va(t){Vs(!0);try{du(t)}finally{Vs(!1)}}(this._view)}get context(){return null}}class Ny extends gg{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Ft(n);return new im(i,this.ngModule)}}function xy(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class im extends Ay{constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Zd(t){return t.map(id).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return xy(this.componentDef.inputs)}get outputs(){return xy(this.componentDef.outputs)}create(n,i,c,p){const y=(p=p||this.ngModule)?function fb(t,n){return{get:(i,c,p)=>{const y=t.get(i,rm,p);return y!==rm||c===rm?y:n.get(i,c,p)}}}(n,p.injector):n,E=y.get(Sy,vn),I=y.get(ub,null),O=E.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",q=c?function Nh(t,n,i){if(ot(t))return t.selectRootElement(n,i===tt.ShadowDom);let c="string"==typeof n?t.querySelector(n):n;return c.textContent="",c}(O,c,this.componentDef.encapsulation):yt(E.createRenderer(null,this.componentDef),H,function lb(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?z:null}(H)),re=this.componentDef.onPush?576:528,de=function Rd(t,n){return{components:[],scheduler:t||Pc,clean:Cd,playerHandler:n||null,flags:0}}(),Ie=ja(0,null,null,1,0,null,null,null,null,null),Ke=Pl(null,Ie,de,re,null,null,E,O,I,y);let at,ht;Ri(Ke);try{const Et=function xd(t,n,i,c,p,y){const E=i[1];i[20]=t;const O=Rl(E,20,2,"#host",null),H=O.mergedAttrs=n.hostAttrs;null!==H&&(jh(O,H,!0),null!==t&&(qr(p,t,H),null!==O.classes&&Gf(p,t,O.classes),null!==O.styles&&Hf(p,t,O.styles)));const q=c.createRenderer(t,n),re=Pl(i,Df(n),null,n.onPush?64:16,i[20],O,c,q,y||null,null);return E.firstCreatePass&&(Rr(ea(O,i),E,n.type),nh(E,O),fp(O,i.length,1)),mt(i,re),i[20]=re}(q,this.componentDef,Ke,E,O);if(q)if(c)qr(O,q,["ng-version",Oy.full]);else{const{attrs:Je,classes:jt}=function Lc(t){const n=[],i=[];let c=1,p=2;for(;c<t.length;){let y=t[c];if("string"==typeof y)2===p?""!==y&&n.push(y,t[++c]):8===p&&i.push(y);else{if(!pi(p))break;p=y}c++}return{attrs:n,classes:i}}(this.componentDef.selectors[0]);Je&&qr(O,q,Je),jt&&jt.length>0&&Gf(O,q,jt.join(" "))}if(ht=dn(Ie,20),void 0!==i){const Je=ht.projection=[];for(let jt=0;jt<this.ngContentSelectors.length;jt++){const Mn=i[jt];Je.push(null!=Mn?Array.from(Mn):null)}}at=function Pd(t,n,i,c,p){const y=i[1],E=function bd(t,n,i){const c=pn();t.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),Dd(t,c,n,Uc(t,n,1,null),i));const p=Fi(n,t,c.directiveStart,c);Ir(p,n);const y=Sn(c,n);return y&&Ir(y,n),p}(y,i,n);if(c.components.push(E),t[8]=E,p&&p.forEach(O=>O(E,n)),n.contentQueries){const O=pn();n.contentQueries(1,E,O.directiveStart)}const I=pn();return!y.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Te(I.index),eh(i[1],I,0,I.directiveStart,I.directiveEnd,n),Ed(n,E)),E}(Et,this.componentDef,Ke,de,[Ng]),Fl(Ie,Ke,null)}finally{S()}return new db(this.componentType,at,Hd(ht,Ke),Ke,ht)}}class db extends class eb{}{constructor(n,i,c,p,y){super(),this.location=c,this._rootLView=p,this._tNode=y,this.instance=i,this.hostView=this.changeDetectorRef=new cb(p),this.componentType=n}get injector(){return new ta(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class Gd{}class Py{}const qd=new Map;class ky extends Gd{constructor(n,i){super(),this._parent=i,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ny(this);const c=kr(n);this._bootstrapComponents=pa(c.bootstrap),this._r3Injector=$p(n,i,[{provide:Gd,useValue:this},{provide:gg,useValue:this.componentFactoryResolver}],Me(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,i=yu.THROW_IF_NOT_FOUND,c=st.Default){return n===yu||n===Gd||n===Ii?this:this._r3Injector.get(n,i,c)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class om extends Py{constructor(n){super(),this.moduleType=n,null!==kr(n)&&function gb(t){const n=new Set;!function i(c){const p=kr(c,!0),y=p.id;null!==y&&(function Ry(t,n,i){if(n&&n!==i)throw new Error(`Duplicate module registered for ${t} - ${Me(n)} vs ${Me(n.name)}`)}(y,qd.get(y),c),qd.set(y,c));const E=pa(p.imports);for(const I of E)n.has(I)||(n.add(I),i(I))}(t)}(n)}create(n){return new ky(this.moduleType,n)}}function Ly(t,n,i){const c=Ur()+t,p=Ze();return p[c]===Qt?eo(p,c,i?n.call(i):n()):function qh(t,n){return t[n]}(p,c)}function Op(t,n){const i=t[n];return i===Qt?void 0:i}function jy(t,n,i,c,p,y,E){const I=n+i;return function Af(t,n,i,c){const p=ls(t,n,i);return ls(t,n+1,c)||p}(t,I,p,y)?eo(t,I+2,E?c.call(E,p,y):c(p,y)):Op(t,I+2)}function Gy(t,n){const i=Ut();let c;const p=t+20;i.firstCreatePass?(c=function Ib(t,n){if(n)for(let i=n.length-1;i>=0;i--){const c=n[i];if(t===c.name)return c}}(n,i.pipeRegistry),i.data[p]=c,c.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(p,c.onDestroy)):c=i.data[p];const y=c.factory||(c.factory=ui(c.type)),E=pe(Ep);try{const I=xu(!1),O=y();return xu(I),function er(t,n,i,c){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=c}(i,Ze(),p,O),O}finally{pe(E)}}function qy(t,n,i){const c=t+20,p=Ze(),y=jr(p,c);return Np(p,c)?function Vy(t,n,i,c,p,y){const E=n+i;return ls(t,E,p)?eo(t,E+1,y?c.call(y,p):c(p)):Op(t,E+1)}(p,Ur(),n,y.transform,i,y):y.transform(i)}function $y(t,n,i,c){const p=t+20,y=Ze(),E=jr(y,p);return Np(y,p)?jy(y,Ur(),n,E.transform,i,c,E):E.transform(i,c)}function Np(t,n){return t[1].data[n].pure}function sm(t){return n=>{setTimeout(t,void 0,n)}}const Gl=class Mb extends ye.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,c){var p,y,E;let I=n,O=i||(()=>null),H=c;if(n&&"object"==typeof n){const re=n;I=null===(p=re.next)||void 0===p?void 0:p.bind(re),O=null===(y=re.error)||void 0===y?void 0:y.bind(re),H=null===(E=re.complete)||void 0===E?void 0:E.bind(re)}this.__isAsync&&(O=sm(O),I&&(I=sm(I)),H&&(H=sm(H)));const q=super.subscribe({next:I,error:O,complete:H});return n instanceof xe.w0&&n.add(q),q}};function Ob(){return this._results[If()]()}class am{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=If(),c=am.prototype;c[i]||(c[i]=Ob)}get changes(){return this._changes||(this._changes=new Gl)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const c=this;c.dirty=!1;const p=Xr(n);(this._changesDetected=!function Of(t,n,i){if(t.length!==n.length)return!1;for(let c=0;c<t.length;c++){let p=t[c],y=n[c];if(i&&(p=i(p),y=i(y)),y!==p)return!1}return!0}(c._results,p,i))&&(c._results=p,c.length=p.length,c.last=p[this.length-1],c.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let xp=(()=>{class t{}return t.__NG_ELEMENT_ID__=Pb,t})();const Nb=xp,xb=class extends Nb{constructor(n,i,c){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=c}createEmbeddedView(n){const i=this._declarationTContainer.tViews,c=Pl(this._declarationLView,i,n,16,null,i.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(c[19]=y.createEmbeddedView(i)),Fl(i,c,n),new Mp(c)}};function Pb(){return vg(pn(),Ze())}function vg(t,n){return 4&t.type?new xb(n,t,Hd(t,n)):null}let yg=(()=>{class t{}return t.__NG_ELEMENT_ID__=Rb,t})();function Rb(){return Ky(pn(),Ze())}const Fb=yg,zy=class extends Fb{constructor(n,i,c){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=c}get element(){return Hd(this._hostTNode,this._hostLView)}get injector(){return new ta(this._hostTNode,this._hostLView)}get parentInjector(){const n=_t(this._hostTNode,this._hostLView);if(Zc(n)){const i=zn(n,this._hostLView),c=qa(n);return new ta(i[1].data[c+8],i)}return new ta(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=Wy(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,i,c){const p=n.createEmbeddedView(i||{});return this.insert(p,c),p}createComponent(n,i,c,p,y){const E=n&&!function Za(t){return"function"==typeof t}(n);let I;if(E)I=i;else{const re=i||{};I=re.index,c=re.injector,p=re.projectableNodes,y=re.ngModuleRef}const O=E?n:new im(Ft(n)),H=c||this.parentInjector;if(!y&&null==O.ngModule){const de=(E?H:this.parentInjector).get(Gd,null);de&&(y=de)}const q=O.create(H,p,void 0,y);return this.insert(q.hostView,I),q}insert(n,i){const c=n._lView,p=c[1];if(function Ni(t){return Vr(t[3])}(c)){const q=this.indexOf(n);if(-1!==q)this.detach(q);else{const re=c[3],de=new zy(re,re[6],re[3]);de.detach(de.indexOf(n))}}const y=this._adjustIndex(i),E=this._lContainer;!function Gn(t,n,i,c){const p=10+c,y=i.length;c>0&&(i[p-1][4]=n),c<y-10?(n[4]=i[p],Bs(i,10+c,n)):(i.push(n),n[4]=null),n[3]=i;const E=n[17];null!==E&&i!==E&&function Wn(t,n){const i=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===i?t[9]=[n]:i.push(n)}(E,n);const I=n[19];null!==I&&I.insertView(t),n[2]|=128}(p,c,E,y);const I=vh(y,E),O=c[11],H=Il(O,E[7]);return null!==H&&function Nt(t,n,i,c,p,y){c[0]=p,c[6]=n,Al(t,c,i,1,p,y)}(p,E[6],O,c,H,I),n.attachToViewContainerRef(),Bs(um(E),y,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=Wy(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),c=Uo(this._lContainer,i);c&&(Ja(um(this._lContainer),i),ga(c[1],c))}detach(n){const i=this._adjustIndex(n,-1),c=Uo(this._lContainer,i);return c&&null!=Ja(um(this._lContainer),i)?new Mp(c):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function Wy(t){return t[8]}function um(t){return t[8]||(t[8]=[])}function Ky(t,n){let i;const c=n[t.index];if(Vr(c))i=c;else{let p;if(8&t.type)p=pt(c);else{const y=n[11];p=y.createComment("");const E=Sn(t,n);ka(y,Il(y,E),p,function gh(t,n){return ot(t)?t.nextSibling(n):n.nextSibling}(y,E),!1)}n[t.index]=i=C(c,n,p,t),mt(n,i)}return new zy(i,t,n)}class cm{constructor(n){this.queryList=n,this.matches=null}clone(){return new cm(this.queryList)}setDirty(){this.queryList.setDirty()}}class lm{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const c=null!==n.contentQueries?n.contentQueries[0]:i.length,p=[];for(let y=0;y<c;y++){const E=i.getByIndex(y);p.push(this.queries[E.indexInDeclarationView].clone())}return new lm(p)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==n_(n,i).matches&&this.queries[i].setDirty()}}class Yy{constructor(n,i,c=null){this.predicate=n,this.flags=i,this.read=c}}class fm{constructor(n=[]){this.queries=n}elementStart(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let c=0;c<this.length;c++){const p=null!==i?i.length:0,y=this.getByIndex(c).embeddedTView(n,p);y&&(y.indexInDeclarationView=c,null!==i?i.push(y):i=[y])}return null!==i?new fm(i):null}template(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class hm{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new hm(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let c=n.parent;for(;null!==c&&8&c.type&&c.index!==i;)c=c.parent;return i===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const c=this.metadata.predicate;if(Array.isArray(c))for(let p=0;p<c.length;p++){const y=c[p];this.matchTNodeWithReadOption(n,i,Vb(i,y)),this.matchTNodeWithReadOption(n,i,No(i,n,y,!1,!1))}else c===xp?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,No(i,n,c,!1,!1))}matchTNodeWithReadOption(n,i,c){if(null!==c){const p=this.metadata.read;if(null!==p)if(p===Sp||p===yg||p===xp&&4&i.type)this.addMatch(i.index,-2);else{const y=No(i,n,p,!1,!1);null!==y&&this.addMatch(i.index,y)}else this.addMatch(i.index,c)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function Vb(t,n){const i=t.localNames;if(null!==i)for(let c=0;c<i.length;c+=2)if(i[c]===n)return i[c+1];return null}function Ub(t,n,i,c){return-1===i?function jb(t,n){return 11&t.type?Hd(t,n):4&t.type?vg(t,n):null}(n,t):-2===i?function Bb(t,n,i){return i===Sp?Hd(n,t):i===xp?vg(n,t):i===yg?Ky(n,t):void 0}(t,n,c):Fi(t,t[1],i,n)}function Zy(t,n,i,c){const p=n[19].queries[c];if(null===p.matches){const y=t.data,E=i.matches,I=[];for(let O=0;O<E.length;O+=2){const H=E[O];I.push(H<0?null:Ub(n,y[H],E[O+1],i.metadata.read))}p.matches=I}return p.matches}function dm(t,n,i,c){const p=t.queries.getByIndex(i),y=p.matches;if(null!==y){const E=Zy(t,n,p,i);for(let I=0;I<y.length;I+=2){const O=y[I];if(O>0)c.push(E[I/2]);else{const H=y[I+1],q=n[-O];for(let re=10;re<q.length;re++){const de=q[re];de[17]===de[3]&&dm(de[1],de,H,c)}if(null!==q[9]){const re=q[9];for(let de=0;de<re.length;de++){const Ie=re[de];dm(Ie[1],Ie,H,c)}}}}}return c}function Jy(t){const n=Ze(),i=Ut(),c=nt();To(c+1);const p=n_(i,c);if(t.dirty&&on(n)===(2==(2&p.metadata.flags))){if(null===p.matches)t.reset([]);else{const y=p.crossesNgTemplate?dm(i,n,c,[]):Zy(i,n,p,c);t.reset(y,ib),t.notifyOnChanges()}return!0}return!1}function Qy(t,n,i,c){const p=Ut();if(p.firstCreatePass){const y=pn();(function t_(t,n,i){null===t.queries&&(t.queries=new fm),t.queries.track(new hm(n,i))})(p,new Yy(n,i,c),y.index),function qb(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(p,t),2==(2&i)&&(p.staticContentQueries=!0)}!function e_(t,n,i){const c=new am(4==(4&i));xh(t,n,c,c.destroy),null===n[19]&&(n[19]=new lm),n[19].queries.push(new cm(c))}(p,Ze(),i)}function Xy(){return function Gb(t,n){return t[19].queries[n].queryList}(Ze(),nt())}function n_(t,n){return t.queries.getByIndex(n)}function bg(...t){}const __=new Fr("Application Initializer");let _m=(()=>{class t{constructor(i){this.appInits=i,this.resolve=bg,this.reject=bg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,p)=>{this.resolve=c,this.reject=p})}runInitializers(){if(this.initialized)return;const i=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const y=this.appInits[p]();if(Gg(y))i.push(y);else if(iv(y)){const E=new Promise((I,O)=>{y.subscribe({complete:I,error:O})});i.push(E)}}Promise.all(i).then(()=>{c()}).catch(p=>{this.reject(p)}),0===i.length&&c(),this.initialized=!0}}return t.\u0275fac=function(i){return new(i||t)(xn(__,8))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const w_=new Fr("AppId",{providedIn:"root",factory:function b_(){return`${wm()}${wm()}${wm()}`}});function wm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const E_=new Fr("Platform Initializer"),D_=new Fr("Platform ID"),C_=new Fr("appBootstrapListener");let I_=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();const bm=new Fr("LocaleId",{providedIn:"root",factory:()=>Pf(bm,st.Optional|st.SkipSelf)||function uE(){return"undefined"!=typeof $localize&&$localize.locale||lg}()}),cE=new Fr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class lE{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let fE=(()=>{class t{compileModuleSync(i){return new om(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const c=this.compileModuleSync(i),y=pa(kr(i).declarations).reduce((E,I)=>{const O=Ft(I);return O&&E.push(new im(O)),E},[]);return new lE(c,y)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const dE=(()=>Promise.resolve(0))();function Em(t){"undefined"==typeof Zone?dE.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Kc{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gl(!1),this.onMicrotaskEmpty=new Gl(!1),this.onStable=new Gl(!1),this.onError=new Gl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!c&&i,p.shouldCoalesceRunChangeDetection=c,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function pE(){let t=$t.requestAnimationFrame,n=$t.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const c=n[Zone.__symbol__("OriginalDelegate")];c&&(n=c)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function vE(t){const n=()=>{!function mE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($t,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Cm(t),t.isCheckStableRunning=!0,Dm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Cm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,c,p,y,E,I)=>{try{return A_(t),i.invokeTask(p,y,E,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||t.shouldCoalesceRunChangeDetection)&&n(),T_(t)}},onInvoke:(i,c,p,y,E,I,O)=>{try{return A_(t),i.invoke(p,y,E,I,O)}finally{t.shouldCoalesceRunChangeDetection&&n(),T_(t)}},onHasTask:(i,c,p,y)=>{i.hasTask(p,y),c===p&&("microTask"==y.change?(t._hasPendingMicrotasks=y.microTask,Cm(t),Dm(t)):"macroTask"==y.change&&(t.hasPendingMacrotasks=y.macroTask))},onHandleError:(i,c,p,y)=>(i.handleError(p,y),t.runOutsideAngular(()=>t.onError.emit(y)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Kc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Kc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,i,c){return this._inner.run(n,i,c)}runTask(n,i,c,p){const y=this._inner,E=y.scheduleEventTask("NgZoneEvent: "+p,n,gE,bg,bg);try{return y.runTask(E,i,c)}finally{y.cancelTask(E)}}runGuarded(n,i,c){return this._inner.runGuarded(n,i,c)}runOutsideAngular(n){return this._outer.run(n)}}const gE={};function Dm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Cm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function A_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function T_(t){t._nesting--,Dm(t)}class yE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gl,this.onMicrotaskEmpty=new Gl,this.onStable=new Gl,this.onError=new Gl}run(n,i,c){return n.apply(i,c)}runGuarded(n,i,c){return n.apply(i,c)}runOutsideAngular(n){return n()}runTask(n,i,c,p){return n.apply(i,c)}}let S_=(()=>{class t{constructor(i){this._ngZone=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Kc.assertNotInAngularZone(),Em(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Em(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(i)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,c,p){let y=-1;c&&c>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==y),i(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:i,timeoutId:y,updateCb:p})}whenStable(i,c,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,c,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(i,c,p){return[]}}return t.\u0275fac=function(i){return new(i||t)(xn(Kc))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})(),M_=(()=>{class t{constructor(){this._applications=new Map,Im.addToWindow(this)}registerApplication(i,c){this._applications.set(i,c)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,c=!0){return Im.findTestabilityInTree(this,i,c)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();class _E{addToWindow(n){}findTestabilityInTree(n,i,c){return null}}function wE(t){Im=t}let Yc,Im=new _E;const O_=new Fr("AllowMultipleToken");class DE{constructor(n,i){this.name=n,this.token=i}}function N_(t,n,i=[]){const c=`Platform: ${n}`,p=new Fr(c);return(y=[])=>{let E=x_();if(!E||E.injector.get(O_,!1))if(t)t(i.concat(y).concat({provide:p,useValue:!0}));else{const I=i.concat(y).concat({provide:p,useValue:!0},{provide:Ad,useValue:"platform"});!function CE(t){if(Yc&&!Yc.destroyed&&!Yc.injector.get(O_,!1))throw new Ye(400,"");Yc=t.get(P_);const n=t.get(E_,null);n&&n.forEach(i=>i())}(yu.create({providers:I,name:c}))}return function IE(t){const n=x_();if(!n)throw new Ye(401,"");return n}()}}function x_(){return Yc&&!Yc.destroyed?Yc:null}let P_=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,c){const I=function AE(t,n){let i;return i="noop"===t?new yE:("zone.js"===t?void 0:t)||new Kc({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),i}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),O=[{provide:Kc,useValue:I}];return I.run(()=>{const H=yu.create({providers:O,parent:this.injector,name:i.moduleType.name}),q=i.create(H),re=q.injector.get(da,null);if(!re)throw new Ye(402,"");return I.runOutsideAngular(()=>{const de=I.onError.subscribe({next:Ie=>{re.handleError(Ie)}});q.onDestroy(()=>{Tm(this._modules,q),de.unsubscribe()})}),function TE(t,n,i){try{const c=i();return Gg(c)?c.catch(p=>{throw n.runOutsideAngular(()=>t.handleError(p)),p}):c}catch(c){throw n.runOutsideAngular(()=>t.handleError(c)),c}}(re,I,()=>{const de=q.injector.get(_m);return de.runInitializers(),de.donePromise.then(()=>(function ow(t){Lt(t,"Expected localeId to be defined"),"string"==typeof t&&(ey=t.toLowerCase().replace(/_/g,"-"))}(q.injector.get(bm,lg)||lg),this._moduleDoBootstrap(q),q))})})}bootstrapModule(i,c=[]){const p=R_({},c);return function bE(t,n,i){const c=new om(i);return Promise.resolve(c)}(0,0,i).then(y=>this.bootstrapModuleFactory(y,p))}_moduleDoBootstrap(i){const c=i.injector.get(Am);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(p=>c.bootstrap(p));else{if(!i.instance.ngDoBootstrap)throw new Ye(403,"");i.instance.ngDoBootstrap(c)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ye(404,"");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(i){return new(i||t)(xn(yu))},t.\u0275prov=vt({token:t,factory:t.\u0275fac}),t})();function R_(t,n){return Array.isArray(n)?n.reduce(R_,t):Object.assign(Object.assign({},t),n)}let Am=(()=>{class t{constructor(i,c,p,y,E){this._zone=i,this._injector=c,this._exceptionHandler=p,this._componentFactoryResolver=y,this._initStatus=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const I=new ge.y(H=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{H.next(this._stable),H.complete()})}),O=new ge.y(H=>{let q;this._zone.runOutsideAngular(()=>{q=this._zone.onStable.subscribe(()=>{Kc.assertNotInAngularZone(),Em(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,H.next(!0))})})});const re=this._zone.onUnstable.subscribe(()=>{Kc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{H.next(!1)}))});return()=>{q.unsubscribe(),re.unsubscribe()}});this.isStable=function je(...t){const n=(0,Ae.yG)(t),i=(0,Ae._6)(t,1/0),c=t;return c.length?1===c.length?(0,d.Xf)(c[0]):(0,k.J)(i)((0,ae.D)(c,n)):Se.E}(I,O.pipe(function De(t={}){const{connector:n=(()=>new ye.x),resetOnError:i=!0,resetOnComplete:c=!0,resetOnRefCountZero:p=!0}=t;return y=>{let E=null,I=null,O=null,H=0,q=!1,re=!1;const de=()=>{null==I||I.unsubscribe(),I=null},Ie=()=>{de(),E=O=null,q=re=!1},Ke=()=>{const at=E;Ie(),null==at||at.unsubscribe()};return(0,me.e)((at,ht)=>{H++,!re&&!q&&de();const Et=O=null!=O?O:n();ht.add(()=>{H--,0===H&&!re&&!q&&(I=se(Ke,p))}),Et.subscribe(ht),E||(E=new Q.Hp({next:Je=>Et.next(Je),error:Je=>{re=!0,de(),I=se(Ie,i,Je),Et.error(Je)},complete:()=>{q=!0,de(),I=se(Ie,c),Et.complete()}}),(0,ae.D)(at).subscribe(E))})(y)}}()))}bootstrap(i,c){if(!this._initStatus.done)throw new Ye(405,"");let p;p=i instanceof Ay?i:this._componentFactoryResolver.resolveComponentFactory(i),this.componentTypes.push(p.componentType);const y=function EE(t){return t.isBoundToModule}(p)?void 0:this._injector.get(Gd),I=p.create(yu.NULL,[],c||p.selector,y),O=I.location.nativeElement,H=I.injector.get(S_,null),q=H&&I.injector.get(M_);return H&&q&&q.registerApplication(O,H),I.onDestroy(()=>{this.detachView(I.hostView),Tm(this.components,I),q&&q.unregisterApplication(O)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new Ye(101,"");try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const c=i;this._views.push(c),c.attachToAppRef(this)}detachView(i){const c=i;Tm(this._views,c),c.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(C_,[]).concat(this._bootstrapListeners).forEach(p=>p(i))}ngOnDestroy(){this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(i){return new(i||t)(xn(Kc),xn(yu),xn(da),xn(gg),xn(_m))},t.\u0275prov=vt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Tm(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}let k_=!0;function ME(){k_=!1}let OE=(()=>{class t{}return t.__NG_ELEMENT_ID__=NE,t})();function NE(t){return function xE(t,n,i){if(Vt(t)&&!i){const c=xt(t.index,n);return new Mp(c,c)}return 47&t.type?new Mp(n[16],n):null}(pn(),Ze(),16==(16&t))}class B_{constructor(){}supports(n){return Dt(n)}create(n){return new VE(n)}}const LE=(t,n)=>n;class VE{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||LE}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,c=this._removalsHead,p=0,y=null;for(;i||c;){const E=!c||i&&i.currentIndex<G_(c,p,y)?i:c,I=G_(E,p,y),O=E.currentIndex;if(E===c)p--,c=c._nextRemoved;else if(i=i._next,null==E.previousIndex)p++;else{y||(y=[]);const H=I-p,q=O-p;if(H!=q){for(let de=0;de<H;de++){const Ie=de<y.length?y[de]:y[de]=0,Ke=Ie+de;q<=Ke&&Ke<H&&(y[de]=Ie+1)}y[E.previousIndex]=q-H}}I!==O&&n(E,I,O)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Dt(n))throw new Ye(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let p,y,E,i=this._itHead,c=!1;if(Array.isArray(n)){this.length=n.length;for(let I=0;I<this.length;I++)y=n[I],E=this._trackByFn(I,y),null!==i&&Object.is(i.trackById,E)?(c&&(i=this._verifyReinsertion(i,y,E,I)),Object.is(i.item,y)||this._addIdentityChange(i,y)):(i=this._mismatch(i,y,E,I),c=!0),i=i._next}else p=0,function Xi(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[If()]();let c;for(;!(c=i.next()).done;)n(c.value)}}(n,I=>{E=this._trackByFn(p,I),null!==i&&Object.is(i.trackById,E)?(c&&(i=this._verifyReinsertion(i,I,E,p)),Object.is(i.item,I)||this._addIdentityChange(i,I)):(i=this._mismatch(i,I,E,p),c=!0),i=i._next,p++}),this.length=p;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,c,p){let y;return null===n?y=this._itTail:(y=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,y,p)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(c,p))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,y,p)):n=this._addAfter(new jE(i,c),y,p),n}_verifyReinsertion(n,i,c,p){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==y?n=this._reinsertAfter(y,n._prev,p):n.currentIndex!=p&&(n.currentIndex=p,this._addToMoves(n,p)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const p=n._prevRemoved,y=n._nextRemoved;return null===p?this._removalsHead=y:p._nextRemoved=y,null===y?this._removalsTail=p:y._prevRemoved=p,this._insertAfter(n,i,c),this._addToMoves(n,c),n}_moveAfter(n,i,c){return this._unlink(n),this._insertAfter(n,i,c),this._addToMoves(n,c),n}_addAfter(n,i,c){return this._insertAfter(n,i,c),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,c){const p=null===i?this._itHead:i._next;return n._next=p,n._prev=i,null===p?this._itTail=n:p._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new H_),this._linkedRecords.put(n),n.currentIndex=c,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,c=n._next;return null===i?this._itHead=c:i._next=c,null===c?this._itTail=i:c._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new H_),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class jE{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class UE{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===i||i<=c.currentIndex)&&Object.is(c.trackById,n))return c;return null}remove(n){const i=n._prevDup,c=n._nextDup;return null===i?this._head=c:i._nextDup=c,null===c?this._tail=i:c._prevDup=i,null===this._head}}class H_{constructor(){this.map=new Map}put(n){const i=n.trackById;let c=this.map.get(i);c||(c=new UE,this.map.set(i,c)),c.add(n)}get(n,i){const p=this.map.get(n);return p?p.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function G_(t,n,i){const c=t.previousIndex;if(null===c)return c;let p=0;return i&&c<i.length&&(p=i[c]),c+n+p}class q_{constructor(){}supports(n){return n instanceof Map||Vl(n)}create(){return new BE}}class BE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Vl(n)))throw new Ye(900,"")}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(c,p)=>{if(i&&i.key===p)this._maybeAddToChanges(i,c),this._appendAfter=i,i=i._next;else{const y=this._getOrCreateRecordForKey(p,c);i=this._insertBeforeOrAppend(i,y)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let c=i;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const c=n._prev;return i._next=n,i._prev=c,n._prev=i,c&&(c._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const p=this._records.get(n);this._maybeAddToChanges(p,i);const y=p._prev,E=p._next;return y&&(y._next=E),E&&(E._prev=y),p._next=null,p._prev=null,p}const c=new HE(n);return this._records.set(n,c),c.currentValue=i,this._addToAdditions(c),c}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(c=>i(n[c],c))}}class HE{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $_(){return new xm([new B_])}let xm=(()=>{class t{constructor(i){this.factories=i}static create(i,c){if(null!=c){const p=c.factories.slice();i=i.concat(p)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||$_()),deps:[[t,new Qa,new Po]]}}find(i){const c=this.factories.find(p=>p.supports(i));if(null!=c)return c;throw new Ye(901,"")}}return t.\u0275prov=vt({token:t,providedIn:"root",factory:$_}),t})();function z_(){return new Pm([new q_])}let Pm=(()=>{class t{constructor(i){this.factories=i}static create(i,c){if(c){const p=c.factories.slice();i=i.concat(p)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||z_()),deps:[[t,new Qa,new Po]]}}find(i){const c=this.factories.find(y=>y.supports(i));if(c)return c;throw new Ye(901,"")}}return t.\u0275prov=vt({token:t,providedIn:"root",factory:z_}),t})();const $E=N_(null,"core",[{provide:D_,useValue:"unknown"},{provide:P_,deps:[yu]},{provide:M_,deps:[]},{provide:I_,deps:[]}]);let zE=(()=>{class t{constructor(i){}}return t.\u0275fac=function(i){return new(i||t)(xn(Am))},t.\u0275mod=Wr({type:t}),t.\u0275inj=_n({}),t})()}},wt=>{wt(wt.s=8887)}]);